import{r as d,l as De,j as r}from"./index-BF60aTHC.js";import{a as Se}from"./baseStatsHook-D5DAADlG.js";import{g as Ee}from"./gameUtils-rkfcKAVy.js";import{c as We}from"./datasyncExport-BirWLS1z.js";import{F as V}from"./FullscreenChart-CuDAR_Wx.js";import{b as Ce}from"./api-C8i_MSeD.js";import{b as Y,f as Q,ac as ue,ad as pe,ae as Ne,af as Le,ag as Me,ah as Re,W as he,X as te,ai as we,aj as Te,q as me,D as Oe,S as ve,Y as Ge,ak as Ve,al as Ke,am as ze,a0 as ge,a1 as Be,B as qe,an as _e,ao as $e,u as Fe,ap as Xe,c as Ye,aq as Je,Z as He,L as $,a2 as re,ar as ie,as as O,a5 as Ze,at as Ue,a6 as Qe,a9 as w,a4 as ea,au as aa,a7 as ta,a8 as ra,v as fe,s as ia,av as J,aw as F,ax as na,aa as sa,R as K,T as z}from"./CategoricalChart-Cm-XWyEv.js";import{g as la,L as oa,a as H}from"./LineChart-BMdTvgl7.js";import{u as ca,G as da,a as ua,C as B,X as q,Y as _}from"./CartesianChart-BQGMfrJS.js";import{L as ne}from"./Legend-Bpz5RYeV.js";import{s as ee,b as ae,B as pa,a as Z}from"./BarChart-BWYAHT7m.js";import{A as se,a as ha}from"./ActivePoints-BlzEqiXg.js";var ye=(e,a,t)=>ue(e,"xAxis",ee(e,a),t),xe=(e,a,t)=>pe(e,"xAxis",ee(e,a),t),je=(e,a,t)=>ue(e,"yAxis",ae(e,a),t),Ae=(e,a,t)=>pe(e,"yAxis",ae(e,a),t),ma=Y([Q,ye,je,xe,Ae],(e,a,t,i,n)=>he(e,"xAxis")?te(a,i,!1):te(t,n,!1)),va=(e,a)=>a,be=Y([we,va],(e,a)=>e.filter(t=>t.type==="area").find(t=>t.id===a)),Pe=e=>{var a=Q(e),t=he(a,"xAxis");return t?"yAxis":"xAxis"},ga=(e,a)=>{var t=Pe(e);return t==="yAxis"?ae(e,a):ee(e,a)},fa=(e,a,t)=>Me(e,Pe(e),ga(e,a),t),ya=Y([be,fa],(e,a)=>{var t;if(!(e==null||a==null)){var{stackId:i}=e,n=Re(e);if(!(i==null||n==null)){var o=(t=a[i])===null||t===void 0?void 0:t.stackedData,u=o?.find(l=>l.key===n);if(u!=null)return u.map(l=>[l[0],l[1]])}}}),xa=Y([Q,ye,je,xe,Ae,ya,Ne,ma,be,Le],(e,a,t,i,n,o,u,l,v,g)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:p}=u;if(!(v==null||e!=="horizontal"&&e!=="vertical"||a==null||t==null||i==null||n==null||i.length===0||n.length===0||l==null)){var{data:c}=v,s;if(c&&c.length>0?s=c:s=f?.slice(h,p+1),s!=null)return Ga({layout:e,xAxis:a,yAxis:t,xAxisTicks:i,yAxisTicks:n,dataStartIndex:h,areaSettings:v,stackedData:o,displayedData:s,chartBaseValue:g,bandSize:l})}}),ja=["id"],Aa=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},R.apply(null,arguments)}function Ie(e,a){if(e==null)return{};var t,i,n=ba(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function ba(e,a){if(e==null)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(a.indexOf(i)!==-1)continue;t[i]=e[i]}return t}function le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function T(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?le(Object(t),!0).forEach(function(i){Pa(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function Pa(e,a,t){return(a=Ia(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ia(e){var a=ka(e,"string");return typeof a=="symbol"?a:a+""}function ka(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function X(e,a){return e&&e!=="none"?e:a}var Da=e=>{var{dataKey:a,name:t,stroke:i,fill:n,legendType:o,hide:u}=e;return[{inactive:u,dataKey:a,type:o,color:X(i,n),value:ge(t,a),payload:e}]},Sa=d.memo(e=>{var{dataKey:a,data:t,stroke:i,strokeWidth:n,fill:o,name:u,hide:l,unit:v,tooltipType:g,id:f}=e,h={dataDefinedOnItem:t,getPosition:qe,settings:{stroke:i,strokeWidth:n,fill:o,dataKey:a,nameKey:void 0,name:ge(u,a),hide:l,type:g,color:X(i,o),unit:v,graphicalItemId:f}};return d.createElement(Be,{tooltipEntrySettings:h})});function Ea(e){var{clipPathId:a,points:t,props:i}=e,{needClip:n,dot:o,dataKey:u}=i,l=fe(i);return d.createElement(ha,{points:t,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:l,needClip:n,clipPathId:a})}function Wa(e){var{showLabels:a,children:t,points:i}=e,n=i.map(o=>{var u,l,v={x:(u=o.x)!==null&&u!==void 0?u:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return T(T({},v),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:v,fill:void 0})});return d.createElement(ra,{value:a?n:void 0},t)}function oe(e){var{points:a,baseLine:t,needClip:i,clipPathId:n,props:o}=e,{layout:u,type:l,stroke:v,connectNulls:g,isRange:f}=o,{id:h}=o,p=Ie(o,ja),c=fe(p),s=ia(p);return d.createElement(d.Fragment,null,a?.length>1&&d.createElement($,{clipPath:i?"url(#clipPath-".concat(n,")"):void 0},d.createElement(J,R({},s,{id:h,points:a,connectNulls:g,type:l,baseLine:t,layout:u,stroke:"none",className:"recharts-area-area"})),v!=="none"&&d.createElement(J,R({},c,{className:"recharts-area-curve",layout:u,type:l,connectNulls:g,fill:"none",points:a})),v!=="none"&&f&&d.createElement(J,R({},c,{className:"recharts-area-curve",layout:u,type:l,connectNulls:g,fill:"none",points:t}))),d.createElement(Ea,{points:a,props:p,clipPathId:n}))}function Ca(e){var a,t,{alpha:i,baseLine:n,points:o,strokeWidth:u}=e,l=(a=o[0])===null||a===void 0?void 0:a.y,v=(t=o[o.length-1])===null||t===void 0?void 0:t.y;if(!F(l)||!F(v))return null;var g=i*Math.abs(l-v),f=Math.max(...o.map(h=>h.x||0));return O(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.x||0),f)),O(f)?d.createElement("rect",{x:0,y:l<v?l:l-g,width:f+(u?parseInt("".concat(u),10):1),height:Math.floor(g)}):null}function Na(e){var a,t,{alpha:i,baseLine:n,points:o,strokeWidth:u}=e,l=(a=o[0])===null||a===void 0?void 0:a.x,v=(t=o[o.length-1])===null||t===void 0?void 0:t.x;if(!F(l)||!F(v))return null;var g=i*Math.abs(l-v),f=Math.max(...o.map(h=>h.y||0));return O(n)?f=Math.max(n,f):n&&Array.isArray(n)&&n.length&&(f=Math.max(...n.map(h=>h.y||0),f)),O(f)?d.createElement("rect",{x:l<v?l:l-g,y:0,width:g,height:Math.floor(f+(u?parseInt("".concat(u),10):1))}):null}function La(e){var{alpha:a,layout:t,points:i,baseLine:n,strokeWidth:o}=e;return t==="vertical"?d.createElement(Ca,{alpha:a,points:i,baseLine:n,strokeWidth:o}):d.createElement(Na,{alpha:a,points:i,baseLine:n,strokeWidth:o})}function Ma(e){var{needClip:a,clipPathId:t,props:i,previousPointsRef:n,previousBaselineRef:o}=e,{points:u,baseLine:l,isAnimationActive:v,animationBegin:g,animationDuration:f,animationEasing:h,onAnimationStart:p,onAnimationEnd:c}=i,s=d.useMemo(()=>({points:u,baseLine:l}),[u,l]),m=Ze(s,"recharts-area-"),y=Ue(),[x,j]=d.useState(!1),b=!x,A=d.useCallback(()=>{typeof c=="function"&&c(),j(!1)},[c]),I=d.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);if(y==null)return null;var P=n.current,D=o.current;return d.createElement(Wa,{showLabels:b,points:u},i.children,d.createElement(Qe,{animationId:m,begin:g,duration:f,isActive:v,easing:h,onAnimationEnd:A,onAnimationStart:I,key:m},k=>{if(P){var E=P.length/u.length,L=k===1?u:u.map((S,N)=>{var M=Math.floor(N*E);if(P[M]){var G=P[M];return T(T({},S),{},{x:w(G.x,S.x,k),y:w(G.y,S.y,k)})}return S}),C;return O(l)?C=w(D,l,k):ea(l)||aa(l)?C=w(D,0,k):C=l.map((S,N)=>{var M=Math.floor(N*E);if(Array.isArray(D)&&D[M]){var G=D[M];return T(T({},S),{},{x:w(G.x,S.x,k),y:w(G.y,S.y,k)})}return S}),k>0&&(n.current=L,o.current=C),d.createElement(oe,{points:L,baseLine:C,needClip:a,clipPathId:t,props:i})}return k>0&&(n.current=u,o.current=l),d.createElement($,null,v&&d.createElement("defs",null,d.createElement("clipPath",{id:"animationClipPath-".concat(t)},d.createElement(La,{alpha:k,points:u,baseLine:l,layout:y,strokeWidth:i.strokeWidth}))),d.createElement($,{clipPath:"url(#animationClipPath-".concat(t,")")},d.createElement(oe,{points:u,baseLine:l,needClip:a,clipPathId:t,props:i})))}),d.createElement(ta,{label:i.label}))}function Ra(e){var{needClip:a,clipPathId:t,props:i}=e,n=d.useRef(null),o=d.useRef();return d.createElement(Ma,{needClip:a,clipPathId:t,props:i,previousPointsRef:n,previousBaselineRef:o})}class wa extends d.PureComponent{render(){var{hide:a,dot:t,points:i,className:n,top:o,left:u,needClip:l,xAxisId:v,yAxisId:g,width:f,height:h,id:p,baseLine:c,zIndex:s}=this.props;if(a)return null;var m=Ye("recharts-area",n),y=p,{r:x,strokeWidth:j}=la(t),b=Je(t),A=x*2+j,I=l?"url(#clipPath-".concat(b?"":"dots-").concat(y,")"):void 0;return d.createElement(He,{zIndex:s},d.createElement($,{className:m},l&&d.createElement("defs",null,d.createElement(da,{clipPathId:y,xAxisId:v,yAxisId:g}),!b&&d.createElement("clipPath",{id:"clipPath-dots-".concat(y)},d.createElement("rect",{x:u-A/2,y:o-A/2,width:f+A,height:h+A}))),d.createElement(Ra,{needClip:l,clipPathId:y,props:this.props})),d.createElement(se,{points:i,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(c)&&d.createElement(se,{points:c,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var ke={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Oe.area};function Ta(e){var a,t=me(e,ke),{activeDot:i,animationBegin:n,animationDuration:o,animationEasing:u,connectNulls:l,dot:v,fill:g,fillOpacity:f,hide:h,isAnimationActive:p,legendType:c,stroke:s,xAxisId:m,yAxisId:y}=t,x=Ie(t,Aa),j=_e(),b=$e(),{needClip:A}=ca(m,y),I=ve(),{points:P,isRange:D,baseLine:k}=(a=Fe(M=>xa(M,e.id,I)))!==null&&a!==void 0?a:{},E=Xe();if(j!=="horizontal"&&j!=="vertical"||E==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:L,width:C,x:S,y:N}=E;return!P||!P.length?null:d.createElement(wa,R({},x,{activeDot:i,animationBegin:n,animationDuration:o,animationEasing:u,baseLine:k,connectNulls:l,dot:v,fill:g,fillOpacity:f,height:L,hide:h,layout:j,isAnimationActive:p==="auto"?!na.isSsr:p,isRange:D,legendType:c,needClip:A,points:P,stroke:s,width:C,left:S,top:N,xAxisId:m,yAxisId:y}))}var Oa=(e,a,t,i,n)=>{var o=t??a;if(O(o))return o;var u=e==="horizontal"?n:i,l=u.scale.domain();if(u.type==="number"){var v=Math.max(l[0],l[1]),g=Math.min(l[0],l[1]);return o==="dataMin"?g:o==="dataMax"||v<0?v:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function Ga(e){var{areaSettings:{connectNulls:a,baseValue:t,dataKey:i},stackedData:n,layout:o,chartBaseValue:u,xAxis:l,yAxis:v,displayedData:g,dataStartIndex:f,xAxisTicks:h,yAxisTicks:p,bandSize:c}=e,s=n&&n.length,m=Oa(o,u,t,l,v),y=o==="horizontal",x=!1,j=g.map((A,I)=>{var P,D,k,E;if(s)E=n[f+I];else{var L=re(A,i);Array.isArray(L)?(E=L,x=!0):E=[m,L]}var C=(P=(D=E)===null||D===void 0?void 0:D[1])!==null&&P!==void 0?P:null,S=C==null||s&&!a&&re(A,i)==null;if(y){var N;return{x:ie({axis:l,ticks:h,bandSize:c,entry:A,index:I}),y:S?null:(N=v.scale.map(C))!==null&&N!==void 0?N:null,value:E,payload:A}}return{x:S?null:(k=l.scale.map(C))!==null&&k!==void 0?k:null,y:ie({axis:v,ticks:p,bandSize:c,entry:A,index:I}),value:E,payload:A}}),b;return s||x?b=j.map(A=>{var I,P=Array.isArray(A.value)?A.value[0]:null;if(y){var D;return{x:A.x,y:P!=null&&A.y!=null&&(D=v.scale.map(P))!==null&&D!==void 0?D:null,payload:A.payload}}return{x:P!=null&&(I=l.scale.map(P))!==null&&I!==void 0?I:null,y:A.y,payload:A.payload}}):b=y?v.scale.map(m):l.scale.map(m),{points:j,baseLine:b??0,isRange:x}}function Va(e){var a=me(e,ke),t=ve();return d.createElement(Ge,{id:a.id,type:"area"},i=>d.createElement(d.Fragment,null,d.createElement(Ve,{legendPayload:Da(a)}),d.createElement(Sa,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:i}),d.createElement(Ke,{type:"area",id:i,data:a.data,dataKey:a.dataKey,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,stackId:ze(a.stackId),hide:a.hide,barSize:void 0,baseValue:a.baseValue,isPanorama:t,connectNulls:a.connectNulls}),d.createElement(Ta,R({},a,{id:i}))))}var U=d.memo(Va,Te);U.displayName="Area";var Ka=["axis"],ce=d.forwardRef((e,a)=>d.createElement(ua,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ka,tooltipPayloadSearcher:sa,categoricalChartProps:e,ref:a}));function za(e){if(!e||e.length===0)return null;const a=e.map(t=>{const i=Ee(t),n=We(t.StartDate,t.EndDate)||0,o=De(new Date(t.StartDate));return{gameId:t.Id,date:o,mapName:t.MapName,playerCount:t.PlayerStats.length,winnerCamp:i,duration:n,modded:t.Modded}});return a.sort((t,i)=>{const n=o=>{const u=o.split("/");return u.length===3?new Date(parseInt(u[2]),parseInt(u[1])-1,parseInt(u[0])):new Date(o)};return n(i.date).getTime()-n(t.date).getTime()}),{totalGames:a.length,games:a,periodData:[]}}function Ba(){const{data:e,isLoading:a,error:t}=Se(za);return{data:e,isLoading:a,error:t}}function W(e,a){return a[e==="Loup"?"Loup":e]||"#808080"}function de(e){return e==="Villageois"||e==="Chasseur"||e==="Alchimiste"||e==="Villageois Élite"||e==="Protecteur"||e==="Disciple"||e==="Inquisiteur"?"Villageois":e==="Loup"||e==="Louveteau"||e==="Traître"?"Loup":"Solo"}function at(){const{data:e,isLoading:a,error:t}=Ba(),i=Ce(),[n,o]=d.useState("month"),u=d.useMemo(()=>{switch(n){case"month":return"par Mois";case"quarter":return"par Trimestre";case"year":return"par Année";default:return"par Session"}},[n]),l=d.useMemo(()=>{if(!e?.games)return new Map;const p=new Map;return e.games.forEach(c=>{if(!p.has(c.date)){const s=c.date.split("/");s.length===3?p.set(c.date,new Date(parseInt(s[2]),parseInt(s[1])-1,parseInt(s[0])).getTime()):p.set(c.date,new Date(c.date).getTime())}}),p},[e?.games]),v=d.useMemo(()=>{if(!e?.games)return[];const p={};return e.games.forEach(c=>{let s;const m=c.date.split("/");if(n==="month")if(m.length===3)s=`${m[1].padStart(2,"0")}/${m[2]}`;else{const x=new Date(c.date);s=`${String(x.getMonth()+1).padStart(2,"0")}/${x.getFullYear()}`}else if(n==="quarter")if(m.length===3){const x=parseInt(m[1],10);s=`T${Math.floor((x-1)/3)+1}/${m[2]}`}else{const x=new Date(c.date);s=`T${Math.floor(x.getMonth()/3)+1}/${x.getFullYear()}`}else n==="year"?m.length===3?s=`${m[2]}`:s=`${new Date(c.date).getFullYear()}`:s=c.date;p[s]||(p[s]={games:[],totalPlayers:0,totalDuration:0,campWins:{Villageois:0,Loup:0,Solo:0}}),p[s].games.push(c),p[s].totalPlayers+=c.playerCount,p[s].totalDuration+=c.duration;const y=de(c.winnerCamp);p[s].campWins[y]++}),Object.entries(p).map(([c,s])=>{const m=s.games.length,y=s.campWins.Villageois,x=s.campWins.Loup,j=s.campWins.Solo;return{period:c,totalGames:m,averagePlayers:m>0?Math.round(s.totalPlayers/m*10)/10:0,averageDuration:m>0?Math.round(s.totalDuration/m/60*10)/10:0,villageoisWins:y,loupWins:x,soloWins:j,villageoisWinRate:m>0?Math.round(y/m*1e3)/10:0,loupWinRate:m>0?Math.round(x/m*1e3)/10:0,soloWinRate:m>0?Math.round(j/m*1e3)/10:0}}).sort((c,s)=>{if(n==="month"){const[m,y]=c.period.split("/"),[x,j]=s.period.split("/"),b=new Date(parseInt(y),parseInt(m)-1,1),A=new Date(parseInt(j),parseInt(x)-1,1);return b.getTime()-A.getTime()}else if(n==="quarter"){const[m,y]=c.period.split("/"),[x,j]=s.period.split("/"),b=parseInt(m.replace(/\D/g,""),10)||1,A=parseInt(x.replace(/\D/g,""),10)||1,I=new Date(parseInt(y,10),(b-1)*3,1),P=new Date(parseInt(j,10),(A-1)*3,1);return I.getTime()-P.getTime()}else if(n==="year"){const m=parseInt(c.period,10),y=parseInt(s.period,10);return m-y}else{const m=l.get(c.period)||0,y=l.get(s.period)||0;return m-y}})},[e,n,l]),g=d.useMemo(()=>{if(!e?.games||e.games.length===0)return null;const p=e.games.length,c=e.games.reduce((j,b)=>j+b.playerCount,0),s=e.games.reduce((j,b)=>j+b.duration,0);let m=0,y=0,x=0;return e.games.forEach(j=>{const b=de(j.winnerCamp);b==="Villageois"?m++:b==="Loup"?y++:x++}),{totalGames:p,averagePlayers:Math.round(c/p*10)/10,averageDuration:Math.round(s/p/60),villageoisWinRate:Math.round(m/p*1e3)/10,loupWinRate:Math.round(y/p*1e3)/10,soloWinRate:Math.round(x/p*1e3)/10}},[e]),h=(p=>p<=15?{fontSize:12,angle:-45,height:80,interval:0,tickMargin:13}:p<=30?{fontSize:12,angle:-45,height:85,interval:1,tickMargin:13}:p<=50?{fontSize:12,angle:-60,height:95,interval:2,tickMargin:15}:{fontSize:12,angle:-75,height:105,interval:Math.floor(p/12),tickMargin:17})(v.length);return a?r.jsx("div",{className:"donnees-attente",children:"Chargement de l'historique des parties..."}):t?r.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",t]}):e?r.jsxs("div",{className:"lycans-camps-container",children:[r.jsx("h2",{children:"Évolution des Parties"}),g&&r.jsxs("div",{className:"lycans-resume-conteneur",children:[r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Total Parties"}),r.jsx("p",{className:"lycans-stat-valeur",children:g.totalGames})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Joueurs / Partie"}),r.jsx("p",{className:"lycans-stat-valeur",children:g.averagePlayers})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Durée Moyenne"}),r.jsxs("p",{className:"lycans-stat-valeur",children:[g.averageDuration," min"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Villageois"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:W("Villageois",i)},children:[g.villageoisWinRate,"%"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Loups"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:W("Loup",i)},children:[g.loupWinRate,"%"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Solo"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:"#808080"},children:[g.soloWinRate,"%"]})]})]}),r.jsxs("div",{className:"lycans-filtres-conteneur",style:{marginBottom:"1rem"},children:[r.jsx("label",{style:{marginRight:"0.5rem",fontWeight:"bold"},children:"Grouper :"}),r.jsxs("select",{value:n,onChange:p=>o(p.target.value),className:"lycans-select",children:[r.jsx("option",{value:"session",children:"Par Session"}),r.jsx("option",{value:"month",children:"Par Mois"}),r.jsx("option",{value:"quarter",children:"Par Trimestre"}),r.jsx("option",{value:"year",children:"Par Année"})]})]}),r.jsxs("div",{className:"lycans-graphiques-groupe",children:[r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution des Victoires par Camp ",u]}),r.jsx(V,{title:`Évolution des Victoires par Camp ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(K,{width:"100%",height:"100%",children:r.jsxs(oa,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(B,{strokeDasharray:"3 3"}),r.jsx(q,{dataKey:"period",angle:h.angle,textAnchor:"end",height:h.height,interval:h.interval,fontSize:h.fontSize,tickMargin:h.tickMargin}),r.jsx(_,{label:{value:"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),r.jsx(z,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{style:{color:W("Villageois",i)},children:["Villageois: ",s.villageoisWinRate,"% (",s.villageoisWins,")"]}),r.jsxs("div",{style:{color:W("Loup",i)},children:["Loups: ",s.loupWinRate,"% (",s.loupWins,")"]}),r.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWinRate,"% (",s.soloWins,")"]})]})}return null}}),r.jsx(ne,{}),r.jsx(H,{type:"monotone",dataKey:"villageoisWinRate",stroke:W("Villageois",i),strokeWidth:2,dot:{fill:W("Villageois",i),strokeWidth:2,r:4},name:"Villageois (%)"}),r.jsx(H,{type:"monotone",dataKey:"loupWinRate",stroke:W("Loup",i),strokeWidth:2,dot:{fill:W("Loup",i),strokeWidth:2,r:4},name:"Loups (%)"}),r.jsx(H,{type:"monotone",dataKey:"soloWinRate",stroke:"#808080",strokeWidth:2,dot:{fill:"#808080",strokeWidth:2,r:4},name:"Solo (%)"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Répartition des Victoires ",u]}),r.jsx(V,{title:`Répartition des Victoires ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(K,{width:"100%",height:"100%",children:r.jsxs(pa,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(B,{strokeDasharray:"3 3"}),r.jsx(q,{dataKey:"period",angle:h.angle,textAnchor:"end",height:h.height,interval:h.interval,fontSize:h.fontSize,tickMargin:h.tickMargin}),r.jsx(_,{label:{value:"Nombre de victoires",angle:270,position:"left",style:{textAnchor:"middle"}},allowDecimals:!1}),r.jsx(z,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Total: ",s.totalGames," parties"]}),r.jsxs("div",{style:{color:W("Villageois",i)},children:["Villageois: ",s.villageoisWins]}),r.jsxs("div",{style:{color:W("Loup",i)},children:["Loups: ",s.loupWins]}),r.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWins]})]})}return null}}),r.jsx(ne,{}),r.jsx(Z,{dataKey:"villageoisWins",stackId:"wins",fill:W("Villageois",i),name:"Villageois"}),r.jsx(Z,{dataKey:"loupWins",stackId:"wins",fill:W("Loup",i),name:"Loups"}),r.jsx(Z,{dataKey:"soloWins",stackId:"wins",fill:"#808080",name:"Solo"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution du Nombre de Joueurs ",u]}),r.jsx(V,{title:`Évolution du Nombre de Joueurs ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(K,{width:"100%",height:"100%",children:r.jsxs(ce,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(B,{strokeDasharray:"3 3"}),r.jsx(q,{dataKey:"period",angle:h.angle,textAnchor:"end",height:h.height,interval:h.interval,fontSize:h.fontSize,tickMargin:h.tickMargin}),r.jsx(_,{label:{value:"Joueurs moyens",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(z,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{children:["Joueurs moyens: ",s.averagePlayers]})]})}return null}}),r.jsx(U,{type:"monotone",dataKey:"averagePlayers",stroke:"var(--accent-secondary)",fill:"var(--accent-secondary)",fillOpacity:.3,name:"Joueurs moyens"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution de la Durée des Parties ",u]}),r.jsx(V,{title:`Évolution de la Durée des Parties ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(K,{width:"100%",height:"100%",children:r.jsxs(ce,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(B,{strokeDasharray:"3 3"}),r.jsx(q,{dataKey:"period",angle:h.angle,textAnchor:"end",height:h.height,interval:h.interval,fontSize:h.fontSize,tickMargin:h.tickMargin}),r.jsx(_,{label:{value:"Durée moyenne (min)",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(z,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{children:["Durée moyenne: ",s.averageDuration," min"]})]})}return null}}),r.jsx(U,{type:"monotone",dataKey:"averageDuration",stroke:"var(--chart-color-3)",fill:"var(--chart-color-3)",fillOpacity:.3,name:"Durée moyenne (min)"})]})})})})]})]})]}):r.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée d'historique disponible"})}export{at as GlobalGameHistoryChart};
