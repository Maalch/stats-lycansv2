import{g as O,f as A,u as T,a as k,r as y,p as z,j as r,m as R}from"./index-DU0g2egT.js";import{u as M}from"./baseStatsHook-IMhYKu7a.js";import{a as J,b as $}from"./datasyncExport-BirWLS1z.js";import{u as q}from"./useJoueursData-0BKQZb6Q.js";import{u as H,C as B}from"./api-DcGGoZNB.js";import{F as U,C as _,X as K,Y as X,a as Y}from"./FullscreenChart-BSrMI_6N.js";import{R as Q,T as Z}from"./CategoricalChart-gWtQ5Jxs.js";import{B as ee,a as re}from"./BarChart-D1NGebWa.js";function se(e){const t=new Map;return e.forEach(g=>{g.PlayerStats.forEach(c=>{const a=O(c),d=c.Username;t.set(a,d)})}),t}function ie(e){const t={};return e.forEach((g,c)=>{t[c]={currentVillageoisSeries:0,currentLoupsSeries:0,currentNoWolfSeries:0,currentSoloSeries:0,longestVillageoisSeries:null,longestLoupsSeries:null,longestNoWolfSeries:null,longestSoloSeries:null,currentWinSeries:0,longestWinSeries:null,currentWinCamps:[],currentLossSeries:0,longestLossSeries:null,currentLossCamps:[],currentDeathSeries:0,longestDeathSeries:null,currentDeathCamps:[],currentSurvivalSeries:0,longestSurvivalSeries:null,currentSurvivalCamps:[],currentNoWolfCamps:[],currentSoloCamps:[],lastCamp:null,lastWon:!1,lastDied:!1,villageoisSeriesStart:null,loupsSeriesStart:null,noWolfSeriesStart:null,soloSeriesStart:null,winSeriesStart:null,lossSeriesStart:null,deathSeriesStart:null,survivalSeriesStart:null,currentVillageoisGameIds:[],currentLoupsGameIds:[],currentNoWolfGameIds:[],currentSoloGameIds:[],currentWinGameIds:[],currentLossGameIds:[],currentDeathGameIds:[],currentSurvivalGameIds:[]}}),t}function ne(e,t,g,c,a){if(g==="Villageois"||g==="Loup"?(g==="Villageois"&&(e.lastCamp==="Villageois"?(e.currentVillageoisSeries++,e.currentVillageoisGameIds.push(c)):(e.currentVillageoisSeries=1,e.villageoisSeriesStart={game:c,date:a},e.currentVillageoisGameIds=[c]),(!e.longestVillageoisSeries||e.currentVillageoisSeries>=e.longestVillageoisSeries.seriesLength)&&(e.longestVillageoisSeries={player:t,camp:"Villageois",seriesLength:e.currentVillageoisSeries,startGame:e.villageoisSeriesStart?.game||c,endGame:c,startDate:e.villageoisSeriesStart?.date||a,endDate:a,isOngoing:!1,gameIds:[...e.currentVillageoisGameIds]}),e.currentLoupsSeries=0,e.loupsSeriesStart=null,e.currentLoupsGameIds=[]),g==="Loup"&&(e.lastCamp==="Loup"?(e.currentLoupsSeries++,e.currentLoupsGameIds.push(c)):(e.currentLoupsSeries=1,e.loupsSeriesStart={game:c,date:a},e.currentLoupsGameIds=[c]),(!e.longestLoupsSeries||e.currentLoupsSeries>=e.longestLoupsSeries.seriesLength)&&(e.longestLoupsSeries={player:t,camp:"Loups",seriesLength:e.currentLoupsSeries,startGame:e.loupsSeriesStart?.game||c,endGame:c,startDate:e.loupsSeriesStart?.date||a,endDate:a,isOngoing:!1,gameIds:[...e.currentLoupsGameIds]}),e.currentVillageoisSeries=0,e.villageoisSeriesStart=null,e.currentVillageoisGameIds=[],e.currentNoWolfSeries=0,e.noWolfSeriesStart=null,e.currentNoWolfGameIds=[],e.currentNoWolfCamps=[]),e.lastCamp=g):(e.currentVillageoisSeries=0,e.currentLoupsSeries=0,e.villageoisSeriesStart=null,e.loupsSeriesStart=null,e.currentVillageoisGameIds=[],e.currentLoupsGameIds=[],e.lastCamp="Autres"),g!=="Loup"){e.currentNoWolfSeries>0?(e.currentNoWolfSeries++,e.currentNoWolfGameIds.push(c),e.currentNoWolfCamps.push(g)):(e.currentNoWolfSeries=1,e.noWolfSeriesStart={game:c,date:a},e.currentNoWolfGameIds=[c],e.currentNoWolfCamps=[g]);const d={};e.currentNoWolfCamps.forEach(u=>{d[u]=(d[u]||0)+1}),(!e.longestNoWolfSeries||e.currentNoWolfSeries>=e.longestNoWolfSeries.seriesLength)&&(e.longestNoWolfSeries={player:t,camp:"Sans Loups",seriesLength:e.currentNoWolfSeries,startGame:e.noWolfSeriesStart?.game||c,endGame:c,startDate:e.noWolfSeriesStart?.date||a,endDate:a,campCounts:d,isOngoing:!1,gameIds:[...e.currentNoWolfGameIds]})}}function oe(e,t,g,c,a,d){if(g==="Autres"){e.currentSoloSeries>0?(e.currentSoloSeries++,e.currentSoloGameIds.push(a),e.currentSoloCamps.push(c)):(e.currentSoloSeries=1,e.soloSeriesStart={game:a,date:d},e.currentSoloGameIds=[a],e.currentSoloCamps=[c]);const u={};e.currentSoloCamps.forEach(n=>{u[n]=(u[n]||0)+1}),(!e.longestSoloSeries||e.currentSoloSeries>=e.longestSoloSeries.seriesLength)&&(e.longestSoloSeries={player:t,camp:"R√¥les Solos",seriesLength:e.currentSoloSeries,startGame:e.soloSeriesStart?.game||a,endGame:a,startDate:e.soloSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentSoloGameIds]})}else e.currentSoloSeries=0,e.soloSeriesStart=null,e.currentSoloGameIds=[],e.currentSoloCamps=[]}function le(e,t,g,c,a,d){if(g){if(e.lastWon?(e.currentWinSeries++,e.currentWinCamps.push(c),e.currentWinGameIds.push(a)):(e.currentWinSeries=1,e.currentWinCamps=[c],e.winSeriesStart={game:a,date:d},e.currentWinGameIds=[a]),!e.longestWinSeries||e.currentWinSeries>=e.longestWinSeries.seriesLength){const u={};e.currentWinCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestWinSeries={player:t,seriesLength:e.currentWinSeries,startGame:e.winSeriesStart?.game||a,endGame:a,startDate:e.winSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentWinGameIds]}}e.lastWon=!0}else e.currentWinSeries=0,e.currentWinCamps=[],e.winSeriesStart=null,e.currentWinGameIds=[],e.lastWon=!1}function te(e,t,g,c,a,d){if(g)e.currentLossSeries=0,e.currentLossCamps=[],e.lossSeriesStart=null,e.currentLossGameIds=[];else if(e.currentLossSeries>0?(e.currentLossSeries++,e.currentLossCamps.push(c),e.currentLossGameIds.push(a)):(e.currentLossSeries=1,e.currentLossCamps=[c],e.lossSeriesStart={game:a,date:d},e.currentLossGameIds=[a]),!e.longestLossSeries||e.currentLossSeries>=e.longestLossSeries.seriesLength){const u={};e.currentLossCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestLossSeries={player:t,seriesLength:e.currentLossSeries,startGame:e.lossSeriesStart?.game||a,endGame:a,startDate:e.lossSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentLossGameIds]}}}function ce(e,t,g,c,a,d){if(g){if(e.currentDeathSeries===0&&(e.deathSeriesStart={game:a,date:d},e.currentDeathGameIds=[]),e.currentDeathSeries++,e.currentDeathCamps.push(c),e.currentDeathGameIds.push(a),!e.longestDeathSeries||e.currentDeathSeries>e.longestDeathSeries.seriesLength){const u={};e.currentDeathCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestDeathSeries={player:t,seriesLength:e.currentDeathSeries,startGame:e.deathSeriesStart.game,endGame:a,startDate:e.deathSeriesStart.date,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentDeathGameIds]}}}else e.currentDeathSeries=0,e.currentDeathCamps=[],e.deathSeriesStart=null,e.currentDeathGameIds=[]}function ae(e,t,g,c,a,d){if(g)e.currentSurvivalSeries=0,e.currentSurvivalCamps=[],e.survivalSeriesStart=null,e.currentSurvivalGameIds=[];else if(e.currentSurvivalSeries===0&&(e.survivalSeriesStart={game:a,date:d},e.currentSurvivalGameIds=[]),e.currentSurvivalSeries++,e.currentSurvivalCamps.push(c),e.currentSurvivalGameIds.push(a),!e.longestSurvivalSeries||e.currentSurvivalSeries>e.longestSurvivalSeries.seriesLength){const u={};e.currentSurvivalCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestSurvivalSeries={player:t,seriesLength:e.currentSurvivalSeries,startGame:e.survivalSeriesStart.game,endGame:a,startDate:e.survivalSeriesStart.date,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentSurvivalGameIds]}}}function ue(e){const t=[],g=[],c=[],a=[],d=[],u=[],n=[],p=[];return Object.values(e).forEach(i=>{i.longestVillageoisSeries&&t.push(i.longestVillageoisSeries),i.longestLoupsSeries&&g.push(i.longestLoupsSeries),i.longestNoWolfSeries&&c.push(i.longestNoWolfSeries),i.longestSoloSeries&&a.push(i.longestSoloSeries),i.longestWinSeries&&d.push(i.longestWinSeries),i.longestLossSeries&&u.push(i.longestLossSeries),i.longestDeathSeries&&n.push(i.longestDeathSeries),i.longestSurvivalSeries&&p.push(i.longestSurvivalSeries)}),t.sort((i,m)=>m.seriesLength-i.seriesLength),g.sort((i,m)=>m.seriesLength-i.seriesLength),c.sort((i,m)=>m.seriesLength-i.seriesLength),a.sort((i,m)=>m.seriesLength-i.seriesLength),d.sort((i,m)=>m.seriesLength-i.seriesLength),u.sort((i,m)=>m.seriesLength-i.seriesLength),n.sort((i,m)=>m.seriesLength-i.seriesLength),p.sort((i,m)=>m.seriesLength-i.seriesLength),{allVillageoisSeries:t,allLoupsSeries:g,allNoWolfSeries:c,allSoloSeries:a,allWinSeries:d,allLossSeries:u,allDeathSeries:n,allSurvivalSeries:p}}function ge(e,t){const g=[],c=[],a=[],d=[],u=[],n=[],p=[],i=[];Object.values(e).forEach(o=>{g.push(o.longestVillageoisSeries?.seriesLength||0),c.push(o.longestLoupsSeries?.seriesLength||0),a.push(o.longestNoWolfSeries?.seriesLength||0),d.push(o.longestSoloSeries?.seriesLength||0),u.push(o.longestWinSeries?.seriesLength||0),n.push(o.longestLossSeries?.seriesLength||0),p.push(o.longestDeathSeries?.seriesLength||0),i.push(o.longestSurvivalSeries?.seriesLength||0)});const m=t>0?g.reduce((o,s)=>o+s,0)/t:0,b=t>0?c.reduce((o,s)=>o+s,0)/t:0,x=t>0?a.reduce((o,s)=>o+s,0)/t:0,V=t>0?d.reduce((o,s)=>o+s,0)/t:0,C=t>0?u.reduce((o,s)=>o+s,0)/t:0,L=t>0?n.reduce((o,s)=>o+s,0)/t:0,f=t>0?p.reduce((o,s)=>o+s,0)/t:0,D=t>0?i.reduce((o,s)=>o+s,0)/t:0,j=g.filter(o=>o>=5).length,N=c.filter(o=>o>=3).length,W=a.filter(o=>o>=5).length,G=d.filter(o=>o>=3).length,w=u.filter(o=>o>=5).length,P=n.filter(o=>o>=5).length,E=p.filter(o=>o>=5).length,l=i.filter(o=>o>=5).length;return{averageVillageoisSeries:Math.round(m*10)/10,averageLoupsSeries:Math.round(b*10)/10,averageNoWolfSeries:Math.round(x*10)/10,averageSoloSeries:Math.round(V*10)/10,averageWinSeries:Math.round(C*10)/10,averageLossSeries:Math.round(L*10)/10,averageDeathSeries:Math.round(f*10)/10,averageSurvivalSeries:Math.round(D*10)/10,eliteVillageoisCount:j,eliteLoupsCount:N,eliteNoWolfCount:W,eliteSoloCount:G,eliteWinCount:w,eliteLossCount:P,eliteDeathCount:E,eliteSurvivalCount:l}}function de(e){if(e.length===0)return null;const t=[...e].sort((i,m)=>parseInt(i.DisplayedId)-parseInt(m.DisplayedId)),g=se(t),c=ie(g);t.forEach(i=>{const m=i.DisplayedId,b=new Date(i.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.PlayerStats.forEach(x=>{const V=O(x),C=x.Username;g.set(V,C);const L=c[V];if(!L)return;const f=J(x.MainRoleInitial,x.MainRoleChanges||[]),D=$(f,x.Power),j=x.Victorious,N=x.DeathTiming!==null;ne(L,C,D,m,b),oe(L,C,D,f,m,b),le(L,C,j,D,m,b),te(L,C,j,D,m,b),ce(L,C,N,D,m,b),ae(L,C,N,D,m,b),L.lastDied=N})});const a=ue(c);Object.values(c).forEach(i=>{i.longestVillageoisSeries&&i.currentVillageoisSeries===i.longestVillageoisSeries.seriesLength&&i.currentVillageoisSeries>0&&(i.longestVillageoisSeries.isOngoing=!0),i.longestLoupsSeries&&i.currentLoupsSeries===i.longestLoupsSeries.seriesLength&&i.currentLoupsSeries>0&&(i.longestLoupsSeries.isOngoing=!0),i.longestNoWolfSeries&&i.currentNoWolfSeries===i.longestNoWolfSeries.seriesLength&&i.currentNoWolfSeries>0&&(i.longestNoWolfSeries.isOngoing=!0),i.longestSoloSeries&&i.currentSoloSeries===i.longestSoloSeries.seriesLength&&i.currentSoloSeries>0&&(i.longestSoloSeries.isOngoing=!0),i.longestWinSeries&&i.currentWinSeries===i.longestWinSeries.seriesLength&&i.currentWinSeries>0&&(i.longestWinSeries.isOngoing=!0),i.longestLossSeries&&i.currentLossSeries===i.longestLossSeries.seriesLength&&i.currentLossSeries>0&&(i.longestLossSeries.isOngoing=!0),i.longestDeathSeries&&i.currentDeathSeries===i.longestDeathSeries.seriesLength&&i.currentDeathSeries>0&&(i.longestDeathSeries.isOngoing=!0),i.longestSurvivalSeries&&i.currentSurvivalSeries===i.longestSurvivalSeries.seriesLength&&i.currentSurvivalSeries>0&&(i.longestSurvivalSeries.isOngoing=!0)});const d=ge(c,g.size),{currentSeries:u,activeCounts:n,ongoingCounts:p}=he(c,t);return{...a,...u,totalGamesAnalyzed:t.length,totalPlayersCount:g.size,...n,...p,...d}}function he(e,t){let g=0,c=0,a=0,d=0,u=0,n=0,p=0,i=0,m=0,b=0,x=0,V=0,C=0,L=0,f=0,D=0;const j=[],N=[],W=[],G=[],w=[],P=[],E=[],l=[];return Object.entries(e).forEach(([o,s])=>{const h=s.longestVillageoisSeries?.player||s.longestLoupsSeries?.player||s.longestNoWolfSeries?.player||s.longestWinSeries?.player||s.longestLossSeries?.player||o,v=S=>{const I={};return S.forEach(F=>{I[F]=(I[F]||0)+1}),I};s.currentVillageoisSeries>0&&(g++,j.push({player:h,camp:"Villageois",seriesLength:s.currentVillageoisSeries,startGame:s.villageoisSeriesStart?.game||"",endGame:s.currentVillageoisGameIds[s.currentVillageoisGameIds.length-1]||"",startDate:s.villageoisSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),isOngoing:!0,gameIds:[...s.currentVillageoisGameIds]})),s.currentLoupsSeries>0&&(c++,N.push({player:h,camp:"Loups",seriesLength:s.currentLoupsSeries,startGame:s.loupsSeriesStart?.game||"",endGame:s.currentLoupsGameIds[s.currentLoupsGameIds.length-1]||"",startDate:s.loupsSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),isOngoing:!0,gameIds:[...s.currentLoupsGameIds]})),s.currentNoWolfSeries>0&&(a++,W.push({player:h,camp:"Sans Loups",seriesLength:s.currentNoWolfSeries,startGame:s.noWolfSeriesStart?.game||"",endGame:s.currentNoWolfGameIds[s.currentNoWolfGameIds.length-1]||"",startDate:s.noWolfSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentNoWolfCamps),isOngoing:!0,gameIds:[...s.currentNoWolfGameIds]})),s.currentSoloSeries>0&&(d++,G.push({player:h,camp:"R√¥les Solos",seriesLength:s.currentSoloSeries,startGame:s.soloSeriesStart?.game||"",endGame:s.currentSoloGameIds[s.currentSoloGameIds.length-1]||"",startDate:s.soloSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentSoloCamps),isOngoing:!0,gameIds:[...s.currentSoloGameIds]})),s.currentWinSeries>0&&(u++,w.push({player:h,seriesLength:s.currentWinSeries,startGame:s.winSeriesStart?.game||"",endGame:s.currentWinGameIds[s.currentWinGameIds.length-1]||"",startDate:s.winSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentWinCamps),isOngoing:!0,gameIds:[...s.currentWinGameIds]})),s.currentLossSeries>0&&(n++,P.push({player:h,seriesLength:s.currentLossSeries,startGame:s.lossSeriesStart?.game||"",endGame:s.currentLossGameIds[s.currentLossGameIds.length-1]||"",startDate:s.lossSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentLossCamps),isOngoing:!0,gameIds:[...s.currentLossGameIds]})),s.currentDeathSeries>0&&(p++,E.push({player:h,seriesLength:s.currentDeathSeries,startGame:s.deathSeriesStart?.game||"",endGame:s.currentDeathGameIds[s.currentDeathGameIds.length-1]||"",startDate:s.deathSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentDeathCamps),isOngoing:!0,gameIds:[...s.currentDeathGameIds]})),s.currentSurvivalSeries>0&&(i++,l.push({player:h,seriesLength:s.currentSurvivalSeries,startGame:s.survivalSeriesStart?.game||"",endGame:s.currentSurvivalGameIds[s.currentSurvivalGameIds.length-1]||"",startDate:s.survivalSeriesStart?.date||"",endDate:A(t[t.length-1]?.EndDate||""),campCounts:v(s.currentSurvivalCamps),isOngoing:!0,gameIds:[...s.currentSurvivalGameIds]})),s.longestVillageoisSeries?.isOngoing&&m++,s.longestLoupsSeries?.isOngoing&&b++,s.longestNoWolfSeries?.isOngoing&&x++,s.longestSoloSeries?.isOngoing&&V++,s.longestWinSeries?.isOngoing&&C++,s.longestLossSeries?.isOngoing&&L++,s.longestDeathSeries?.isOngoing&&f++,s.longestSurvivalSeries?.isOngoing&&D++}),j.sort((o,s)=>s.seriesLength-o.seriesLength),N.sort((o,s)=>s.seriesLength-o.seriesLength),W.sort((o,s)=>s.seriesLength-o.seriesLength),G.sort((o,s)=>s.seriesLength-o.seriesLength),w.sort((o,s)=>s.seriesLength-o.seriesLength),P.sort((o,s)=>s.seriesLength-o.seriesLength),E.sort((o,s)=>s.seriesLength-o.seriesLength),l.sort((o,s)=>s.seriesLength-o.seriesLength),{currentSeries:{currentVillageoisSeries:j,currentLoupsSeries:N,currentNoWolfSeries:W,currentSoloSeries:G,currentWinSeries:w,currentLossSeries:P,currentDeathSeries:E,currentSurvivalSeries:l},activeCounts:{activeVillageoisCount:g,activeLoupsCount:c,activeNoWolfCount:a,activeSoloCount:d,activeWinCount:u,activeLossCount:n,activeDeathCount:p,activeSurvivalCount:i},ongoingCounts:{ongoingVillageoisCount:m,ongoingLoupsCount:b,ongoingNoWolfCount:x,ongoingSoloCount:V,ongoingWinCount:C,ongoingLossCount:L,ongoingDeathCount:f,ongoingSurvivalCount:D}}}function me(){const{data:e,isLoading:t,error:g}=M(c=>de(c));return{data:e,isLoading:t,error:g}}function We(){const{data:e,isLoading:t,error:g}=me(),{navigateToGameDetails:c,navigationState:a,updateNavigationState:d}=T(),{settings:u}=k(),[n,p]=y.useState(()=>{const l=z();return l.seriesView&&["villageois","loup","nowolf","solo","wins","losses","deaths","survival"].includes(l.seriesView)?l.seriesView:a.selectedSeriesType||"villageois"}),[i,m]=y.useState(a.seriesViewMode||"best"),[b,x]=y.useState(null),V=y.useRef(null),{joueursData:C}=q(),L=H(C),f=l=>{p(l),d({selectedSeriesType:l}),R({seriesView:l},"replace")},D=l=>{m(l),d({seriesViewMode:l})};y.useEffect(()=>{const l=()=>{const o=z();if(o.seriesView&&["villageois","loup","nowolf","solo","wins","losses","deaths","survival"].includes(o.seriesView)){const s=o.seriesView;s!==n&&p(s)}};return window.addEventListener("popstate",l),window.addEventListener("urlchange",l),()=>{window.removeEventListener("popstate",l),window.removeEventListener("urlchange",l)}},[n]);const{currentData:j,highlightedPlayerAdded:N,fullDataset:W}=y.useMemo(()=>{if(!e)return{currentData:[],highlightedPlayerAdded:!1,fullDataset:[]};let l=[];if(i==="ongoing")switch(n){case"villageois":l=e.currentVillageoisSeries;break;case"loup":l=e.currentLoupsSeries;break;case"nowolf":l=e.currentNoWolfSeries;break;case"solo":l=e.currentSoloSeries;break;case"wins":l=e.currentWinSeries;break;case"losses":l=e.currentLossSeries;break;case"deaths":l=e.currentDeathSeries;break;case"survival":l=e.currentSurvivalSeries;break;default:l=[]}else switch(n){case"villageois":l=e.allVillageoisSeries;break;case"loup":l=e.allLoupsSeries;break;case"nowolf":l=e.allNoWolfSeries;break;case"solo":l=e.allSoloSeries;break;case"wins":l=e.allWinSeries;break;case"losses":l=e.allLossSeries;break;case"deaths":l=e.allDeathSeries;break;case"survival":l=e.allSurvivalSeries;break;default:l=[]}const o=l.slice(0,B.TOP_20),s=u.highlightedPlayer&&o.some(S=>S.player===u.highlightedPlayer);let h=[...o],v=!1;if(u.highlightedPlayer&&!s){const S=l.find(I=>I.player===u.highlightedPlayer);S&&(h.push({...S,isHighlightedAddition:!0}),v=!0)}return{currentData:h,highlightedPlayerAdded:v,fullDataset:l}},[e,n,i,u.highlightedPlayer]);if(t)return r.jsx("div",{className:"donnees-attente",children:"R√©cup√©ration des s√©ries de joueurs..."});if(g)return r.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",g]});if(!e)return r.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e de s√©rie disponible"});const G=l=>Object.entries(l).map(([o,s])=>`${o} (${s})`).join(", "),w=()=>{switch(n){case"villageois":return i==="ongoing"?"S√©ries Villageois En Cours":"Plus Longues S√©ries Villageois Cons√©cutives";case"loup":return i==="ongoing"?"S√©ries Loups En Cours":"Plus Longues S√©ries Loups Cons√©cutives";case"nowolf":return i==="ongoing"?"S√©ries Sans R√¥le Loup En Cours":"Plus Longues S√©ries Sans R√¥le Loup";case"solo":return i==="ongoing"?"S√©ries R√¥les Solos En Cours":"Plus Longues S√©ries R√¥les Solos";case"wins":return i==="ongoing"?"S√©ries de Victoires En Cours":"Plus Longues S√©ries de Victoires";case"losses":return i==="ongoing"?"S√©ries de D√©faites En Cours":"Plus Longues S√©ries de D√©faites";case"deaths":return i==="ongoing"?"S√©ries sans Survivre En Cours":"Plus Longues S√©ries sans Survivre";case"survival":return i==="ongoing"?"S√©ries Survivant En Cours":"Plus Longues S√©ries Survivant";default:return""}},P=({active:l,payload:o})=>{if(!l||!o||o.length===0)return null;const s=o[0].payload,h=s.isHighlightedAddition,v=u.highlightedPlayer===s.player,S=i==="best"&&s.isOngoing;return n==="deaths"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie sans Survivre : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",G(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="survival"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie Survivant : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",G(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="solo"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie ",s.camp," : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:[r.jsx("strong",{children:"R√¥les jou√©s :"}),r.jsx("div",{style:{marginTop:"4px",fontSize:"0.9em"},children:Object.entries(s.campCounts).sort(([,I],[,F])=>F-I).map(([I,F])=>r.jsxs("div",{style:{marginLeft:"8px"},children:["‚Ä¢ ",I," (",F," ",(F>1,"fois"),")"]},I))})]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="wins"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie de victoires : ",s.seriesLength," parties ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),r.jsxs("div",{children:["Camps jou√©s : ",G(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="losses"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie de d√©faites : ",s.seriesLength," parties ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),r.jsxs("div",{children:["Camps jou√©s : ",G(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie ",s.camp," : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",G(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})},E=l=>{if(n==="wins")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries de Victoires"});else if(n==="losses")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries de D√©faites"});else if(n==="nowolf")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries Sans Loups"});else if(n==="solo")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries R√¥les Solos"});else if(n==="deaths")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries sans Survivre"});else if(n==="survival")c({selectedPlayer:l.player,selectedGameIds:l.gameIds,fromComponent:"S√©ries Survivant"});else{const o=n==="villageois"?"Villageois":"Loup";c({selectedPlayer:l.player,selectedGameIds:l.gameIds,campFilter:{selectedCamp:o,campFilterMode:"all-assignments"},fromComponent:`S√©ries ${o}`})}};return r.jsxs("div",{className:"lycans-players-series",children:[r.jsx("h2",{children:"S√©ries des Joueurs"}),r.jsx("div",{className:"lycans-section-description",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Mode Meilleurs Records :"})," Affiche les meilleures s√©ries de tous les temps pour chaque joueur.",r.jsx("br",{}),r.jsx("strong",{children:"Mode S√©ries En Cours :"})," Affiche uniquement les s√©ries actuellement actives (tous les joueurs ayant une s√©rie en cours, pas seulement leur record personnel).",r.jsx("br",{}),r.jsx("br",{}),n==="villageois"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Villageois :"})," Parties cons√©cutives dans le camp Villageois. Jouer dans n'importe quel autre camp brise la s√©rie."]}),n==="loup"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Loups :"})," Parties cons√©cutives dans le camp Loups. Jouer dans n'importe quel autre camp brise la s√©rie."]}),n==="nowolf"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries sans Loups :"})," Parties cons√©cutives o√π le joueur n'a PAS jou√© de r√¥le Loup. Jouer un r√¥le Loup brise la s√©rie."]}),n==="solo"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries R√¥les Solos :"})," Parties cons√©cutives o√π le joueur a jou√© un r√¥le solo (ni Villageois ni Loup). Jouer un r√¥le Villageois ou Loup brise la s√©rie."]}),n==="wins"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries de victoires :"})," Victoires cons√©cutives dans n'importe quel camp. Une d√©faite brise la s√©rie."]}),n==="losses"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries de d√©faites :"})," D√©faites cons√©cutives dans n'importe quel camp. Une victoire brise la s√©rie."]}),n==="deaths"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries sans Survivre :"})," Parties cons√©cutives o√π le joueur est mort. Survivre √† une partie brise la s√©rie."]}),n==="survival"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Survivant :"})," Parties cons√©cutives o√π le joueur a surv√©cu (pas mort). Mourir dans une partie brise la s√©rie."]}),r.jsx("br",{}),r.jsx("strong",{children:"üî• S√©ries en cours :"})," ",i==="ongoing"?"Toutes les s√©ries affich√©es sont actuellement actives":"Les s√©ries avec l'effet de flamme sont encore actives"]})}),r.jsxs("div",{className:"lycans-categories-selection",style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="villageois"?"active":""}`,onClick:()=>f("villageois"),children:"S√©ries Villageois"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="loup"?"active":""}`,onClick:()=>f("loup"),children:"S√©ries Loups"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="nowolf"?"active":""}`,onClick:()=>f("nowolf"),children:"S√©ries Sans Loups"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="solo"?"active":""}`,onClick:()=>f("solo"),children:"S√©ries R√¥les Solos"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="wins"?"active":""}`,onClick:()=>f("wins"),children:"S√©ries de Victoires"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="losses"?"active":""}`,onClick:()=>f("losses"),children:"S√©ries de D√©faites"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="deaths"?"active":""}`,onClick:()=>f("deaths"),children:"S√©ries sans Survivre"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="survival"?"active":""}`,onClick:()=>f("survival"),children:"S√©ries Survivant"})]}),r.jsx("button",{type:"button",className:"lycans-categorie-btn",onClick:()=>D(i==="best"?"ongoing":"best"),style:{marginLeft:"auto",backgroundColor:i==="ongoing"?"#FF8C00":"var(--accent-primary)",color:"white",fontWeight:"bold"},children:i==="best"?"üî• Focus S√©ries En Cours":"üìä Voir les Records"})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("div",{children:[r.jsx("h3",{children:w()}),N&&u.highlightedPlayer&&r.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary-text)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['üéØ "',u.highlightedPlayer,'" affich√© en plus du top 20']})]}),r.jsx(U,{title:w(),children:r.jsx("div",{ref:V,style:{height:500},children:r.jsx(Q,{width:"100%",height:"100%",children:r.jsxs(ee,{data:j,margin:{top:20,right:30,left:20,bottom:10},children:[r.jsx(_,{strokeDasharray:"3 3"}),r.jsx(K,{dataKey:"player",angle:-45,textAnchor:"end",height:120,interval:0,tick:({x:l,y:o,payload:s})=>r.jsx("text",{x:l,y:o,dy:16,textAnchor:"end",fill:u.highlightedPlayer===s.value?"var(--accent-primary-text)":"var(--text-secondary)",fontSize:u.highlightedPlayer===s.value?14:13,fontWeight:u.highlightedPlayer===s.value?"bold":"italic",transform:`rotate(-45 ${l} ${o})`,children:s.value})}),r.jsx(X,{allowDecimals:!1,label:{value:n==="wins"?"Victoires cons√©cutives":n==="losses"?"D√©faites cons√©cutives":n==="nowolf"?"Parties sans Loups cons√©cutives":n==="solo"?"Parties r√¥les solos cons√©cutives":"Parties cons√©cutives",angle:270,position:"insideLeft",style:{textAnchor:"middle"}}}),r.jsx(Z,{content:P}),r.jsx(re,{dataKey:"seriesLength",name:n==="wins"?"Victoires cons√©cutives":n==="losses"?"D√©faites cons√©cutives":n==="solo"?"Parties r√¥les solos cons√©cutives":"Parties cons√©cutives",fill:n==="villageois"?"#82ca9d":n==="loup"?"#FF8042":n==="nowolf"?"#FFA500":n==="solo"?"#9C27B0":n==="wins"?"#8884d8":"#dc3545",children:j.map((l,o)=>{const s=u.highlightedPlayer===l.player,h=b===l.player,v=l.isHighlightedAddition,S=L[l.player]||(n==="villageois"?"#82ca9d":n==="loup"?"#FF8042":n==="nowolf"?"#FFA500":n==="solo"?"#9C27B0":n==="wins"?"#8884d8":"#dc3545");return r.jsx(Y,{fill:S,stroke:s?"var(--accent-primary)":h?"var(--text-primary)":"none",strokeWidth:s?3:h?2:0,strokeDasharray:v?"5,5":"none",opacity:v?.8:1,onClick:()=>E(l),onMouseEnter:()=>x(l.player),onMouseLeave:()=>x(null),style:{cursor:"pointer"},className:i==="best"&&l.isOngoing?"lycans-ongoing-series":""},`cell-${n}-${o}`)})})]})})})}),j.length>0&&(()=>{const l=j[0].seriesLength,o=j.filter(h=>h.seriesLength===l),s=o.some(h=>h.isOngoing);return r.jsxs("div",{className:"lycans-stats-grid",style:{marginTop:"0rem",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:i==="ongoing"?"üî• Plus Longue S√©rie Active":"üèÜ Record Absolu"}),r.jsxs("div",{className:"lycans-stat-value",children:[l,i==="ongoing"&&r.jsx("span",{style:{fontSize:"0.6em",marginLeft:"5px"},children:"üî•"}),i==="best"&&s&&r.jsx("span",{style:{fontSize:"0.6em",marginLeft:"5px"},children:"üî•"})]}),o.length===1?r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["par ",r.jsx("strong",{children:o[0].player}),i==="best"&&o[0].isOngoing&&r.jsx("span",{style:{color:"#FF8C00",fontWeight:"bold"},children:" (En cours)"})]}),o[0].campCounts?r.jsxs("p",{className:"lycans-h2h-description",children:["Camps jou√©s : ",G(o[0].campCounts)]}):r.jsxs("p",{className:"lycans-h2h-description",children:["Camp : ",o[0].camp]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["par ",r.jsxs("strong",{children:[o.length," joueurs"]}),i==="best"&&s&&r.jsxs("span",{style:{color:"#FF8C00",fontWeight:"bold"},children:[" (dont s√©rie",o.filter(h=>h.isOngoing).length>1?"s":""," en cours)"]})]}),r.jsx("p",{className:"lycans-h2h-description",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:o.map((h,v)=>r.jsxs("span",{children:[r.jsx("strong",{children:h.player}),i==="best"&&h.isOngoing&&r.jsx("span",{style:{fontSize:"0.9em"},children:"üî•"}),v<o.length-1&&", "]},h.player))})]})]}),i==="best"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üìä Meilleure s√©rie moyenne (tous les joueurs)"}),r.jsx("div",{className:"lycans-stat-value",children:n==="villageois"?e.averageVillageoisSeries:n==="loup"?e.averageLoupsSeries:n==="nowolf"?e.averageNoWolfSeries:n==="solo"?e.averageSoloSeries:n==="wins"?e.averageWinSeries:e.averageLossSeries}),r.jsx("p",{children:"parties en moyenne"}),r.jsxs("p",{className:"lycans-h2h-description",children:["Bas√© sur ",e.totalPlayersCount," joueurs"]})]}),r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üî• S√©ries En Cours"}),r.jsx("div",{className:"lycans-stat-value",children:n==="villageois"?e.activeVillageoisCount:n==="loup"?e.activeLoupsCount:n==="nowolf"?e.activeNoWolfCount:n==="solo"?e.activeSoloCount:n==="wins"?e.activeWinCount:e.activeLossCount}),r.jsx("p",{children:"s√©ries encore actives"}),r.jsx("p",{className:"lycans-h2h-description",children:(n==="villageois"?e.activeVillageoisCount:n==="loup"?e.activeLoupsCount:n==="nowolf"?e.activeNoWolfCount:n==="solo"?e.activeSoloCount:n==="wins"?e.activeWinCount:e.activeLossCount)>0?"Joueurs actuellement dans une s√©rie de ce type":"Aucune s√©rie active de ce type"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üìä S√©rie active moyenne"}),r.jsx("div",{className:"lycans-stat-value",children:W.length>0?(W.reduce((h,v)=>h+v.seriesLength,0)/W.length).toFixed(1):"0"}),r.jsx("p",{children:"parties en moyenne"}),r.jsxs("p",{className:"lycans-h2h-description",children:["Bas√© sur ",W.length," joueur",W.length>1?"s":""," en s√©rie active"]})]}),r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üë• Joueurs Actifs"}),r.jsx("div",{className:"lycans-stat-value",children:W.length}),r.jsxs("p",{children:["joueur",W.length>1?"s":""," en s√©rie active"]}),r.jsx("p",{className:"lycans-h2h-description",children:W.length>0?`Sur ${e.totalPlayersCount} joueurs au total`:"Aucun joueur en s√©rie active"})]})]})]})})(),j.length===0&&r.jsxs("div",{className:"lycans-empty-section",children:[r.jsx("h3",{children:"Aucune s√©rie trouv√©e"}),r.jsx("p",{children:"Aucune s√©rie n'a √©t√© trouv√©e pour ce type avec les filtres actuels."})]})]})]})}export{We as PlayerSeriesChart};
