import{g as k,f as y,u as M,a as J,r as F,p as T,j as r,m as q}from"./index-B6-ZDmny.js";import{u as $}from"./baseStatsHook-BoH0PwNm.js";import{a as H,b as B}from"./datasyncExport-BirWLS1z.js";import{u as U}from"./useJoueursData-Bma9qUaM.js";import{u as _,C as K}from"./api-ma3lPlZA.js";import{F as X,C as Y,X as Q,Y as Z}from"./FullscreenChart-DU237GTc.js";import{R as ee,T as re,a as se}from"./CategoricalChart-CtlM5tN3.js";import{B as ie,a as ne}from"./BarChart-DhWC9GbS.js";function oe(e){const l=new Map;return e.forEach(g=>{g.PlayerStats.forEach(c=>{const a=k(c),d=c.Username;l.set(a,d)})}),l}function te(e){const l={};return e.forEach((g,c)=>{l[c]={currentVillageoisSeries:0,currentLoupsSeries:0,currentNoWolfSeries:0,currentSoloSeries:0,longestVillageoisSeries:null,longestLoupsSeries:null,longestNoWolfSeries:null,longestSoloSeries:null,currentWinSeries:0,longestWinSeries:null,currentWinCamps:[],currentLossSeries:0,longestLossSeries:null,currentLossCamps:[],currentDeathSeries:0,longestDeathSeries:null,currentDeathCamps:[],currentSurvivalSeries:0,longestSurvivalSeries:null,currentSurvivalCamps:[],currentNoWolfCamps:[],currentSoloCamps:[],lastCamp:null,lastWon:!1,lastDied:!1,villageoisSeriesStart:null,loupsSeriesStart:null,noWolfSeriesStart:null,soloSeriesStart:null,winSeriesStart:null,lossSeriesStart:null,deathSeriesStart:null,survivalSeriesStart:null,currentVillageoisGameIds:[],currentLoupsGameIds:[],currentNoWolfGameIds:[],currentSoloGameIds:[],currentWinGameIds:[],currentLossGameIds:[],currentDeathGameIds:[],currentSurvivalGameIds:[]}}),l}function le(e,l,g,c,a){if(g==="Villageois"||g==="Loup"?(g==="Villageois"&&(e.lastCamp==="Villageois"?(e.currentVillageoisSeries++,e.currentVillageoisGameIds.push(c)):(e.currentVillageoisSeries=1,e.villageoisSeriesStart={game:c,date:a},e.currentVillageoisGameIds=[c]),(!e.longestVillageoisSeries||e.currentVillageoisSeries>=e.longestVillageoisSeries.seriesLength)&&(e.longestVillageoisSeries={player:l,camp:"Villageois",seriesLength:e.currentVillageoisSeries,startGame:e.villageoisSeriesStart?.game||c,endGame:c,startDate:e.villageoisSeriesStart?.date||a,endDate:a,isOngoing:!1,gameIds:[...e.currentVillageoisGameIds]}),e.currentLoupsSeries=0,e.loupsSeriesStart=null,e.currentLoupsGameIds=[]),g==="Loup"&&(e.lastCamp==="Loup"?(e.currentLoupsSeries++,e.currentLoupsGameIds.push(c)):(e.currentLoupsSeries=1,e.loupsSeriesStart={game:c,date:a},e.currentLoupsGameIds=[c]),(!e.longestLoupsSeries||e.currentLoupsSeries>=e.longestLoupsSeries.seriesLength)&&(e.longestLoupsSeries={player:l,camp:"Loups",seriesLength:e.currentLoupsSeries,startGame:e.loupsSeriesStart?.game||c,endGame:c,startDate:e.loupsSeriesStart?.date||a,endDate:a,isOngoing:!1,gameIds:[...e.currentLoupsGameIds]}),e.currentVillageoisSeries=0,e.villageoisSeriesStart=null,e.currentVillageoisGameIds=[],e.currentNoWolfSeries=0,e.noWolfSeriesStart=null,e.currentNoWolfGameIds=[],e.currentNoWolfCamps=[]),e.lastCamp=g):(e.currentVillageoisSeries=0,e.currentLoupsSeries=0,e.villageoisSeriesStart=null,e.loupsSeriesStart=null,e.currentVillageoisGameIds=[],e.currentLoupsGameIds=[],e.lastCamp="Autres"),g!=="Loup"){e.currentNoWolfSeries>0?(e.currentNoWolfSeries++,e.currentNoWolfGameIds.push(c),e.currentNoWolfCamps.push(g)):(e.currentNoWolfSeries=1,e.noWolfSeriesStart={game:c,date:a},e.currentNoWolfGameIds=[c],e.currentNoWolfCamps=[g]);const d={};e.currentNoWolfCamps.forEach(u=>{d[u]=(d[u]||0)+1}),(!e.longestNoWolfSeries||e.currentNoWolfSeries>=e.longestNoWolfSeries.seriesLength)&&(e.longestNoWolfSeries={player:l,camp:"Sans Loups",seriesLength:e.currentNoWolfSeries,startGame:e.noWolfSeriesStart?.game||c,endGame:c,startDate:e.noWolfSeriesStart?.date||a,endDate:a,campCounts:d,isOngoing:!1,gameIds:[...e.currentNoWolfGameIds]})}}function ce(e,l,g,c,a,d){if(g==="Autres"){e.currentSoloSeries>0?(e.currentSoloSeries++,e.currentSoloGameIds.push(a),e.currentSoloCamps.push(c)):(e.currentSoloSeries=1,e.soloSeriesStart={game:a,date:d},e.currentSoloGameIds=[a],e.currentSoloCamps=[c]);const u={};e.currentSoloCamps.forEach(n=>{u[n]=(u[n]||0)+1}),(!e.longestSoloSeries||e.currentSoloSeries>=e.longestSoloSeries.seriesLength)&&(e.longestSoloSeries={player:l,camp:"R√¥les Solos",seriesLength:e.currentSoloSeries,startGame:e.soloSeriesStart?.game||a,endGame:a,startDate:e.soloSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentSoloGameIds]})}else e.currentSoloSeries=0,e.soloSeriesStart=null,e.currentSoloGameIds=[],e.currentSoloCamps=[]}function ae(e,l,g,c,a,d){if(g){if(e.lastWon?(e.currentWinSeries++,e.currentWinCamps.push(c),e.currentWinGameIds.push(a)):(e.currentWinSeries=1,e.currentWinCamps=[c],e.winSeriesStart={game:a,date:d},e.currentWinGameIds=[a]),!e.longestWinSeries||e.currentWinSeries>=e.longestWinSeries.seriesLength){const u={};e.currentWinCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestWinSeries={player:l,seriesLength:e.currentWinSeries,startGame:e.winSeriesStart?.game||a,endGame:a,startDate:e.winSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentWinGameIds]}}e.lastWon=!0}else e.currentWinSeries=0,e.currentWinCamps=[],e.winSeriesStart=null,e.currentWinGameIds=[],e.lastWon=!1}function ue(e,l,g,c,a,d){if(g)e.currentLossSeries=0,e.currentLossCamps=[],e.lossSeriesStart=null,e.currentLossGameIds=[];else if(e.currentLossSeries>0?(e.currentLossSeries++,e.currentLossCamps.push(c),e.currentLossGameIds.push(a)):(e.currentLossSeries=1,e.currentLossCamps=[c],e.lossSeriesStart={game:a,date:d},e.currentLossGameIds=[a]),!e.longestLossSeries||e.currentLossSeries>=e.longestLossSeries.seriesLength){const u={};e.currentLossCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestLossSeries={player:l,seriesLength:e.currentLossSeries,startGame:e.lossSeriesStart?.game||a,endGame:a,startDate:e.lossSeriesStart?.date||d,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentLossGameIds]}}}function ge(e,l,g,c,a,d){if(g){if(e.currentDeathSeries===0&&(e.deathSeriesStart={game:a,date:d},e.currentDeathGameIds=[]),e.currentDeathSeries++,e.currentDeathCamps.push(c),e.currentDeathGameIds.push(a),!e.longestDeathSeries||e.currentDeathSeries>e.longestDeathSeries.seriesLength){const u={};e.currentDeathCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestDeathSeries={player:l,seriesLength:e.currentDeathSeries,startGame:e.deathSeriesStart.game,endGame:a,startDate:e.deathSeriesStart.date,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentDeathGameIds]}}}else e.currentDeathSeries=0,e.currentDeathCamps=[],e.deathSeriesStart=null,e.currentDeathGameIds=[]}function de(e,l,g,c,a,d){if(g)e.currentSurvivalSeries=0,e.currentSurvivalCamps=[],e.survivalSeriesStart=null,e.currentSurvivalGameIds=[];else if(e.currentSurvivalSeries===0&&(e.survivalSeriesStart={game:a,date:d},e.currentSurvivalGameIds=[]),e.currentSurvivalSeries++,e.currentSurvivalCamps.push(c),e.currentSurvivalGameIds.push(a),!e.longestSurvivalSeries||e.currentSurvivalSeries>e.longestSurvivalSeries.seriesLength){const u={};e.currentSurvivalCamps.forEach(n=>{u[n]=(u[n]||0)+1}),e.longestSurvivalSeries={player:l,seriesLength:e.currentSurvivalSeries,startGame:e.survivalSeriesStart.game,endGame:a,startDate:e.survivalSeriesStart.date,endDate:d,campCounts:u,isOngoing:!1,gameIds:[...e.currentSurvivalGameIds]}}}function he(e){const l=[],g=[],c=[],a=[],d=[],u=[],n=[],x=[];return Object.values(e).forEach(i=>{i.longestVillageoisSeries&&l.push(i.longestVillageoisSeries),i.longestLoupsSeries&&g.push(i.longestLoupsSeries),i.longestNoWolfSeries&&c.push(i.longestNoWolfSeries),i.longestSoloSeries&&a.push(i.longestSoloSeries),i.longestWinSeries&&d.push(i.longestWinSeries),i.longestLossSeries&&u.push(i.longestLossSeries),i.longestDeathSeries&&n.push(i.longestDeathSeries),i.longestSurvivalSeries&&x.push(i.longestSurvivalSeries)}),l.sort((i,m)=>m.seriesLength-i.seriesLength),g.sort((i,m)=>m.seriesLength-i.seriesLength),c.sort((i,m)=>m.seriesLength-i.seriesLength),a.sort((i,m)=>m.seriesLength-i.seriesLength),d.sort((i,m)=>m.seriesLength-i.seriesLength),u.sort((i,m)=>m.seriesLength-i.seriesLength),n.sort((i,m)=>m.seriesLength-i.seriesLength),x.sort((i,m)=>m.seriesLength-i.seriesLength),{allVillageoisSeries:l,allLoupsSeries:g,allNoWolfSeries:c,allSoloSeries:a,allWinSeries:d,allLossSeries:u,allDeathSeries:n,allSurvivalSeries:x}}function me(e,l){const g=[],c=[],a=[],d=[],u=[],n=[],x=[],i=[];Object.values(e).forEach(o=>{g.push(o.longestVillageoisSeries?.seriesLength||0),c.push(o.longestLoupsSeries?.seriesLength||0),a.push(o.longestNoWolfSeries?.seriesLength||0),d.push(o.longestSoloSeries?.seriesLength||0),u.push(o.longestWinSeries?.seriesLength||0),n.push(o.longestLossSeries?.seriesLength||0),x.push(o.longestDeathSeries?.seriesLength||0),i.push(o.longestSurvivalSeries?.seriesLength||0)});const m=l>0?g.reduce((o,s)=>o+s,0)/l:0,D=l>0?c.reduce((o,s)=>o+s,0)/l:0,L=l>0?a.reduce((o,s)=>o+s,0)/l:0,w=l>0?d.reduce((o,s)=>o+s,0)/l:0,C=l>0?u.reduce((o,s)=>o+s,0)/l:0,j=l>0?n.reduce((o,s)=>o+s,0)/l:0,p=l>0?x.reduce((o,s)=>o+s,0)/l:0,G=l>0?i.reduce((o,s)=>o+s,0)/l:0,W=g.filter(o=>o>=5).length,I=c.filter(o=>o>=3).length,b=a.filter(o=>o>=5).length,N=d.filter(o=>o>=3).length,A=u.filter(o=>o>=5).length,P=n.filter(o=>o>=5).length,E=x.filter(o=>o>=5).length,t=i.filter(o=>o>=5).length;return{averageVillageoisSeries:Math.round(m*10)/10,averageLoupsSeries:Math.round(D*10)/10,averageNoWolfSeries:Math.round(L*10)/10,averageSoloSeries:Math.round(w*10)/10,averageWinSeries:Math.round(C*10)/10,averageLossSeries:Math.round(j*10)/10,averageDeathSeries:Math.round(p*10)/10,averageSurvivalSeries:Math.round(G*10)/10,eliteVillageoisCount:W,eliteLoupsCount:I,eliteNoWolfCount:b,eliteSoloCount:N,eliteWinCount:A,eliteLossCount:P,eliteDeathCount:E,eliteSurvivalCount:t}}function Se(e){if(e.length===0)return null;const l=[...e].sort((i,m)=>parseInt(i.DisplayedId)-parseInt(m.DisplayedId)),g=oe(l),c=te(g);l.forEach(i=>{const m=i.DisplayedId,D=new Date(i.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});i.PlayerStats.forEach(L=>{const w=k(L),C=L.Username;g.set(w,C);const j=c[w];if(!j)return;const p=H(L.MainRoleInitial,L.MainRoleChanges||[]),G=B(p,L.Power),W=L.Victorious,I=L.DeathTiming!==null;le(j,C,G,m,D),ce(j,C,G,p,m,D),ae(j,C,W,G,m,D),ue(j,C,W,G,m,D),ge(j,C,I,G,m,D),de(j,C,I,G,m,D),j.lastDied=I})});const a=he(c);Object.values(c).forEach(i=>{i.longestVillageoisSeries&&i.currentVillageoisSeries===i.longestVillageoisSeries.seriesLength&&i.currentVillageoisSeries>0&&(i.longestVillageoisSeries.isOngoing=!0),i.longestLoupsSeries&&i.currentLoupsSeries===i.longestLoupsSeries.seriesLength&&i.currentLoupsSeries>0&&(i.longestLoupsSeries.isOngoing=!0),i.longestNoWolfSeries&&i.currentNoWolfSeries===i.longestNoWolfSeries.seriesLength&&i.currentNoWolfSeries>0&&(i.longestNoWolfSeries.isOngoing=!0),i.longestSoloSeries&&i.currentSoloSeries===i.longestSoloSeries.seriesLength&&i.currentSoloSeries>0&&(i.longestSoloSeries.isOngoing=!0),i.longestWinSeries&&i.currentWinSeries===i.longestWinSeries.seriesLength&&i.currentWinSeries>0&&(i.longestWinSeries.isOngoing=!0),i.longestLossSeries&&i.currentLossSeries===i.longestLossSeries.seriesLength&&i.currentLossSeries>0&&(i.longestLossSeries.isOngoing=!0),i.longestDeathSeries&&i.currentDeathSeries===i.longestDeathSeries.seriesLength&&i.currentDeathSeries>0&&(i.longestDeathSeries.isOngoing=!0),i.longestSurvivalSeries&&i.currentSurvivalSeries===i.longestSurvivalSeries.seriesLength&&i.currentSurvivalSeries>0&&(i.longestSurvivalSeries.isOngoing=!0)});const d=me(c,g.size),{currentSeries:u,activeCounts:n,ongoingCounts:x}=ve(c,l);return{...a,...u,totalGamesAnalyzed:l.length,totalPlayersCount:g.size,...n,...x,...d}}function ve(e,l){let g=0,c=0,a=0,d=0,u=0,n=0,x=0,i=0,m=0,D=0,L=0,w=0,C=0,j=0,p=0,G=0;const W=[],I=[],b=[],N=[],A=[],P=[],E=[],t=[];return Object.entries(e).forEach(([o,s])=>{const h=s.longestVillageoisSeries?.player||s.longestLoupsSeries?.player||s.longestNoWolfSeries?.player||s.longestWinSeries?.player||s.longestLossSeries?.player||o,v=S=>{const f={};return S.forEach(V=>{f[V]=(f[V]||0)+1}),f};s.currentVillageoisSeries>0&&(g++,W.push({player:h,camp:"Villageois",seriesLength:s.currentVillageoisSeries,startGame:s.villageoisSeriesStart?.game||"",endGame:s.currentVillageoisGameIds[s.currentVillageoisGameIds.length-1]||"",startDate:s.villageoisSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),isOngoing:!0,gameIds:[...s.currentVillageoisGameIds]})),s.currentLoupsSeries>0&&(c++,I.push({player:h,camp:"Loups",seriesLength:s.currentLoupsSeries,startGame:s.loupsSeriesStart?.game||"",endGame:s.currentLoupsGameIds[s.currentLoupsGameIds.length-1]||"",startDate:s.loupsSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),isOngoing:!0,gameIds:[...s.currentLoupsGameIds]})),s.currentNoWolfSeries>0&&(a++,b.push({player:h,camp:"Sans Loups",seriesLength:s.currentNoWolfSeries,startGame:s.noWolfSeriesStart?.game||"",endGame:s.currentNoWolfGameIds[s.currentNoWolfGameIds.length-1]||"",startDate:s.noWolfSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentNoWolfCamps),isOngoing:!0,gameIds:[...s.currentNoWolfGameIds]})),s.currentSoloSeries>0&&(d++,N.push({player:h,camp:"R√¥les Solos",seriesLength:s.currentSoloSeries,startGame:s.soloSeriesStart?.game||"",endGame:s.currentSoloGameIds[s.currentSoloGameIds.length-1]||"",startDate:s.soloSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentSoloCamps),isOngoing:!0,gameIds:[...s.currentSoloGameIds]})),s.currentWinSeries>0&&(u++,A.push({player:h,seriesLength:s.currentWinSeries,startGame:s.winSeriesStart?.game||"",endGame:s.currentWinGameIds[s.currentWinGameIds.length-1]||"",startDate:s.winSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentWinCamps),isOngoing:!0,gameIds:[...s.currentWinGameIds]})),s.currentLossSeries>0&&(n++,P.push({player:h,seriesLength:s.currentLossSeries,startGame:s.lossSeriesStart?.game||"",endGame:s.currentLossGameIds[s.currentLossGameIds.length-1]||"",startDate:s.lossSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentLossCamps),isOngoing:!0,gameIds:[...s.currentLossGameIds]})),s.currentDeathSeries>0&&(x++,E.push({player:h,seriesLength:s.currentDeathSeries,startGame:s.deathSeriesStart?.game||"",endGame:s.currentDeathGameIds[s.currentDeathGameIds.length-1]||"",startDate:s.deathSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentDeathCamps),isOngoing:!0,gameIds:[...s.currentDeathGameIds]})),s.currentSurvivalSeries>0&&(i++,t.push({player:h,seriesLength:s.currentSurvivalSeries,startGame:s.survivalSeriesStart?.game||"",endGame:s.currentSurvivalGameIds[s.currentSurvivalGameIds.length-1]||"",startDate:s.survivalSeriesStart?.date||"",endDate:y(l[l.length-1]?.EndDate||""),campCounts:v(s.currentSurvivalCamps),isOngoing:!0,gameIds:[...s.currentSurvivalGameIds]})),s.longestVillageoisSeries?.isOngoing&&m++,s.longestLoupsSeries?.isOngoing&&D++,s.longestNoWolfSeries?.isOngoing&&L++,s.longestSoloSeries?.isOngoing&&w++,s.longestWinSeries?.isOngoing&&C++,s.longestLossSeries?.isOngoing&&j++,s.longestDeathSeries?.isOngoing&&p++,s.longestSurvivalSeries?.isOngoing&&G++}),W.sort((o,s)=>s.seriesLength-o.seriesLength),I.sort((o,s)=>s.seriesLength-o.seriesLength),b.sort((o,s)=>s.seriesLength-o.seriesLength),N.sort((o,s)=>s.seriesLength-o.seriesLength),A.sort((o,s)=>s.seriesLength-o.seriesLength),P.sort((o,s)=>s.seriesLength-o.seriesLength),E.sort((o,s)=>s.seriesLength-o.seriesLength),t.sort((o,s)=>s.seriesLength-o.seriesLength),{currentSeries:{currentVillageoisSeries:W,currentLoupsSeries:I,currentNoWolfSeries:b,currentSoloSeries:N,currentWinSeries:A,currentLossSeries:P,currentDeathSeries:E,currentSurvivalSeries:t},activeCounts:{activeVillageoisCount:g,activeLoupsCount:c,activeNoWolfCount:a,activeSoloCount:d,activeWinCount:u,activeLossCount:n,activeDeathCount:x,activeSurvivalCount:i},ongoingCounts:{ongoingVillageoisCount:m,ongoingLoupsCount:D,ongoingNoWolfCount:L,ongoingSoloCount:w,ongoingWinCount:C,ongoingLossCount:j,ongoingDeathCount:p,ongoingSurvivalCount:G}}}function fe(){const{data:e,isLoading:l,error:g}=$(c=>Se(c));return{data:e,isLoading:l,error:g}}function Ge(){const{data:e,isLoading:l,error:g}=fe(),{navigateToGameDetails:c,navigationState:a,updateNavigationState:d}=M(),{settings:u}=J(),[n,x]=F.useState(()=>{const t=T();return t.seriesView&&["villageois","loup","nowolf","solo","wins","losses","deaths","survival"].includes(t.seriesView)?t.seriesView:a.selectedSeriesType||"villageois"}),[i,m]=F.useState(a.seriesViewMode||"best"),[D,L]=F.useState(null),w=F.useRef(null),{joueursData:C}=U(),j=_(C),p=t=>{x(t),d({selectedSeriesType:t}),q({seriesView:t},"replace")},G=t=>{m(t),d({seriesViewMode:t})};F.useEffect(()=>{const t=()=>{const o=T();if(o.seriesView&&["villageois","loup","nowolf","solo","wins","losses","deaths","survival"].includes(o.seriesView)){const s=o.seriesView;s!==n&&x(s)}};return window.addEventListener("popstate",t),window.addEventListener("urlchange",t),()=>{window.removeEventListener("popstate",t),window.removeEventListener("urlchange",t)}},[n]);const{currentData:W,highlightedPlayerAdded:I,fullDataset:b}=F.useMemo(()=>{if(!e)return{currentData:[],highlightedPlayerAdded:!1,fullDataset:[]};let t=[];if(i==="ongoing")switch(n){case"villageois":t=e.currentVillageoisSeries;break;case"loup":t=e.currentLoupsSeries;break;case"nowolf":t=e.currentNoWolfSeries;break;case"solo":t=e.currentSoloSeries;break;case"wins":t=e.currentWinSeries;break;case"losses":t=e.currentLossSeries;break;case"deaths":t=e.currentDeathSeries;break;case"survival":t=e.currentSurvivalSeries;break;default:t=[]}else switch(n){case"villageois":t=e.allVillageoisSeries;break;case"loup":t=e.allLoupsSeries;break;case"nowolf":t=e.allNoWolfSeries;break;case"solo":t=e.allSoloSeries;break;case"wins":t=e.allWinSeries;break;case"losses":t=e.allLossSeries;break;case"deaths":t=e.allDeathSeries;break;case"survival":t=e.allSurvivalSeries;break;default:t=[]}const o=t.slice(0,K.TOP_20),s=u.highlightedPlayer&&o.some(S=>S.player===u.highlightedPlayer);let h=[...o],v=!1;if(u.highlightedPlayer&&!s){const S=t.find(f=>f.player===u.highlightedPlayer);S&&(h.push({...S,isHighlightedAddition:!0}),v=!0)}return{currentData:h,highlightedPlayerAdded:v,fullDataset:t}},[e,n,i,u.highlightedPlayer]);if(l)return r.jsx("div",{className:"donnees-attente",children:"R√©cup√©ration des s√©ries de joueurs..."});if(g)return r.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",g]});if(!e)return r.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e de s√©rie disponible"});const N=t=>Object.entries(t).map(([o,s])=>`${o} (${s})`).join(", "),A=()=>{switch(n){case"villageois":return i==="ongoing"?"S√©ries Villageois En Cours":"Plus Longues S√©ries Villageois Cons√©cutives";case"loup":return i==="ongoing"?"S√©ries Loups En Cours":"Plus Longues S√©ries Loups Cons√©cutives";case"nowolf":return i==="ongoing"?"S√©ries Sans R√¥le Loup En Cours":"Plus Longues S√©ries Sans R√¥le Loup";case"solo":return i==="ongoing"?"S√©ries R√¥les Solos En Cours":"Plus Longues S√©ries R√¥les Solos";case"wins":return i==="ongoing"?"S√©ries de Victoires En Cours":"Plus Longues S√©ries de Victoires";case"losses":return i==="ongoing"?"S√©ries de D√©faites En Cours":"Plus Longues S√©ries de D√©faites";case"deaths":return i==="ongoing"?"S√©ries sans Survivre En Cours":"Plus Longues S√©ries sans Survivre";case"survival":return i==="ongoing"?"S√©ries Survivant En Cours":"Plus Longues S√©ries Survivant";default:return""}},P=({active:t,payload:o})=>{if(!t||!o||o.length===0)return null;const s=o[0].payload,h=s.isHighlightedAddition,v=u.highlightedPlayer===s.player,S=i==="best"&&s.isOngoing;return n==="deaths"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie sans Survivre : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",N(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="survival"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie Survivant : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",N(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="solo"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie ",s.camp," : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:[r.jsx("strong",{children:"R√¥les jou√©s :"}),r.jsx("div",{style:{marginTop:"4px",fontSize:"0.9em"},children:Object.entries(s.campCounts).sort(([,f],[,V])=>V-f).map(([f,V])=>r.jsxs("div",{style:{marginLeft:"8px"},children:["‚Ä¢ ",f," (",V," ",(V>1,"fois"),")"]},f))})]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="wins"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie de victoires : ",s.seriesLength," parties ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),r.jsxs("div",{children:["Camps jou√©s : ",N(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):n==="losses"?r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie de d√©faites : ",s.seriesLength," parties ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),r.jsxs("div",{children:["Camps jou√©s : ",N(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]}):r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:6,border:"1px solid var(--border-color)"},children:[r.jsxs("div",{children:[r.jsx("strong",{children:s.player}),S&&r.jsx("span",{style:{marginLeft:"8px",fontSize:"1.2em"},children:"üî•"})]}),r.jsxs("div",{children:["S√©rie ",s.camp," : ",s.seriesLength," parties cons√©cutives ",S?"(En cours)":""]}),r.jsxs("div",{children:["Du ",s.startGame," au ",s.endGame]}),r.jsxs("div",{children:["Du ",s.startDate," au ",s.endDate]}),s.campCounts&&r.jsxs("div",{children:["Camps jou√©s : ",N(s.campCounts)]}),h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence (hors top 20)"}),v&&!h&&r.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontStyle:"italic",textAlign:"center"},children:"üéØ Joueur mis en √©vidence"}),S&&r.jsx("div",{style:{fontSize:"0.8rem",color:"#FF8C00",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üî• S√©rie en cours - Aucun jeu depuis !"}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})},E=t=>{if(n==="wins")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries de Victoires"});else if(n==="losses")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries de D√©faites"});else if(n==="nowolf")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries Sans Loups"});else if(n==="solo")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries R√¥les Solos"});else if(n==="deaths")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries sans Survivre"});else if(n==="survival")c({selectedPlayer:t.player,selectedGameIds:t.gameIds,fromComponent:"S√©ries Survivant"});else{const o=n==="villageois"?"Villageois":"Loup";c({selectedPlayer:t.player,selectedGameIds:t.gameIds,campFilter:{selectedCamp:o,campFilterMode:"all-assignments"},fromComponent:`S√©ries ${o}`})}};return r.jsxs("div",{className:"lycans-players-series",children:[r.jsx("h2",{children:"S√©ries des Joueurs"}),r.jsx("div",{className:"lycans-section-description",children:r.jsxs("p",{children:[r.jsx("strong",{children:"Mode Meilleurs Records :"})," Affiche les meilleures s√©ries de tous les temps pour chaque joueur.",r.jsx("br",{}),r.jsx("strong",{children:"Mode S√©ries En Cours :"})," Affiche uniquement les s√©ries actuellement actives (tous les joueurs ayant une s√©rie en cours, pas seulement leur record personnel).",r.jsx("br",{}),r.jsx("br",{}),n==="villageois"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Villageois :"})," Parties cons√©cutives dans le camp Villageois. Jouer dans n'importe quel autre camp brise la s√©rie."]}),n==="loup"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Loups :"})," Parties cons√©cutives dans le camp Loups. Jouer dans n'importe quel autre camp brise la s√©rie."]}),n==="nowolf"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries sans Loups :"})," Parties cons√©cutives o√π le joueur n'a PAS jou√© de r√¥le Loup. Jouer un r√¥le Loup brise la s√©rie."]}),n==="solo"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries R√¥les Solos :"})," Parties cons√©cutives o√π le joueur a jou√© un r√¥le solo (ni Villageois ni Loup). Jouer un r√¥le Villageois ou Loup brise la s√©rie."]}),n==="wins"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries de victoires :"})," Victoires cons√©cutives dans n'importe quel camp. Une d√©faite brise la s√©rie."]}),n==="losses"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries de d√©faites :"})," D√©faites cons√©cutives dans n'importe quel camp. Une victoire brise la s√©rie."]}),n==="deaths"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries sans Survivre :"})," Parties cons√©cutives o√π le joueur est mort. Survivre √† une partie brise la s√©rie."]}),n==="survival"&&r.jsxs(r.Fragment,{children:[r.jsx("strong",{children:"S√©ries Survivant :"})," Parties cons√©cutives o√π le joueur a surv√©cu (pas mort). Mourir dans une partie brise la s√©rie."]}),r.jsx("br",{}),r.jsx("strong",{children:"üî• S√©ries en cours :"})," ",i==="ongoing"?"Toutes les s√©ries affich√©es sont actuellement actives":"Les s√©ries avec l'effet de flamme sont encore actives"]})}),r.jsxs("div",{className:"lycans-categories-selection",style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="villageois"?"active":""}`,onClick:()=>p("villageois"),children:"S√©ries Villageois"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="loup"?"active":""}`,onClick:()=>p("loup"),children:"S√©ries Loups"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="nowolf"?"active":""}`,onClick:()=>p("nowolf"),children:"S√©ries Sans Loups"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="solo"?"active":""}`,onClick:()=>p("solo"),children:"S√©ries R√¥les Solos"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="wins"?"active":""}`,onClick:()=>p("wins"),children:"S√©ries de Victoires"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="losses"?"active":""}`,onClick:()=>p("losses"),children:"S√©ries de D√©faites"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="deaths"?"active":""}`,onClick:()=>p("deaths"),children:"S√©ries sans Survivre"}),r.jsx("button",{type:"button",className:`lycans-categorie-btn ${n==="survival"?"active":""}`,onClick:()=>p("survival"),children:"S√©ries Survivant"})]}),r.jsx("button",{type:"button",className:"lycans-categorie-btn",onClick:()=>G(i==="best"?"ongoing":"best"),style:{marginLeft:"auto",backgroundColor:i==="ongoing"?"#FF8C00":"var(--accent-primary)",color:"white",fontWeight:"bold"},children:i==="best"?"üî• Focus S√©ries En Cours":"üìä Voir les Records"})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("div",{children:[r.jsx("h3",{children:A()}),I&&u.highlightedPlayer&&r.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary-text)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['üéØ "',u.highlightedPlayer,'" affich√© en plus du top 20']})]}),r.jsx(X,{title:A(),children:r.jsx("div",{ref:w,style:{height:500},children:r.jsx(ee,{width:"100%",height:"100%",children:r.jsxs(ie,{data:W,margin:{top:20,right:30,left:20,bottom:10},children:[r.jsx(Y,{strokeDasharray:"3 3"}),r.jsx(Q,{dataKey:"player",angle:-45,textAnchor:"end",height:120,interval:0,tick:({x:t,y:o,payload:s})=>r.jsx("text",{x:t,y:o,dy:16,textAnchor:"end",fill:u.highlightedPlayer===s.value?"var(--accent-primary-text)":"var(--text-secondary)",fontSize:u.highlightedPlayer===s.value?14:13,fontWeight:u.highlightedPlayer===s.value?"bold":"italic",transform:`rotate(-45 ${t} ${o})`,children:s.value})}),r.jsx(Z,{allowDecimals:!1,label:{value:n==="wins"?"Victoires cons√©cutives":n==="losses"?"D√©faites cons√©cutives":n==="nowolf"?"Parties sans Loups cons√©cutives":n==="solo"?"Parties r√¥les solos cons√©cutives":"Parties cons√©cutives",angle:270,position:"insideLeft",style:{textAnchor:"middle"}}}),r.jsx(re,{content:P}),r.jsx(ne,{dataKey:"seriesLength",name:n==="wins"?"Victoires cons√©cutives":n==="losses"?"D√©faites cons√©cutives":n==="solo"?"Parties r√¥les solos cons√©cutives":"Parties cons√©cutives",fill:n==="villageois"?"#82ca9d":n==="loup"?"#FF8042":n==="nowolf"?"#FFA500":n==="solo"?"#9C27B0":n==="wins"?"#8884d8":"#dc3545",shape:t=>{const{x:o,y:s,width:h,height:v,payload:S}=t,f=S,V=u.highlightedPlayer===f.player,z=D===f.player,O=f.isHighlightedAddition,R=j[f.player]||(n==="villageois"?"#82ca9d":n==="loup"?"#FF8042":n==="nowolf"?"#FFA500":n==="solo"?"#9C27B0":n==="wins"?"#8884d8":"#dc3545");return r.jsx(se,{x:o,y:s,width:h,height:v,fill:R,stroke:V?"var(--accent-primary)":z?"var(--text-primary)":"none",strokeWidth:V?3:z?2:0,strokeDasharray:O?"5,5":"none",opacity:O?.8:1,onClick:()=>E(f),onMouseEnter:()=>L(f.player),onMouseLeave:()=>L(null),style:{cursor:"pointer"},className:i==="best"&&f.isOngoing?"lycans-ongoing-series":""})}})]})})})}),W.length>0&&(()=>{const t=W[0].seriesLength,o=W.filter(h=>h.seriesLength===t),s=o.some(h=>h.isOngoing);return r.jsxs("div",{className:"lycans-stats-grid",style:{marginTop:"0rem",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))"},children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:i==="ongoing"?"üî• Plus Longue S√©rie Active":"üèÜ Record Absolu"}),r.jsxs("div",{className:"lycans-stat-value",children:[t,i==="ongoing"&&r.jsx("span",{style:{fontSize:"0.6em",marginLeft:"5px"},children:"üî•"}),i==="best"&&s&&r.jsx("span",{style:{fontSize:"0.6em",marginLeft:"5px"},children:"üî•"})]}),o.length===1?r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["par ",r.jsx("strong",{children:o[0].player}),i==="best"&&o[0].isOngoing&&r.jsx("span",{style:{color:"#FF8C00",fontWeight:"bold"},children:" (En cours)"})]}),o[0].campCounts?r.jsxs("p",{className:"lycans-h2h-description",children:["Camps jou√©s : ",N(o[0].campCounts)]}):r.jsxs("p",{className:"lycans-h2h-description",children:["Camp : ",o[0].camp]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("p",{children:["par ",r.jsxs("strong",{children:[o.length," joueurs"]}),i==="best"&&s&&r.jsxs("span",{style:{color:"#FF8C00",fontWeight:"bold"},children:[" (dont s√©rie",o.filter(h=>h.isOngoing).length>1?"s":""," en cours)"]})]}),r.jsx("p",{className:"lycans-h2h-description",style:{fontSize:"0.9rem",lineHeight:"1.4"},children:o.map((h,v)=>r.jsxs("span",{children:[r.jsx("strong",{children:h.player}),i==="best"&&h.isOngoing&&r.jsx("span",{style:{fontSize:"0.9em"},children:"üî•"}),v<o.length-1&&", "]},h.player))})]})]}),i==="best"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üìä Meilleure s√©rie moyenne (tous les joueurs)"}),r.jsx("div",{className:"lycans-stat-value",children:n==="villageois"?e.averageVillageoisSeries:n==="loup"?e.averageLoupsSeries:n==="nowolf"?e.averageNoWolfSeries:n==="solo"?e.averageSoloSeries:n==="wins"?e.averageWinSeries:e.averageLossSeries}),r.jsx("p",{children:"parties en moyenne"}),r.jsxs("p",{className:"lycans-h2h-description",children:["Bas√© sur ",e.totalPlayersCount," joueurs"]})]}),r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üî• S√©ries En Cours"}),r.jsx("div",{className:"lycans-stat-value",children:n==="villageois"?e.activeVillageoisCount:n==="loup"?e.activeLoupsCount:n==="nowolf"?e.activeNoWolfCount:n==="solo"?e.activeSoloCount:n==="wins"?e.activeWinCount:e.activeLossCount}),r.jsx("p",{children:"s√©ries encore actives"}),r.jsx("p",{className:"lycans-h2h-description",children:(n==="villageois"?e.activeVillageoisCount:n==="loup"?e.activeLoupsCount:n==="nowolf"?e.activeNoWolfCount:n==="solo"?e.activeSoloCount:n==="wins"?e.activeWinCount:e.activeLossCount)>0?"Joueurs actuellement dans une s√©rie de ce type":"Aucune s√©rie active de ce type"})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üìä S√©rie active moyenne"}),r.jsx("div",{className:"lycans-stat-value",children:b.length>0?(b.reduce((h,v)=>h+v.seriesLength,0)/b.length).toFixed(1):"0"}),r.jsx("p",{children:"parties en moyenne"}),r.jsxs("p",{className:"lycans-h2h-description",children:["Bas√© sur ",b.length," joueur",b.length>1?"s":""," en s√©rie active"]})]}),r.jsxs("div",{className:"lycans-stat-card",children:[r.jsx("h3",{children:"üë• Joueurs Actifs"}),r.jsx("div",{className:"lycans-stat-value",children:b.length}),r.jsxs("p",{children:["joueur",b.length>1?"s":""," en s√©rie active"]}),r.jsx("p",{className:"lycans-h2h-description",children:b.length>0?`Sur ${e.totalPlayersCount} joueurs au total`:"Aucun joueur en s√©rie active"})]})]})]})})(),W.length===0&&r.jsxs("div",{className:"lycans-empty-section",children:[r.jsx("h3",{children:"Aucune s√©rie trouv√©e"}),r.jsx("p",{children:"Aucune s√©rie n'a √©t√© trouv√©e pour ce type avec les filtres actuels."})]})]})]})}export{Ge as PlayerSeriesChart};
