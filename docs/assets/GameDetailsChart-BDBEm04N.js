import{u as G,r as N,j as e}from"./index-Dy-nKJZi.js";import{s as d,i as H}from"./baseStatsHook-CXUdeASy.js";import{a as E}from"./api-beq3FXpM.js";function J(s,i){return null}function U(s,i){return null}function R(s,i){const n=s.toLowerCase();return i.Loups&&i.Loups.toLowerCase().includes(n)||i.Traître&&i.Traître.toLowerCase().includes(n)?"Loups":i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(n)?"Idiot du Village":i.Cannibale&&i.Cannibale.toLowerCase().includes(n)?"Cannibale":i.Agent&&i.Agent.toLowerCase().includes(n)?"Agent":i.Espion&&i.Espion.toLowerCase().includes(n)?"Espion":i.Scientifique&&i.Scientifique.toLowerCase().includes(n)?"Scientifique":i.Amoureux&&i.Amoureux.toLowerCase().includes(n)?"Amoureux":i["La Bête"]&&i["La Bête"].toLowerCase().includes(n)?"La Bête":i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(n)?"Chasseur de primes":i.Vaudou&&i.Vaudou.toLowerCase().includes(n)?"Vaudou":"Villageois"}function O(s,i,n,a){const l=s.toLowerCase();switch(i){case"Traître":return!!(n.Traître&&n.Traître.toLowerCase().includes(l));case"Idiot du Village":return!!(n["Idiot du village"]&&n["Idiot du village"].toLowerCase().includes(l));case"Cannibale":return!!(n.Cannibale&&n.Cannibale.toLowerCase().includes(l));case"Agent":return!!(n.Agent&&n.Agent.toLowerCase().includes(l));case"Espion":return!!(n.Espion&&n.Espion.toLowerCase().includes(l));case"Scientifique":return!!(n.Scientifique&&n.Scientifique.toLowerCase().includes(l));case"Amoureux":return!!(n.Amoureux&&n.Amoureux.toLowerCase().includes(l));case"La Bête":return!!(n["La Bête"]&&n["La Bête"].toLowerCase().includes(l));case"Chasseur de primes":return!!(n["Chasseur de primes"]&&n["Chasseur de primes"].toLowerCase().includes(l));case"Vaudou":return!!(n.Vaudou&&n.Vaudou.toLowerCase().includes(l));case"Villageois":const r=a["Liste des joueurs"].toLowerCase().includes(l),u=[...n.Loups?d(n.Loups):[],...n.Traître?[n.Traître.trim()]:[],...n["Idiot du village"]?[n["Idiot du village"].trim()]:[],...n.Cannibale?[n.Cannibale.trim()]:[],...n.Agent?d(n.Agent):[],...n.Espion?[n.Espion.trim()]:[],...n.Scientifique?[n.Scientifique.trim()]:[],...n.Amoureux?d(n.Amoureux):[],...n["La Bête"]?[n["La Bête"].trim()]:[],...n["Chasseur de primes"]?[n["Chasseur de primes"].trim()]:[],...n.Vaudou?[n.Vaudou.trim()]:[]].map(t=>t.toLowerCase());return r&&!u.includes(l);default:return!1}}function z(s,i){return s.filter(n=>n["Liste des joueurs"].toLowerCase().includes(i.toLowerCase()))}function W(s,i){return s.filter(n=>n.Game===i)}function Y(s,i){return s.filter(n=>n["Type de victoire"]===i)}function K(s,i){return s.filter(n=>{const a=n.Date;if(i.includes("/")&&i.split("/").length===2){const[l,r]=i.split("/"),u=a.split("/");if(u.length===3){const[,t,h]=u;return t===l&&h===r}}else return a===i;return!1})}function _(s,i){return s.filter(n=>{const a=n["Pourcentage de récolte"];if(a==null)return!1;const l=a*100;switch(i){case"0-25%":return l>=0&&l<=25;case"26-50%":return l>25&&l<=50;case"51-75%":return l>50&&l<=75;case"76-99%":return l>75&&l<=99;case"100%":return l>=100;default:return!0}})}function Q(s,i){return s.filter(n=>n["Nombre de journées"]===i)}function X(s,i,n,a,l="wins-only",r){return s.filter(u=>{const t=i.find(h=>h.Game===u.Game);if(!t)return!1;if(a){if(n==="Autres"&&r)return r.some(p=>O(a,p,t,u));const h=R(a,t);return h==="Agent"&&n==="Agent"&&u["Camp victorieux"]==="Agent"?d(u["Liste des gagnants"]?.toString()||"").some(f=>f.toLowerCase()===a.toLowerCase()):h===n}else{if(l==="wins-only")return n==="Autres"&&r?r.includes(u["Camp victorieux"]):u["Camp victorieux"]===n;if(n==="Autres"&&r)return r.some(h=>{switch(h){case"Traître":return!!(t.Traître&&t.Traître.trim());case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());case"Villageois":return d(u["Liste des joueurs"]).length>0;default:return!1}});switch(n){case"Loups":return!!(t.Loups&&t.Loups.trim());case"Traître":return!!(t.Traître&&t.Traître.trim());case"Villageois":const h=d(u["Liste des joueurs"]),p=[...d(t.Loups||""),...t.Traître?[t.Traître.trim()]:[],...t["Idiot du village"]?[t["Idiot du village"].trim()]:[],...t.Cannibale?[t.Cannibale.trim()]:[],...t.Agent?d(t.Agent):[],...t.Espion?[t.Espion.trim()]:[],...t.Scientifique?[t.Scientifique.trim()]:[],...d(t.Amoureux||""),...t["La Bête"]?[t["La Bête"].trim()]:[],...t["Chasseur de primes"]?[t["Chasseur de primes"].trim()]:[],...t.Vaudou?[t.Vaudou.trim()]:[]];return h.some(f=>!p.includes(f));case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());default:return u["Camp victorieux"]===n}}})}function Z(s,i,n){const{selectedPlayers:a,playersFilterMode:l,winnerPlayer:r}=n;return s.filter(u=>{const t=d(u["Liste des joueurs"]);if(!a.every(o=>t.some(g=>g.toLowerCase()===o.toLowerCase())))return!1;const p=i.find(o=>o.Game===u.Game);if(!p)return!1;const f=a.map(o=>R(o,p));switch(l){case"all-common-games":return r?d(u["Liste des gagnants"]?.toString()||"").some(x=>x.toLowerCase()===r.toLowerCase()):!0;case"opposing-camps":const o=f.map(m=>m==="Traître"?"Loups":m);if(!([...new Set(o)].length>1))return!1;if(r){const m=a.findIndex(x=>x.toLowerCase()===r.toLowerCase());if(m!==-1){const x=o[m],L=u["Camp victorieux"]==="Traître"?"Loups":u["Camp victorieux"];return x==="Agent"&&L==="Agent"?d(u["Liste des gagnants"]?.toString()||"").some(j=>j.toLowerCase()===r.toLowerCase()):x===L}}return!0;case"same-camp":const I=f.map(m=>m==="Traître"?"Loups":m);if(!([...new Set(I)].length===1))return!1;if(r){const m=I[0],x=u["Camp victorieux"]==="Traître"?"Loups":u["Camp victorieux"];if(m==="Agent"&&x==="Agent"){const L=d(u["Liste des gagnants"]?.toString()||"");return a.every(V=>L.some(j=>j.toLowerCase()===V.toLowerCase()))}return m===x}return!0;default:return!0}})}function F(s,i,n){const{selectedPlayerPair:a,selectedPairRole:l}=n;return a.length!==2?s:s.filter(r=>{const u=d(r["Liste des joueurs"]);if(!a.every(p=>u.some(f=>f.toLowerCase()===p.toLowerCase())))return!1;const h=i.find(p=>p.Game===r.Game);if(!h)return!1;switch(l){case"wolves":const p=d(h.Loups||"");return a.every(o=>p.some(g=>g.toLowerCase()===o.toLowerCase()));case"lovers":const f=d(h.Amoureux||"");return a.every(o=>f.some(g=>g.toLowerCase()===o.toLowerCase()));default:return!0}})}function D(s,i,n){if(!n)return s;let a=[...s];return n.selectedPlayer&&(a=z(a,n.selectedPlayer)),n.selectedGame&&(a=W(a,n.selectedGame)),n.selectedCamp&&(a=X(a,i,n.selectedCamp,n.selectedPlayer,n.campFilterMode,n._smallCamps)),n.selectedVictoryType&&(a=Y(a,n.selectedVictoryType)),n.selectedDate&&(a=K(a,n.selectedDate)),n.selectedHarvestRange&&(a=_(a,n.selectedHarvestRange)),n.selectedGameDuration&&(a=Q(a,n.selectedGameDuration)),n.multiPlayerFilter&&(a=Z(a,i,n.multiPlayerFilter)),n.playerPairFilter&&(a=F(a,i,n.playerPairFilter)),a}function ee(s){const i={};return s&&(s.Loups&&(i.wolves=d(s.Loups)),s.Traître&&(i.traitor=s.Traître),s["Idiot du village"]&&(i.villageIdiot=s["Idiot du village"]),s.Cannibale&&(i.cannibal=s.Cannibale),s.Agent&&(i.agent=d(s.Agent)),s.Espion&&(i.spy=s.Espion),s.Scientifique&&(i.scientist=s.Scientifique),s.Amoureux&&(i.lovers=d(s.Amoureux)),s["La Bête"]&&(i.beast=s["La Bête"]),s["Chasseur de primes"]&&(i.bountyHunter=s["Chasseur de primes"]),s.Vaudou&&(i.voodoo=s.Vaudou)),i}function se(s,i){const n=[];return d(s["Liste des joueurs"]).forEach(l=>{let r="Villageois",u="Villageois";i&&(i.Loups&&d(i.Loups).includes(l)?(r="Loups",u="Loups"):i.Traître&&d(i.Traître).includes(l)?(r="Traître",u="Loups"):i["Idiot du village"]&&d(i["Idiot du village"]).includes(l)?(r="Idiot du Village",u="Idiot du Village"):i.Cannibale&&d(i.Cannibale).includes(l)?(r="Cannibale",u="Cannibale"):i.Agent&&d(i.Agent).includes(l)?(r="Agent",u="Agent"):i.Espion&&d(i.Espion).includes(l)?(r="Espion",u="Espion"):i.Scientifique&&d(i.Scientifique).includes(l)?(r="Scientifique",u="Scientifique"):i["La Bête"]&&d(i["La Bête"]).includes(l)?(r="La Bête",u="La Bête"):i["Chasseur de primes"]&&d(i["Chasseur de primes"]).includes(l)?(r="Chasseur de primes",u="Chasseur de primes"):i.Vaudou&&d(i.Vaudou).includes(l)?(r="Vaudou",u="Vaudou"):i.Amoureux&&d(i.Amoureux).includes(l)&&(r="Amoureux",u="Amoureux")),n.push({player:l,role:r,camp:u})}),n}function ne(s){return s.map(i=>({player:"Ponce",camp:i.Camp||"Unknown",isTraitor:i.Traître||!1,secondaryRole:i["Rôle secondaire"]==="N/A"?null:i["Rôle secondaire"],wolfPower:i["Pouvoir de loup"]==="N/A"?null:i["Pouvoir de loup"],villagerJob:i["Métier villageois"]==="N/A"?null:i["Métier villageois"],playersKilled:i["Joueurs tués"],deathDay:i["Jour de mort"],deathType:i["Type de mort"],killers:i["Joueurs tueurs"]}))}function ie(s,i,n,a){return s.length===0?null:D(s,i,a).map(r=>{const u=i.find(o=>o.Game===r.Game),t=n.filter(o=>o.Game===r.Game),h=ee(u),p=se(r,u),f=ne(t);return{gameId:r.Game,date:r.Date,isModded:r["Game Moddée"],playerCount:r["Nombre de joueurs"],wolfCount:r["Nombre de loups"],hasTraitor:r["Rôle Traître"],hasLovers:r["Rôle Amoureux"],soloRoles:r["Rôles solo"],winningCamp:r["Camp victorieux"],victoryType:r["Type de victoire"],dayCount:r["Nombre de journées"],villagerSurvivors:r["Survivants villageois"],wolfSurvivors:r["Survivants loups (traître inclus)"],loverSurvivors:r["Survivants amoureux"],soloSurvivors:r["Survivants solo"],winners:r["Liste des gagnants"],harvest:r.Récolte,totalHarvest:r["Total récolte"],harvestPercentage:r["Pourcentage de récolte"],playersList:r["Liste des joueurs"],versions:r.Versions,map:r.Map,youtubeEmbedUrl:J(r.Début,r.Fin),gameDuration:U(r.Début,r.Fin),roles:h,playerRoles:p,playerDetails:f}})}function te(s){const{data:i,isLoading:n,error:a}=H((l,r,u)=>ie(l,r,u,s));return{data:i||[],isLoading:n,error:a}}function oe(){const{navigationFilters:s,navigateBack:i}=G(),{data:n,isLoading:a,error:l}=te(s),[r,u]=N.useState("date"),[t,h]=N.useState("desc"),[p,f]=N.useState(null),[o,g]=N.useState(1),[T,I]=N.useState(25),A=N.useRef(!1),w=N.useMemo(()=>n?[...n].sort((c,C)=>{let v,y;switch(r){case"date":v=new Date(c.date.split("/").reverse().join("-")).getTime(),y=new Date(C.date.split("/").reverse().join("-")).getTime();break;case"gameId":v=c.gameId,y=C.gameId;break;case"playerCount":v=c.playerCount,y=C.playerCount;break;case"dayCount":v=c.dayCount,y=C.dayCount;break;case"winningCamp":v=c.winningCamp,y=C.winningCamp;break;case"victoryType":v=c.victoryType,y=C.victoryType;break;default:return 0}let b;return t==="asc"?b=v>y?1:v<y?-1:0:b=v<y?1:v>y?-1:0,b===0?t==="asc"?c.gameId-C.gameId:C.gameId-c.gameId:b}):[],[n,r,t]),m=Math.ceil(w.length/T),x=(o-1)*T,L=x+T,V=w.slice(x,L);N.useEffect(()=>{if(A.current){A.current=!1;return}g(1),f(null)},[n]),N.useEffect(()=>{g(1),f(null)},[r,t]);const j=c=>{A.current=!0,g(c),f(null)},k=c=>{A.current=!0,I(c),g(1),f(null)},$=c=>{A.current=!0,f(p===c?null:c)},P=c=>{r===c?h(t==="asc"?"desc":"asc"):(u(c),h("desc"))},S=c=>r!==c?"↕️":t==="asc"?"↗️":"↘️",B=()=>{const c=[];if(s.selectedPlayer&&s.selectedCamp)c.push(`${s.selectedPlayer} jouant ${s.selectedCamp}`);else if(s.selectedPlayer&&c.push(`Joueur: ${s.selectedPlayer}`),s.selectedCamp){const C=`Camp: ${s.selectedCamp}`,v=s.campFilterMode==="wins-only"?" (victoires uniquement)":s.campFilterMode==="all-assignments"?" (toutes assignations)":"";c.push(C+v)}if(s.playerPairFilter){const{selectedPlayerPair:C,selectedPairRole:v}=s.playerPairFilter,y=C.join(" & "),b=v==="wolves"?"loups":"amoureux";c.push(`Paire ${b}: ${y}`)}if(s.multiPlayerFilter){const{selectedPlayers:C,playersFilterMode:v,winnerPlayer:y}=s.multiPlayerFilter,b=C.join(" & ");let q="";v==="all-common-games"?q="toutes les parties communes":v==="opposing-camps"?q="affrontements uniquement":v==="same-camp"&&(q="parties en équipe (même camp)");const M=y?` (victoires de ${y})`:"";c.push(`${b} (${q}${M})`)}return s.selectedVictoryType&&c.push(`Victoire: ${s.selectedVictoryType}`),s.selectedHarvestRange&&c.push(`Récolte: ${s.selectedHarvestRange}`),s.selectedGameDuration&&c.push(`Durée: ${s.selectedGameDuration} jour${s.selectedGameDuration>1?"s":""}`),s.selectedGame&&c.push(`Partie #${s.selectedGame}`),s.selectedDate&&(s.selectedDate.includes("/")&&s.selectedDate.split("/").length===2?c.push(`Mois: ${s.selectedDate}`):c.push(`Date: ${s.selectedDate}`)),c};return a?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):l?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",l]}):!n||n.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouvée"}),e.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),s.fromComponent&&e.jsxs("button",{onClick:i,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",s.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[s.fromComponent&&e.jsxs("button",{onClick:i,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",s.fromComponent]}),e.jsxs("h2",{children:["Détails des Parties (",n.length," partie",n.length>1?"s":"",")"]})]}),B().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",B().join(", ")]})]}),m>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",x+1," à ",Math.min(L,w.length)," sur ",w.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:T,onChange:c=>k(Number(c.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>j(1),disabled:o===1,className:"lycans-pagination-btn",children:"««"}),e.jsx("button",{onClick:()=>j(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"‹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",m]}),e.jsx("button",{onClick:()=>j(o+1),disabled:o===m,className:"lycans-pagination-btn",children:"›"}),e.jsx("button",{onClick:()=>j(m),disabled:o===m,className:"lycans-pagination-btn",children:"»»"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>P("gameId"),className:"sortable",children:["Partie ",S("gameId")]}),e.jsxs("th",{onClick:()=>P("date"),className:"sortable",children:["Date ",S("date")]}),e.jsxs("th",{onClick:()=>P("playerCount"),className:"sortable",children:["Joueurs ",S("playerCount")]}),e.jsxs("th",{onClick:()=>P("dayCount"),className:"sortable",children:["Jours ",S("dayCount")]}),e.jsxs("th",{onClick:()=>P("winningCamp"),className:"sortable",children:["Camp Vainqueur ",S("winningCamp")]}),e.jsxs("th",{onClick:()=>P("victoryType"),className:"sortable",children:["Type de Victoire ",S("victoryType")]}),e.jsx("th",{children:"Détails"})]})}),e.jsx("tbody",{children:V.map(c=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:p===c.gameId?"selected":"",children:[e.jsxs("td",{children:["#",c.gameId]}),e.jsx("td",{children:c.date}),e.jsx("td",{children:c.playerCount}),e.jsx("td",{children:c.dayCount}),e.jsx("td",{style:{color:E[c.winningCamp]||"#fff"},children:c.winningCamp}),e.jsx("td",{children:c.victoryType}),e.jsx("td",{children:e.jsx("button",{onClick:()=>$(c.gameId),className:"lycans-details-btn",children:p===c.gameId?"Masquer":"Voir"})})]},c.gameId),p===c.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:7,children:e.jsx(ae,{game:c})})},`${c.gameId}-details`)]}))})]})}),m>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",x+1," à ",Math.min(L,w.length)," sur ",w.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>j(1),disabled:o===1,className:"lycans-pagination-btn",children:"««"}),e.jsx("button",{onClick:()=>j(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"‹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",m]}),e.jsx("button",{onClick:()=>j(o+1),disabled:o===m,className:"lycans-pagination-btn",children:"›"}),e.jsx("button",{onClick:()=>j(m),disabled:o===m,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function re(s){if(s===null||s<=0)return"N/A";const i=Math.floor(s/60),n=s%60;return i===0?`${n}s`:n===0?`${i}m`:`${i}m ${n}s`}function ae({game:s}){const[i,n]=N.useState(!1);return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Générales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:s.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:s.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Traître:"}),e.jsx("span",{className:"value",children:s.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:s.hasLovers?"Oui":"Non"})]}),s.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Rôles solo:"}),e.jsx("span",{className:"value",children:s.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Supplémentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[s.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Durée de la partie:"}),e.jsx("span",{className:"value",children:re(s.gameDuration)})]}),s.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[s.versions,s.isModded?" (moddée)":""]})]}),s.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:s.map})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Résultats"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Camp vainqueur:"}),e.jsx("span",{className:"value",children:s.winningCamp})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Type de victoire:"}),e.jsx("span",{className:"value",children:s.victoryType})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants villageois:"}),e.jsx("span",{className:"value",children:s.villagerSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants loups:"}),e.jsx("span",{className:"value",children:s.wolfSurvivors})]}),s.loverSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants amoureux:"}),e.jsx("span",{className:"value",children:s.loverSurvivors})]}),s.soloSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants solo:"}),e.jsx("span",{className:"value",children:s.soloSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Gagnants:"}),e.jsx("span",{className:"value",children:s.winners})]})]})]}),s.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Récolte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Récolte:"}),e.jsx("span",{className:"value",children:s.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:s.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof s.harvestPercentage=="number"?(s.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Rôles des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:s.playerRoles.map((a,l)=>{let r=a.role===a.camp?a.camp:`${a.camp} (${a.role})`;return e.jsxs("div",{className:"lycans-player-role-item",children:[e.jsx("div",{className:"lycans-player-name",style:{color:E[a.camp]||"#fff",textAlign:"left"},children:a.player}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:r})]},l)})})]}),s.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>n(!i),className:"lycans-video-toggle-btn",children:i?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),s.youtubeEmbedUrl&&i&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Vidéo de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:s.youtubeEmbedUrl,title:`Partie Lycans #${s.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{oe as GameDetailsChart};
