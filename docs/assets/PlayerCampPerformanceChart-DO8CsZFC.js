import{r as p,j as n}from"./index-RIO77FZE.js";import{A as R,u as pe,D as me,E as ue,S as U,G as fe,H as re,I as ye,J as te,K as ne,M as ve,N as he,O as xe,P as ge,Q as se,U as be,V as je,W as Pe,b as Ae,d as ie,Z as Se,_ as we,p as q,$ as Ee,j as Ie,a0 as _,L as N,a1 as Ce,a2 as Oe,a3 as z,a4 as X,a5 as Te,a6 as Re,a7 as k,i as $,a8 as De,a9 as _e,aa as Fe,ab as Ke,ac as Ne,ad as ke,ae as ze,af as Le,ag as Me,ah as Ge,ai as We,aj as Be,y as qe,z as $e,t as Je,F as Y,R as L,B as H,C as M,X as G,Y as W,T as B,o as Q,q as ee,w as Ve}from"./FullscreenChart-ygCb5jBG.js";function oe(e,r,a){return(r=Ze(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Ze(e){var r=Ue(e,"string");return typeof r=="symbol"?r:r+""}function Ue(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Xe(e){var r=pe();return p.useEffect(()=>(r(me(e)),()=>{r(ue(e))}),[e,r]),null}class J extends p.Component{render(){return p.createElement(Xe,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:R.allowDuplicatedCategory,allowDataOverflow:R.allowDataOverflow,reversed:R.reversed,includeHidden:R.includeHidden})}}oe(J,"displayName","ZAxis");oe(J,"defaultProps",{zAxisId:0,range:R.range,scale:R.scale,type:R.type});var Ye=["option","isActive"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},K.apply(null,arguments)}function He(e,r){if(e==null)return{};var a,t,c=Qe(e,r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)a=m[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function Qe(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function ea(e){var{option:r,isActive:a}=e,t=He(e,Ye);return typeof r=="string"?p.createElement(U,K({option:p.createElement(fe,K({type:r},t)),isActive:a,shapeType:"symbols"},t)):p.createElement(U,K({option:r,isActive:a,shapeType:"symbols"},t))}var aa=(e,r,a,t,c,m,u)=>te(e,"xAxis",r,u),ra=(e,r,a,t,c,m,u)=>ne(e,"xAxis",r,u),ta=(e,r,a,t,c,m,u)=>te(e,"yAxis",a,u),na=(e,r,a,t,c,m,u)=>ne(e,"yAxis",a,u),sa=(e,r,a,t)=>ve(e,"zAxis",t,!1),ia=(e,r,a,t,c)=>c,oa=(e,r,a,t,c,m)=>m,la=(e,r,a,t,c,m,u)=>ye(e,r,a,u),ca=re([he,ia],(e,r)=>{if(e.some(a=>a.type==="scatter"&&r.dataKey===a.dataKey&&r.data===a.data))return r}),da=re([la,aa,ra,ta,na,sa,ca,oa],(e,r,a,t,c,m,u,w)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:S}=e;if(u!=null){var g;if(u?.data!=null&&u.data.length>0?g=u.data:g=f?.slice(h,S+1),!(g==null||r==null||t==null||a==null||c==null||a?.length===0||c?.length===0))return ja({displayedData:g,xAxis:r,yAxis:t,zAxis:m,scatterSettings:u,xAxisTicks:a,yAxisTicks:c,cells:w})}}),pa=["onMouseEnter","onClick","onMouseLeave"],ma=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function le(e,r){if(e==null)return{};var a,t,c=ua(e,r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)a=m[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(c[a]=e[a])}return c}function ua(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function F(){return F=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},F.apply(null,arguments)}function ae(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),a.push.apply(a,t)}return a}function T(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ae(Object(a),!0).forEach(function(t){V(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function V(e,r,a){return(r=fa(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function fa(e){var r=ya(e,"string");return typeof r=="symbol"?r:r+""}function ya(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var va=e=>{var{dataKey:r,name:a,fill:t,legendType:c,hide:m}=e;return[{inactive:m,dataKey:r,type:c,color:t,value:se(a,r),payload:e}]};function ha(e){var{points:r,props:a}=e,{line:t,lineType:c,lineJointType:m}=a;if(!t)return null;var u=$(a,!1),w=$(t,!1),f,h;if(c==="joint")f=r.map(s=>({x:s.cx,y:s.cy}));else if(c==="fitting"){var{xmin:S,xmax:g,a:E,b:P}=Me(r),y=s=>E*s+P;f=[{x:S,y:y(S)},{x:g,y:y(g)}]}var x=T(T(T({},u),{},{fill:"none",stroke:u&&u.fill},w),{},{points:f});return p.isValidElement(t)?h=p.cloneElement(t,x):typeof t=="function"?h=t(x):h=p.createElement(Ge,F({},x,{type:m})),p.createElement(N,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}function ce(e){var{points:r,showLabels:a,allOtherScatterProps:t}=e,{shape:c,activeShape:m,dataKey:u}=t,w=$(t,!1),f=ie(De),{onMouseEnter:h,onClick:S,onMouseLeave:g}=t,E=le(t,pa),P=_e(h,t.dataKey),y=Fe(g),x=Ke(S,t.dataKey);return r==null?null:p.createElement(p.Fragment,null,p.createElement(ha,{points:r,props:t}),r.map((s,l)=>{var v=m&&f===String(l),C=v?m:c,i=T(T(T({key:"symbol-".concat(l)},w),s),{},{[ke]:l,[Ne]:String(u)});return p.createElement(N,F({className:"recharts-scatter-symbol"},ze(E,s,l),{onMouseEnter:P(s,l),onMouseLeave:y(s,l),onClick:x(s,l),key:"symbol-".concat(s?.cx,"-").concat(s?.cy,"-").concat(s?.size,"-").concat(l)}),p.createElement(ea,F({option:C,isActive:v},i)))}),a&&Le.renderCallByParent(t,r))}function xa(e){var{previousPointsRef:r,props:a}=e,{points:t,isAnimationActive:c,animationBegin:m,animationDuration:u,animationEasing:w}=a,f=r.current,h=Te(a,"recharts-scatter-"),[S,g]=p.useState(!1),E=p.useCallback(()=>{g(!1)},[]),P=p.useCallback(()=>{g(!0)},[]);return p.createElement(Re,{begin:m,duration:u,isActive:c,easing:w,from:{t:0},to:{t:1},onAnimationEnd:E,onAnimationStart:P,key:h},y=>{var{t:x}=y,s=x===1?t:t.map((l,v)=>{var C=f&&f[v];if(C){var i=k(C.cx,l.cx),d=k(C.cy,l.cy),o=k(C.size,l.size);return T(T({},l),{},{cx:i(x),cy:d(x),size:o(x)})}var j=k(0,l.size);return T(T({},l),{},{size:j(x)})});return x>0&&(r.current=s),p.createElement(N,null,p.createElement(ce,{points:s,allOtherScatterProps:a,showLabels:!S}))})}function ga(e){var{points:r,isAnimationActive:a}=e,t=p.useRef(null),c=t.current;return a&&r&&r.length&&(!c||c!==r)?p.createElement(xa,{props:e,previousPointsRef:t}):p.createElement(ce,{points:r,allOtherScatterProps:e,showLabels:!0})}function ba(e){var{dataKey:r,points:a,stroke:t,strokeWidth:c,fill:m,name:u,hide:w,tooltipType:f}=e;return{dataDefinedOnItem:a?.map(h=>h.tooltipPayload),positions:a?.map(h=>h.tooltipPosition),settings:{stroke:t,strokeWidth:c,fill:m,nameKey:void 0,dataKey:r,name:se(u,r),hide:w,type:f,color:m,unit:""}}}function ja(e){var{displayedData:r,xAxis:a,yAxis:t,zAxis:c,scatterSettings:m,xAxisTicks:u,yAxisTicks:w,cells:f}=e,h=_(a.dataKey)?m.dataKey:a.dataKey,S=_(t.dataKey)?m.dataKey:t.dataKey,g=c&&c.dataKey,E=c?c.range:J.defaultProps.range,P=E&&E[0],y=a.scale.bandwidth?a.scale.bandwidth():0,x=t.scale.bandwidth?t.scale.bandwidth():0;return r.map((s,l)=>{var v=z(s,h),C=z(s,S),i=!_(g)&&z(s,g)||"-",d=[{name:_(a.dataKey)?m.name:a.name||a.dataKey,unit:a.unit||"",value:v,payload:s,dataKey:h,type:m.tooltipType},{name:_(t.dataKey)?m.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:s,dataKey:S,type:m.tooltipType}];i!=="-"&&d.push({name:c.name||c.dataKey,unit:c.unit||"",value:i,payload:s,dataKey:g,type:m.tooltipType});var o=X({axis:a,ticks:u,bandSize:y,entry:s,index:l,dataKey:h}),j=X({axis:t,ticks:w,bandSize:x,entry:s,index:l,dataKey:S}),I=i!=="-"?c.scale(i):P,O=Math.sqrt(Math.max(I,0)/Math.PI);return T(T({},s),{},{cx:o,cy:j,x:o-O,y:j-O,width:2*O,height:2*O,size:I,node:{x:v,y:C,z:i},tooltipPayload:d,tooltipPosition:{x:o,y:j},payload:s},f&&f[l]&&f[l].props)})}var Pa=(e,r,a)=>({x:e.cx,y:e.cy,value:a==="x"?+e.node.x:+e.node.y,errorVal:z(e,r)});function Aa(e){var r=p.useRef(Ee("recharts-scatter-")),{hide:a,points:t,className:c,needClip:m,xAxisId:u,yAxisId:w,id:f,children:h}=e;if(a)return null;var S=Ie("recharts-scatter",c),g=_(f)?r.current:f;return p.createElement(N,{className:S,clipPath:m?"url(#clipPath-".concat(g,")"):null},m&&p.createElement("defs",null,p.createElement(Ce,{clipPathId:g,xAxisId:u,yAxisId:w})),p.createElement(Oe,{xAxisId:u,yAxisId:w,data:t,dataPointFormatter:Pa,errorBarOffset:0},h),p.createElement(N,{key:"recharts-scatter-symbols"},p.createElement(ga,e)))}var de={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!we.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Sa(e){var r=be(e,de),{animationBegin:a,animationDuration:t,animationEasing:c,hide:m,isAnimationActive:u,legendType:w,lineJointType:f,lineType:h,shape:S,xAxisId:g,yAxisId:E,zAxisId:P}=r,y=le(r,ma),{needClip:x}=je(g,E),s=p.useMemo(()=>Pe(e.children,q),[e.children]),l=p.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),v=Ae(),C=ie(i=>da(i,g,E,P,l,s,v));return x==null?null:p.createElement(p.Fragment,null,p.createElement(Se,{fn:ba,args:T(T({},e),{},{points:C})}),p.createElement(Aa,F({},y,{xAxisId:g,yAxisId:E,zAxisId:P,lineType:h,lineJointType:f,legendType:w,shape:S,hide:m,isAnimationActive:u,animationBegin:a,animationDuration:t,animationEasing:c,points:C,needClip:x})))}class Z extends p.Component{render(){return p.createElement(xe,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},p.createElement(ge,{legendPayload:va(this.props)}),p.createElement(Sa,this.props))}}V(Z,"displayName","Scatter");V(Z,"defaultProps",de);var wa=["item"],Ea=p.forwardRef((e,r)=>p.createElement(We,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wa,tooltipPayloadSearcher:Be,categoricalChartProps:e,ref:r}));function Ia(){const{data:e,isLoading:r,error:a}=qe(),{data:t,isLoading:c,error:m}=$e();return{playerCampPerformance:p.useMemo(()=>{if(!e||e.length===0||!t||t.length===0)return null;const h=i=>i?i.split(",").map(d=>d.trim()).filter(Boolean):[],S=(i,d,o)=>i[d]&&i[d][o]||"Villageois",g=(i,d)=>d&&d.trim()!==""?h(d).some(j=>j.toLowerCase()===i.toLowerCase()):!1,E=(i,d)=>i===d||i==="Traître"&&d==="Loups",P={};t.forEach(i=>{const d=i.Game;if(!d)return;P[d]||(P[d]={});const o=(A,D)=>{A&&A.trim()&&(P[d][A.trim()]=D)},j=i.Loups;j&&h(j).forEach(A=>{P[d][A]="Loups"}),o(i.Traître,"Traître"),o(i["Idiot du village"],"Idiot du Village"),o(i.Cannibale,"Cannibale"),o(i.Espion,"Espion"),o(i["La Bête"],"La Bête"),o(i["Chasseur de primes"],"Chasseur de primes"),o(i.Vaudou,"Vaudou");const I=i.Agent;I&&h(I).forEach(A=>{P[d][A]="Agent"});const O=i.Scientifique;O&&h(O).forEach(A=>{P[d][A]="Scientifique"});const b=i.Amoureux;b&&h(b).forEach(A=>{P[d][A]="Amoureux"})});const y={};e.forEach(i=>{const d=i.Game,o=i["Liste des joueurs"],j=i["Camp victorieux"];if(d&&o&&j){const I=h(o),O=new Set;I.forEach(b=>{const A=b.trim();if(A){const D=S(P,d,A);O.add(D)}}),O.forEach(b=>{y[b]||(y[b]={totalGames:0,wins:0,winRate:0,players:{}}),y[b].totalGames++}),O.forEach(b=>{E(b,j)&&y[b].wins++})}});const x={};e.forEach(i=>{const d=i.Game,o=i["Liste des joueurs"],j=i["Liste des gagnants"];d&&o&&j&&h(o).forEach(O=>{const b=O.trim();if(b){const A=S(P,d,O);y[A].players[b]||(y[A].players[b]={games:0,wins:0,winRate:0}),y[A].players[b].games++;const D=g(b,j);D&&y[A].players[b].wins++,x[b]||(x[b]={totalGames:0,camps:{}}),x[b].camps[A]||(x[b].camps[A]={games:0,wins:0,winRate:0,performance:0}),x[b].totalGames++,x[b].camps[A].games++,D&&x[b].camps[A].wins++}})}),Object.keys(y).forEach(i=>{y[i].totalGames>0&&(y[i].winRate=parseFloat((y[i].wins/y[i].totalGames*100).toFixed(2))),Object.keys(y[i].players).forEach(d=>{const o=y[i].players[d];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)))})}),Object.keys(x).forEach(i=>{Object.keys(x[i].camps).forEach(d=>{const o=x[i].camps[d];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),y[d]&&y[d].winRate&&(o.performance=parseFloat((o.winRate-y[d].winRate).toFixed(2))))})});const s=5,l=[];return Object.keys(x).forEach(i=>{const d=x[i],o=[];Object.keys(d.camps).forEach(j=>{const I=d.camps[j];I.games>=s&&o.push({camp:j,games:I.games,wins:I.wins,winRate:I.winRate.toFixed(2),campAvgWinRate:y[j].winRate.toFixed(2),performance:I.performance.toFixed(2)})}),o.sort((j,I)=>parseFloat(I.performance)-parseFloat(j.performance)),o.length>0&&l.push({player:i,totalGames:d.totalGames,campPerformance:o})}),l.sort((i,d)=>d.totalGames-i.totalGames),{campAverages:Object.keys(y).map(i=>({camp:i,totalGames:y[i].totalGames,winRate:y[i].winRate.toFixed(2)})),playerPerformance:l,minGamesRequired:s}},[e,t]),isLoading:r||c,error:a||m}}function Ta(){const[e,r]=p.useState("player-performance"),[a,t]=p.useState("Villageois"),[c,m]=p.useState(5),[u,w]=p.useState(null),{playerCampPerformance:f,isLoading:h,error:S}=Ia();console.log("PlayerCampPerformanceChart - playerCampPerformance:",f);const g=p.useMemo(()=>f?.campAverages?f.campAverages.map(s=>s.camp).sort():[],[f]),{campPlayerData:E,topPerformersData:P}=p.useMemo(()=>{if(!f?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=f,l=[],v=[];for(const d of s)for(const o of d.campPerformance)if(o.games>=c){const j={player:d.player,camp:o.camp,games:o.games,wins:o.wins,winRate:o.winRate,performance:o.performance,winRateNum:parseFloat(o.winRate),performanceNum:parseFloat(o.performance),campAvgWinRateNum:parseFloat(o.campAvgWinRate)};v.push(j),o.camp===a&&l.push({player:d.player,...o,winRateNum:parseFloat(o.winRate),performanceNum:parseFloat(o.performance),campAvgWinRateNum:parseFloat(o.campAvgWinRate)})}const C=l.sort((d,o)=>o.performanceNum-d.performanceNum),i=v.sort((d,o)=>o.performanceNum-d.performanceNum).slice(0,20);return{campPlayerData:C,topPerformersData:i}},[f,a,c]),y=()=>w(null);p.useEffect(()=>{y()},[a,e]);const x=s=>{if(s&&s.player){const l=s.player;w(u===l?null:l)}};return h?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):S?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",S]}):f?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:e,onChange:s=>r(s.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),e==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:a,onChange:s=>t(s.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:g.map(s=>n.jsx("option",{value:s,children:s},s))})]}),(e==="player-performance"||e==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:c,onChange:s=>m(Number(s.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:Je.map(s=>n.jsx("option",{value:s,children:s},s))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:f.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:f.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[e==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",a]}),n.jsx(Y,{title:`Performance des Joueurs - ${a}`,children:n.jsx("div",{style:{height:500},children:n.jsx(L,{width:"100%",height:"100%",children:n.jsxs(H,{data:E.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:l})=>{if(s&&l&&l.length>0){const v=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Victoires: ",v.wins]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",v.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",marginTop:"4px"},children:u===v.player?"Cliquez pour désélectionner":"Cliquez pour sélectionner"})]})}return null}}),n.jsx(Q,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:x,children:E.slice(0,15).map((s,l)=>n.jsx(q,{fill:u===s.player?"#FFD700":ee[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:u===s.player?"#FFA500":"none",strokeWidth:u===s.player?2:0},`cell-${l}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",a]}),n.jsx(Y,{title:`Relation Parties Jouées vs Performance - ${a}`,children:n.jsx("div",{style:{height:400},children:n.jsx(L,{width:"100%",height:"100%",children:n.jsxs(Ea,{data:E,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(W,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:l})=>{if(s&&l&&l.length>0){const v=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),u===v.player&&n.jsx("div",{style:{fontSize:"0.8rem",color:"#FFD700",marginTop:"4px"},children:"★ Joueur sélectionné"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",name:"Performance",shape:s=>{const l=u===s.payload?.player;return n.jsxs("g",{children:[n.jsx("circle",{cx:s.cx,cy:s.cy,r:l?16:12,fill:l?"#FFD700":ee[s.payload?.player]||"var(--accent-primary)",stroke:l?"#FFA500":"#222",strokeWidth:l?3:1}),n.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:l?"#000":"#fff",fontSize:l?"12":"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()}),l&&n.jsx("circle",{cx:s.cx,cy:s.cy,r:20,fill:"none",stroke:"#FFD700",strokeWidth:2,strokeDasharray:"4 2"})]})}})]})})})})]})]}),e==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${c} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(L,{width:"100%",height:"100%",children:n.jsxs(H,{data:P,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:l})=>{if(s&&l&&l.length>0){const v=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Camp: ",v.camp]}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",v.performance]})]})}return null}}),n.jsx(Q,{dataKey:"performanceNum",children:P.map((s,l)=>n.jsx(q,{fill:Ve[s.camp]||`var(--chart-color-${l%6+1})`},`cell-${l}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ta as PlayerCampPerformanceChart};
