function o(t,e){return e==="Toutes les cartes"?t:t.filter(r=>e==="Village"||e==="Château"?r.MapName===e:e==="Autres"?r.MapName!=="Village"&&r.MapName!=="Château":!0)}function u(t){if(t.length===0)return null;const e={};let r=0;t.forEach(s=>{const n=s.PlayerStats;n.length>0&&(r++,n.forEach(i=>{const a=i.Username.trim();if(a){e[a]||(e[a]={gamesPlayed:0,gamesPlayedPercent:"0",wins:0,winPercent:"0",camps:{}}),e[a].gamesPlayed++;const l=i.MainRoleInitial;l&&(l in e[a].camps||(e[a].camps[l]=0),e[a].camps[l]++),i.Victorious&&e[a].wins++}}))}),Object.keys(e).forEach(s=>{const n=e[s];n.gamesPlayedPercent=(n.gamesPlayed/r*100).toFixed(2),n.winPercent=(n.wins/n.gamesPlayed*100).toFixed(2)});const c=Object.keys(e).map(s=>({player:s,...e[s]}));return c.sort((s,n)=>n.gamesPlayed-s.gamesPlayed),{totalGames:r,playerStats:c}}function f(t,e){if(!t.length)return null;const r=e?o(t,e):t;return r.length?u(r):null}function P(t){return t.length?u(t):null}export{P as a,f as c};
