import{r as h,j as e}from"./index-tQsKKbSp.js";import{u as p}from"./usePlayerCampPerformance-B_-ZHDpj.js";import{l}from"./api-K__vudGA.js";import{R as c,T as d,C as o}from"./CategoricalChart-RzgsUDl_.js";import{B as x,C as u,X as j,Y as v,a as g}from"./BarChart-Cmbiu_tk.js";import{P as y,a as f}from"./PieChart-DrzWERcC.js";function q(){const{playerCampPerformance:i,isLoading:m,error:t}=p(),n=h.useMemo(()=>i?.campAverages?i.campAverages.map(s=>({...s,winRateNum:parseFloat(s.winRate)})).sort((s,a)=>a.winRateNum-s.winRateNum):[],[i]);return m?e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):t?e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",t]}):i?e.jsxs("div",{className:"lycans-player-camp-performance",children:[e.jsx("h2",{children:"Taux de victoire et de Présence des Camps"}),e.jsx("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"}}),e.jsxs("div",{className:"lycans-resume-conteneur",children:[e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Camps Analysés"}),e.jsx("div",{className:"lycans-valeur-principale",children:i.campAverages.length}),e.jsx("p",{children:"camps différents"})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Joueurs Évalués"}),e.jsx("div",{className:"lycans-valeur-principale",children:i.playerPerformance.length}),e.jsx("p",{children:"joueurs analysés"})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Seuil Minimum"}),e.jsx("div",{className:"lycans-valeur-principale",children:i.minGamesRequired}),e.jsx("p",{children:"parties requises"})]})]}),e.jsx("div",{className:"lycans-graphiques-groupe",children:e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsx("h3",{children:"Taux de Victoire Moyen par Camp"}),e.jsx("div",{style:{height:400},children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(x,{data:n,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(u,{strokeDasharray:"3 3"}),e.jsx(j,{dataKey:"camp",angle:-45,textAnchor:"end",height:90,interval:0,fontSize:11}),e.jsx(v,{label:{value:"Taux de victoire (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),e.jsx(d,{content:({active:s,payload:a})=>{if(s&&a&&a.length>0){const r=a[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:r.camp})}),e.jsxs("div",{children:["Parties totales: ",r.totalGames]}),e.jsxs("div",{children:["Taux de victoire: ",r.winRate,"%"]})]})}return null}}),e.jsx(g,{dataKey:"winRateNum",children:n.map((s,a)=>e.jsx(o,{fill:l[s.camp]||`var(--chart-color-${a%6+1})`},`cell-${a}`))})]})})})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsx("h3",{children:"Distribution des Parties par Camp"}),e.jsx("div",{style:{height:400},children:e.jsx(c,{width:"100%",height:"100%",children:e.jsxs(y,{children:[e.jsx(f,{data:n,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"totalGames",label:({camp:s,totalGames:a,percent:r})=>`${s}: ${a} (${((r!==void 0?r:0)*100).toFixed(1)}%)`,children:n.map((s,a)=>e.jsx(o,{fill:l[s.camp]||`var(--chart-color-${a%6+1})`},`cell-${a}`))}),e.jsx(d,{content:({active:s,payload:a})=>{if(s&&a&&a.length>0){const r=a[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:r.camp})}),e.jsxs("div",{children:["Parties: ",r.totalGames]}),e.jsxs("div",{children:["Taux victoire: ",r.winRate,"%"]})]})}return null}})]})})})]})]})})]}):e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{q as CampsAverageChart};
