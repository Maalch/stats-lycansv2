import{r as b,j as e,u as z}from"./index-Dz0zDe-y.js";import{b as J}from"./baseStatsHook-DMUq_ovw.js";import{b as v,a as V,g as U}from"./gameUtils-BuNbDi0M.js";import{a as $,f as k}from"./api-B0oQ7xvq.js";function Y(a,n){if(!a)return null;try{const s=new URL(a);let t="",l=0;if(s.hostname==="youtu.be"){t=s.pathname.slice(1);const i=s.searchParams.get("t");i&&(l=parseInt(i,10)||0)}else if(s.hostname==="www.youtube.com"||s.hostname==="youtube.com"){t=s.searchParams.get("v")||"";const i=s.searchParams.get("t");i&&(l=parseInt(i,10)||0)}if(!t)return null;const r=`https://www.youtube.com/embed/${t}?start=${l}`;if(n)try{const i=new URL(n);let c=0;if(i.hostname==="youtu.be"){const m=i.searchParams.get("t");m&&(c=parseInt(m,10)||0)}else if(i.hostname==="www.youtube.com"||i.hostname==="youtube.com"){const m=i.searchParams.get("t");m&&(c=parseInt(m,10)||0)}if(c>l)return`${r}&end=${c}`}catch(i){console.warn("Failed to parse end URL:",n,i)}return r}catch(s){return console.warn("Failed to create YouTube embed URL:",a,s),null}}function _(a,n){if(!a||!n)return null;try{const s=new Date(a),t=new Date(n);if(isNaN(s.getTime())||isNaN(t.getTime()))return console.warn("Invalid date format:",a,n),null;const l=t.getTime()-s.getTime();return l>0?Math.round(l/1e3):null}catch(s){return console.warn("Failed to calculate game duration:",a,n,s),null}}function E(a,n,s=!1){const t=n.PlayerStats.find(r=>r.Username.toLowerCase()===a.toLowerCase());if(!t)return"Villageois";const l=v(t.MainRoleInitial);return l==="Tra√Ætre"?s?"Tra√Ætre":"Loup":l}function K(a,n,s){const t=a.toLowerCase(),l=s.PlayerStats.find(i=>i.Username.toLowerCase()===t);return l?v(l.MainRoleInitial)===n:!1}function Q(a,n,s){const t=a.filter(l=>l.PlayerStats.some(r=>r.Username.toLowerCase()===n.toLowerCase()));return!s||s==="all-assignments"?t:s==="wins-only"?t.filter(l=>l.PlayerStats.some(r=>r.Username.toLowerCase()===n.toLowerCase()&&r.Victorious)):t}function X(a,n){return a.filter(s=>s.DisplayedId===n)}function Z(a,n){return a.filter(s=>n.includes(s.DisplayedId))}function ee(a,n){return a.filter(s=>{const l=new Date(s.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});if(n.includes("/")&&n.split("/").length===2){const[r,i]=n.split("/"),c=l.split("/");if(c.length===3){const[,m,u]=c;return m===r&&u===i}}else return l===n;return!1})}function ae(a,n){return a.filter(s=>{const t=s.HarvestGoal,l=s.HarvestDone;if(t==null||l===null||l===void 0||t===0)return!1;const r=l/t*100;switch(n){case"0-25%":return r>=0&&r<=25;case"26-50%":return r>25&&r<=50;case"51-75%":return r>50&&r<=75;case"76-99%":return r>75&&r<=99;case"100%":return r>=100;default:return!0}})}function se(a,n){return a.filter(s=>{if(!s.EndTiming)return!1;const t=s.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);return t?parseInt(t[1],10)===n:!1})}function te(a,n,s){const{selectedCamp:t,campFilterMode:l,_smallCamps:r,excludeTraitor:i}=n;return a.filter(c=>{if(s){if(t==="Autres"&&r)return r.some(h=>K(s,h,c))?l==="wins-only"?c.PlayerStats.find(N=>N.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1;const m=E(s,c,i);let u=!1;return t==="Loup"&&i?u=m==="Loup"&&!c.PlayerStats.some(d=>d.Username.toLowerCase()===s.toLowerCase()&&d.MainRoleInitial==="Tra√Ætre"):u=m===t,u?l==="wins-only"?c.PlayerStats.find(h=>h.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1}else if(l==="wins-only"){const m=V(c);return t==="Autres"&&r?r.includes(m):m===t}else return t==="Autres"&&r?r.some(m=>c.PlayerStats.some(u=>v(u.MainRoleInitial)===m)):c.PlayerStats.some(m=>v(m.MainRoleInitial)===t)})}function ne(a,n,s){const{selectedPlayers:t,playersFilterMode:l,winnerPlayer:r}=n;return a.filter(i=>{const c=i.PlayerStats.map(d=>d.Username.toLowerCase());if(!t.every(d=>c.includes(d.toLowerCase())))return!1;const u=t.map(d=>E(d,i));switch(l){case"all-common-games":return r?i.PlayerStats.find(p=>p.Username.toLowerCase()===r.toLowerCase())?.Victorious===!0:!0;case"opposing-camps":const d=u.map(f=>f==="Tra√Ætre"?"Loup":f);if(!([...new Set(d)].length>1))return!1;if(r){const f=t.findIndex(p=>p.toLowerCase()===r.toLowerCase());if(f!==-1){const p=d[f],D=V(i),C=D==="Tra√Ætre"?"Loup":D;return p==="Agent"&&C==="Agent"?i.PlayerStats.find(R=>R.Username.toLowerCase()===r.toLowerCase())?.Victorious===!0:p===C}}return!0;case"same-camp":const w=u.map(f=>f==="Tra√Ætre"?"Loup":f);if(!([...new Set(w)].length===1))return!1;const F=w[0];if(s&&s.selectedCamp){const f=s.selectedCamp;if(f==="Loup"&&s.excludeTraitor&&(!t.every(C=>u[t.indexOf(C)]==="Loup")||t.some(C=>{const j=i.PlayerStats.find(R=>R.Username.toLowerCase()===C.toLowerCase());return v(j?.MainRoleInitial)==="Tra√Ætre"}))||F!==f)return!1}if(r){const f=V(i),p=f==="Tra√Ætre"?"Loup":f;return F==="Agent"&&p==="Agent"?t.every(D=>i.PlayerStats.find(j=>j.Username.toLowerCase()===D.toLowerCase())?.Victorious===!0):F===p}return!0;default:return!0}})}function re(a,n){const{selectedPlayerPair:s,selectedPairRole:t}=n;return s.length!==2?a:a.filter(l=>{const r=l.PlayerStats.map(c=>c.Username.toLowerCase());if(!s.every(c=>r.includes(c.toLowerCase())))return!1;switch(t){case"wolves":return s.every(c=>{const m=l.PlayerStats.find(u=>u.Username.toLowerCase()===c.toLowerCase());return v(m?.MainRoleInitial)==="Loup"});case"lovers":return s.every(c=>{const m=l.PlayerStats.find(u=>u.Username.toLowerCase()===c.toLowerCase());return v(m?.MainRoleInitial)==="Amoureux"});default:return!0}})}function le(a,n){if(!n)return a;let s=[...a];return n.selectedPlayer&&(s=Q(s,n.selectedPlayer,n.selectedPlayerWinMode)),n.selectedGame&&(s=X(s,n.selectedGame)),n.selectedGameIds&&(s=Z(s,n.selectedGameIds)),n.campFilter&&(s=te(s,n.campFilter,n.selectedPlayer)),n.selectedDate&&(s=ee(s,n.selectedDate)),n.selectedHarvestRange&&(s=ae(s,n.selectedHarvestRange)),n.selectedGameDuration&&(s=se(s,n.selectedGameDuration)),n.multiPlayerFilter&&(s=ne(s,n.multiPlayerFilter,n.campFilter)),n.playerPairFilter&&(s=re(s,n.playerPairFilter)),s}function ie(a,n){return a.length===0?null:le(a,n).map(t=>{const l=t.PlayerStats.length,r=t.PlayerStats.filter(p=>v(p.MainRoleInitial)==="Loup"),i=t.PlayerStats.filter(p=>v(p.MainRoleInitial)==="Tra√Ætre"),c=t.PlayerStats.filter(p=>v(p.MainRoleInitial)==="Amoureux"),m=t.PlayerStats.filter(p=>p.Victorious),u=r.length+i.length,d=V(t),h=["Loup","Villageois","Amoureux"],N=t.PlayerStats.filter(p=>!h.includes(v(p.MainRoleInitial))),w=N.length>0?N.map(p=>v(p.MainRoleInitial)).join(", "):null,I=new Date(t.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});let F=0;if(t.EndTiming){const p=t.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);p&&(F=parseInt(p[1],10))}let f=null;return t.HarvestGoal&&t.HarvestGoal>0&&(f=t.HarvestDone/t.HarvestGoal),{gameId:t.DisplayedId,date:I,isModded:t.Modded||!1,playerCount:l,wolfCount:u,hasTraitor:i.length>0,hasLovers:c.length>0,soloRoles:w,winningCamp:d,dayCount:F,winners:m.map(p=>p.Username).join(", "),harvest:t.HarvestDone,totalHarvest:t.HarvestGoal,harvestPercentage:f,playersList:t.PlayerStats.map(p=>p.Username).join(", "),versions:t.Version||null,map:t.MapName,youtubeEmbedUrl:Y(t.LegacyData?.VODLink||null,t.LegacyData?.VODLinkEnd||null),gameDuration:_(t.StartDate,t.EndDate),playerData:t.PlayerStats}})}function oe(a){const{data:n,isLoading:s,error:t}=J(l=>ie(l,a));return{data:n||[],isLoading:s,error:t}}const ce=({playerData:a})=>{const n=a.reduce((l,r)=>{const i=U(r.MainRoleInitial);return l[i]||(l[i]=[]),l[i].push(r),l},{}),s=["Villageois","Loup","Amoureux"],t=Object.entries(n).sort(([l,r],[i,c])=>{const m=s.includes(l),u=s.includes(i);return m&&!u?-1:!m&&u?1:c.length-r.length});return e.jsxs("div",{className:"lycans-camp-visualization",children:[e.jsx("h4",{children:"Composition des Camps"}),e.jsx("div",{className:"camps-grid",children:t.map(([l,r])=>{const i=r,c=$[l]||"#666",u=i.filter(d=>d.Victorious).length>0;return e.jsxs("div",{className:`camp-group ${u?"winning-camp":""}`,style:{borderColor:c,backgroundColor:`${c}15`,boxShadow:u?`0 0 10px ${c}40`:"none"},children:[e.jsx("div",{className:"camp-header",style:{backgroundColor:`${c}25`},children:e.jsxs("h5",{style:{color:c},children:[l," (",i.length,")",u&&e.jsx("span",{className:"victory-crown",children:"üëë"})]})}),e.jsx("div",{className:"camp-players",children:i.sort((d,h)=>d.Username.localeCompare(h.Username)).map(d=>{let h=c;return d.Color&&k[d.Color]&&(h=k[d.Color]),e.jsxs("div",{className:`player-badge ${d.Victorious?"winner":""} ${d.DeathTiming?"dead":"alive"}`,style:{borderColor:h,color:h},title:`${d.Username} - ${v(d.MainRoleInitial)}${d.DeathTiming?` (Mort ${d.DeathTiming})`:""}`,children:[e.jsx("span",{className:"player-name",children:d.Username}),d.DeathTiming&&e.jsx("span",{className:"death-indicator",children:"üíÄ"}),d.Victorious&&e.jsx("span",{className:"victory-indicator",children:"‚≠ê"})]},d.Username)})})]},l)})})]})};function de(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}function ue({game:a}){const[n,s]=b.useState(!1);return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations G√©n√©rales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:a.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:a.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Tra√Ætre:"}),e.jsx("span",{className:"value",children:a.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:a.hasLovers?"Oui":"Non"})]}),a.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"R√¥les solo:"}),e.jsx("span",{className:"value",children:a.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Suppl√©mentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Jours de jeu:"}),e.jsx("span",{className:"value",children:a.dayCount})]}),a.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Dur√©e de la partie:"}),e.jsx("span",{className:"value",children:de(a.gameDuration)})]}),a.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[a.versions,a.isModded?" (modd√©e)":""]})]}),a.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:a.map})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"R√©sultats"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Camp vainqueur:"}),e.jsx("span",{className:"value",children:a.winningCamp})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Gagnants:"}),e.jsx("span",{className:"value",children:a.winners})]})]})]}),a.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"R√©colte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"R√©colte:"}),e.jsx("span",{className:"value",children:a.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:a.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof a.harvestPercentage=="number"?(a.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"R√¥les des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:a.playerData.sort((t,l)=>{const r=U(t.MainRoleInitial),i=U(l.MainRoleInitial),c=["Villageois","Loup","Tra√Ætre","Amoureux"],m=c.indexOf(r),u=c.indexOf(i);return m!==-1&&u!==-1?m-u:m!==-1?-1:u!==-1?1:r!==i?r.localeCompare(i):t.Username.localeCompare(l.Username)}).map(t=>{const l=v(t.MainRoleInitial),r=U(t.MainRoleInitial),i=t.MainRoleInitial,c=t.Power,m=t.SecondaryRole;let u=r;l!==r&&(u+=` (${l})`),i&&i!==l&&(u+=` - ${i}`),c&&c.trim()&&(u+=` - ${c}`),m&&m.trim()&&(u+=` + ${m}`);let d=$[t.MainRoleInitial]||"#666";d==="#666"&&(d=$[r]||"#666");let h=$[r]||"#fff";t.Color&&k[t.Color]&&(h=k[t.Color]);const N=t.DeathTiming,w=t.Victorious;return e.jsxs("div",{className:`lycans-player-role-item ${w?"victorious":""}`,style:{borderColor:d},children:[e.jsxs("div",{className:"lycans-player-name",style:{color:h,textAlign:"left"},children:[t.Username,N&&e.jsx("span",{className:"death-skull",children:"üíÄ"})]}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:u})]},t.Username)})})]}),e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx(ce,{playerData:a.playerData})}),a.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>s(!n),className:"lycans-video-toggle-btn",children:n?"üìπ Masquer la vid√©o":"üé• Voir la vid√©o"})}),a.youtubeEmbedUrl&&n&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Vid√©o de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:a.youtubeEmbedUrl,title:`Partie Lycans #${a.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}function xe(){const{navigationFilters:a,navigateBack:n}=z(),{data:s,isLoading:t,error:l}=oe(a),[r,i]=b.useState("date"),[c,m]=b.useState("desc"),[u,d]=b.useState(null),[h,N]=b.useState(1),[w,A]=b.useState(25),I=b.useRef(!1),f=a.selectedPlayer?[a.selectedPlayer]:a.playerPairFilter?.selectedPlayerPair?a.playerPairFilter.selectedPlayerPair:a.multiPlayerFilter?.selectedPlayers?a.multiPlayerFilter.selectedPlayers:[],p=f.length>0,D=o=>p?(o.winners?o.winners.split(",").map(x=>x.trim()):[]).filter(x=>f.some(P=>P.toLowerCase()===x.toLowerCase())).join(", "):"",C=b.useMemo(()=>s?[...s].sort((o,g)=>{let y,x;switch(r){case"date":y=new Date(o.date.split("/").reverse().join("-")).getTime(),x=new Date(g.date.split("/").reverse().join("-")).getTime();break;case"gameId":y=parseInt(o.gameId,10),x=parseInt(g.gameId,10);break;case"playerCount":y=o.playerCount,x=g.playerCount;break;case"gameDuration":y=o.gameDuration||0,x=g.gameDuration||0;break;case"winningCamp":y=o.winningCamp,x=g.winningCamp;break;case"winner":y=D(o),x=D(g);break;default:return 0}let P;if(c==="asc"?P=y>x?1:y<x?-1:0:P=y<x?1:y>x?-1:0,P===0){const L=parseInt(o.gameId,10),M=parseInt(g.gameId,10);return c==="asc"?L-M:M-L}return P}):[],[s,r,c]),j=Math.ceil(C.length/w),R=(h-1)*w,W=R+w,B=C.slice(R,W);b.useEffect(()=>{if(I.current){I.current=!1;return}N(1),d(null)},[s]),b.useEffect(()=>{N(1),d(null)},[r,c]);const G=o=>{I.current=!0,N(o),d(null)},H=o=>{I.current=!0,A(o),N(1),d(null)},O=o=>{I.current=!0,d(u===o?null:o)},S=o=>{r===o?m(c==="asc"?"desc":"asc"):(i(o),m("desc"))},T=o=>r!==o?"‚ÜïÔ∏è":c==="asc"?"‚ÜóÔ∏è":"‚ÜòÔ∏è",q=()=>{const o=[];if(a.selectedPlayer&&a.campFilter){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":"",y=a.campFilter.excludeTraitor&&a.campFilter.selectedCamp==="Loup"?"Loups sans Tra√Ætre":a.campFilter.selectedCamp;o.push(`${a.selectedPlayer} jouant ${y}${g}`)}else{if(a.selectedPlayer){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":a.selectedPlayerWinMode==="all-assignments"?" (toutes parties)":"";o.push(`Joueur: ${a.selectedPlayer}${g}`)}if(a.campFilter){const{selectedCamp:g,campFilterMode:y,excludeTraitor:x}=a.campFilter,L=`Camp: ${x&&g==="Loup"?"Loups sans Tra√Ætre":g}`,M=y==="wins-only"?" (victoires uniquement)":y==="all-assignments"?" (toutes assignations)":"";o.push(L+M)}}if(a.playerPairFilter){const{selectedPlayerPair:g,selectedPairRole:y}=a.playerPairFilter,x=g.join(" & "),P=y==="wolves"?"loups":"amoureux";o.push(`Paire ${P}: ${x}`)}if(a.multiPlayerFilter){const{selectedPlayers:g,playersFilterMode:y,winnerPlayer:x}=a.multiPlayerFilter,P=g.join(" & ");let L="";y==="all-common-games"?L="toutes les parties communes":y==="opposing-camps"?L="affrontements uniquement":y==="same-camp"&&(L="parties en √©quipe (m√™me camp)");const M=x?` (victoires de ${x})`:"";o.push(`${P} (${L}${M})`)}return a.selectedHarvestRange&&o.push(`R√©colte: ${a.selectedHarvestRange}`),a.selectedGameDuration&&o.push(`Dur√©e: ${a.selectedGameDuration} jour${a.selectedGameDuration>1?"s":""}`),a.selectedGame&&o.push(`Partie ${a.selectedGame}`),a.selectedDate&&(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2?o.push(`Mois: ${a.selectedDate}`):o.push(`Date: ${a.selectedDate}`)),a.selectedGameIds&&a.selectedGameIds.length>0&&o.push(`${a.selectedGameIds.length} parties s√©lectionn√©e${a.selectedGameIds.length>1?"s":""}`),o};return t?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des d√©tails des parties..."}):l?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",l]}):!s||s.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouv√©e"}),e.jsx("p",{children:"Aucune partie ne correspond aux crit√®res s√©lectionn√©s."}),a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["‚Üê Retour √† ",a.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["‚Üê Retour √† ",a.fromComponent]}),e.jsxs("h2",{children:["D√©tails des Parties (",s.length," partie",s.length>1?"s":"",")"]})]}),q().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",q().join(", ")]})]}),j>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",R+1," √† ",Math.min(W,C.length)," sur ",C.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:w,onChange:o=>H(Number(o.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>G(1),disabled:h===1,className:"lycans-pagination-btn",children:"¬´¬´"}),e.jsx("button",{onClick:()=>G(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"‚Äπ"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",j]}),e.jsx("button",{onClick:()=>G(h+1),disabled:h===j,className:"lycans-pagination-btn",children:"‚Ä∫"}),e.jsx("button",{onClick:()=>G(j),disabled:h===j,className:"lycans-pagination-btn",children:"¬ª¬ª"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>S("gameId"),className:"sortable",children:["Partie ",T("gameId")]}),e.jsxs("th",{onClick:()=>S("date"),className:"sortable",children:["Date ",T("date")]}),e.jsxs("th",{onClick:()=>S("playerCount"),className:"sortable",children:["Joueurs ",T("playerCount")]}),e.jsxs("th",{onClick:()=>S("gameDuration"),className:"sortable",children:["Dur√©e ",T("gameDuration")]}),e.jsxs("th",{onClick:()=>S("winningCamp"),className:"sortable",children:["Camp Vainqueur ",T("winningCamp")]}),p&&e.jsxs("th",{onClick:()=>S("winner"),className:"sortable",children:["Vainqueur ",T("winner")]}),e.jsx("th",{children:"D√©tails"})]})}),e.jsx("tbody",{children:B.map(o=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:u===o.gameId?"selected":"",children:[e.jsxs("td",{children:["#",o.gameId]}),e.jsx("td",{children:o.date}),e.jsx("td",{children:o.playerCount}),e.jsx("td",{children:me(o.gameDuration)}),e.jsx("td",{style:{color:$[o.winningCamp]||"#fff"},children:o.winningCamp}),p&&e.jsx("td",{children:D(o)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>O(o.gameId),className:"lycans-details-btn",children:u===o.gameId?"Masquer":"Voir"})})]},o.gameId),u===o.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:p?8:7,children:e.jsx(ue,{game:o})})},`${o.gameId}-details`)]}))})]})}),j>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",R+1," √† ",Math.min(W,C.length)," sur ",C.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>G(1),disabled:h===1,className:"lycans-pagination-btn",children:"¬´¬´"}),e.jsx("button",{onClick:()=>G(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"‚Äπ"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",j]}),e.jsx("button",{onClick:()=>G(h+1),disabled:h===j,className:"lycans-pagination-btn",children:"‚Ä∫"}),e.jsx("button",{onClick:()=>G(j),disabled:h===j,className:"lycans-pagination-btn",children:"¬ª¬ª"})]})})]})]})}function me(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}export{xe as GameDetailsChart};
