import{s as d,a as G,u as W,r as N,j as s}from"./index-fQGPSwzF.js";import{b as H}from"./baseStatsHook-DH41hxrD.js";import{a as R}from"./api-beq3FXpM.js";function J(e,n){return null}function U(e,n){return null}function $(e,n,i=!1){const a=e.toLowerCase();return n.Loups&&n.Loups.toLowerCase().includes(a)?"Loups":n.TraÃ®tre&&n.TraÃ®tre.toLowerCase().includes(a)?i?"TraÃ®tre":"Loups":n["Idiot du village"]&&n["Idiot du village"].toLowerCase().includes(a)?"Idiot du Village":n.Cannibale&&n.Cannibale.toLowerCase().includes(a)?"Cannibale":n.Agent&&n.Agent.toLowerCase().includes(a)?"Agent":n.Espion&&n.Espion.toLowerCase().includes(a)?"Espion":n.Scientifique&&n.Scientifique.toLowerCase().includes(a)?"Scientifique":n.Amoureux&&n.Amoureux.toLowerCase().includes(a)?"Amoureux":n["La BÃªte"]&&n["La BÃªte"].toLowerCase().includes(a)?"La BÃªte":n["Chasseur de primes"]&&n["Chasseur de primes"].toLowerCase().includes(a)?"Chasseur de primes":n.Vaudou&&n.Vaudou.toLowerCase().includes(a)?"Vaudou":"Villageois"}function O(e,n,i,a){const l=e.toLowerCase();switch(n){case"TraÃ®tre":return!!(i.TraÃ®tre&&i.TraÃ®tre.toLowerCase().includes(l));case"Idiot du Village":return!!(i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(l));case"Cannibale":return!!(i.Cannibale&&i.Cannibale.toLowerCase().includes(l));case"Agent":return!!(i.Agent&&i.Agent.toLowerCase().includes(l));case"Espion":return!!(i.Espion&&i.Espion.toLowerCase().includes(l));case"Scientifique":return!!(i.Scientifique&&i.Scientifique.toLowerCase().includes(l));case"Amoureux":return!!(i.Amoureux&&i.Amoureux.toLowerCase().includes(l));case"La BÃªte":return!!(i["La BÃªte"]&&i["La BÃªte"].toLowerCase().includes(l));case"Chasseur de primes":return!!(i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(l));case"Vaudou":return!!(i.Vaudou&&i.Vaudou.toLowerCase().includes(l));case"Villageois":const r=a["Liste des joueurs"].toLowerCase().includes(l),u=[...i.Loups?d(i.Loups):[],...i.TraÃ®tre?[i.TraÃ®tre.trim()]:[],...i["Idiot du village"]?[i["Idiot du village"].trim()]:[],...i.Cannibale?[i.Cannibale.trim()]:[],...i.Agent?d(i.Agent):[],...i.Espion?[i.Espion.trim()]:[],...i.Scientifique?[i.Scientifique.trim()]:[],...i.Amoureux?d(i.Amoureux):[],...i["La BÃªte"]?[i["La BÃªte"].trim()]:[],...i["Chasseur de primes"]?[i["Chasseur de primes"].trim()]:[],...i.Vaudou?[i.Vaudou.trim()]:[]].map(v=>v.toLowerCase());return r&&!u.includes(l);default:return!1}}function z(e,n,i){const a=e.filter(l=>l["Liste des joueurs"].toLowerCase().includes(n.toLowerCase()));return!i||i==="all-assignments"?a:i==="wins-only"?a.filter(l=>G(n,l["Liste des gagnants"])):a}function Y(e,n){return e.filter(i=>i.Game===n)}function K(e,n){return e.filter(i=>n.includes(i.Game))}function _(e,n){return e.filter(i=>i["Type de victoire"]===n)}function F(e,n){return e.filter(i=>{const a=i.Date;if(n.includes("/")&&n.split("/").length===2){const[l,r]=n.split("/"),u=a.split("/");if(u.length===3){const[,v,h]=u;return v===l&&h===r}}else return a===n;return!1})}function Q(e,n){return e.filter(i=>{const a=i["Pourcentage de rÃ©colte"];if(a==null)return!1;const l=a*100;switch(n){case"0-25%":return l>=0&&l<=25;case"26-50%":return l>25&&l<=50;case"51-75%":return l>50&&l<=75;case"76-99%":return l>75&&l<=99;case"100%":return l>=100;default:return!0}})}function X(e,n){return e.filter(i=>i["Nombre de journÃ©es"]===n)}function Z(e,n,i,a){const{selectedCamp:l,campFilterMode:r,_smallCamps:u,excludeTraitor:v}=i;return e.filter(h=>{const t=n.find(m=>m.Game===h.Game);if(!t)return!1;if(a){if(l==="Autres"&&u)return u.some(o=>O(a,o,t,h));const m=$(a,t,v);return l==="Loups"&&v?m==="Loups"&&!(t.TraÃ®tre&&t.TraÃ®tre.toLowerCase().includes(a.toLowerCase())):m==="Agent"&&l==="Agent"&&h["Camp victorieux"]==="Agent"?d(h["Liste des gagnants"]?.toString()||"").some(C=>C.toLowerCase()===a.toLowerCase()):m===l}else{if(r==="wins-only")return l==="Autres"&&u?u.includes(h["Camp victorieux"]):h["Camp victorieux"]===l;if(l==="Autres"&&u)return u.some(m=>{switch(m){case"TraÃ®tre":return!!(t.TraÃ®tre&&t.TraÃ®tre.trim());case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La BÃªte":return!!(t["La BÃªte"]&&t["La BÃªte"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());case"Villageois":return d(h["Liste des joueurs"]).length>0;default:return!1}});switch(l){case"Loups":return!!(t.Loups&&t.Loups.trim());case"TraÃ®tre":return!!(t.TraÃ®tre&&t.TraÃ®tre.trim());case"Villageois":const m=d(h["Liste des joueurs"]),o=[...d(t.Loups||""),...t.TraÃ®tre?[t.TraÃ®tre.trim()]:[],...t["Idiot du village"]?[t["Idiot du village"].trim()]:[],...t.Cannibale?[t.Cannibale.trim()]:[],...t.Agent?d(t.Agent):[],...t.Espion?[t.Espion.trim()]:[],...t.Scientifique?[t.Scientifique.trim()]:[],...d(t.Amoureux||""),...t["La BÃªte"]?[t["La BÃªte"].trim()]:[],...t["Chasseur de primes"]?[t["Chasseur de primes"].trim()]:[],...t.Vaudou?[t.Vaudou.trim()]:[]];return m.some(C=>!o.includes(C));case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La BÃªte":return!!(t["La BÃªte"]&&t["La BÃªte"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());default:return h["Camp victorieux"]===l}}})}function D(e,n,i){const{selectedPlayers:a,playersFilterMode:l,winnerPlayer:r}=i;return e.filter(u=>{const v=d(u["Liste des joueurs"]);if(!a.every(o=>v.some(C=>C.toLowerCase()===o.toLowerCase())))return!1;const t=n.find(o=>o.Game===u.Game);if(!t)return!1;const m=a.map(o=>$(o,t));switch(l){case"all-common-games":return r?d(u["Liste des gagnants"]?.toString()||"").some(j=>j.toLowerCase()===r.toLowerCase()):!0;case"opposing-camps":const o=m.map(p=>p==="TraÃ®tre"?"Loups":p);if(!([...new Set(o)].length>1))return!1;if(r){const p=a.findIndex(j=>j.toLowerCase()===r.toLowerCase());if(p!==-1){const j=o[p],b=u["Camp victorieux"]==="TraÃ®tre"?"Loups":u["Camp victorieux"];return j==="Agent"&&b==="Agent"?d(u["Liste des gagnants"]?.toString()||"").some(g=>g.toLowerCase()===r.toLowerCase()):j===b}}return!0;case"same-camp":const V=m.map(p=>p==="TraÃ®tre"?"Loups":p);if(!([...new Set(V)].length===1))return!1;if(r){const p=V[0],j=u["Camp victorieux"]==="TraÃ®tre"?"Loups":u["Camp victorieux"];if(p==="Agent"&&j==="Agent"){const b=d(u["Liste des gagnants"]?.toString()||"");return a.every(q=>b.some(g=>g.toLowerCase()===q.toLowerCase()))}return p===j}return!0;default:return!0}})}function ee(e,n,i){const{selectedPlayerPair:a,selectedPairRole:l}=i;return a.length!==2?e:e.filter(r=>{const u=d(r["Liste des joueurs"]);if(!a.every(t=>u.some(m=>m.toLowerCase()===t.toLowerCase())))return!1;const h=n.find(t=>t.Game===r.Game);if(!h)return!1;switch(l){case"wolves":const t=d(h.Loups||"");return a.every(o=>t.some(C=>C.toLowerCase()===o.toLowerCase()));case"lovers":const m=d(h.Amoureux||"");return a.every(o=>m.some(C=>C.toLowerCase()===o.toLowerCase()));default:return!0}})}function se(e,n,i){if(!i)return e;let a=[...e];return i.selectedPlayer&&(a=z(a,i.selectedPlayer,i.selectedPlayerWinMode)),i.selectedGame&&(a=Y(a,i.selectedGame)),i.selectedGameIds&&(a=K(a,i.selectedGameIds)),i.campFilter&&(a=Z(a,n,i.campFilter,i.selectedPlayer)),i.selectedVictoryType&&(a=_(a,i.selectedVictoryType)),i.selectedDate&&(a=F(a,i.selectedDate)),i.selectedHarvestRange&&(a=Q(a,i.selectedHarvestRange)),i.selectedGameDuration&&(a=X(a,i.selectedGameDuration)),i.multiPlayerFilter&&(a=D(a,n,i.multiPlayerFilter)),i.playerPairFilter&&(a=ee(a,n,i.playerPairFilter)),a}function ne(e){const n={};return e&&(e.Loups&&(n.wolves=d(e.Loups)),e.TraÃ®tre&&(n.traitor=e.TraÃ®tre),e["Idiot du village"]&&(n.villageIdiot=e["Idiot du village"]),e.Cannibale&&(n.cannibal=e.Cannibale),e.Agent&&(n.agent=d(e.Agent)),e.Espion&&(n.spy=e.Espion),e.Scientifique&&(n.scientist=e.Scientifique),e.Amoureux&&(n.lovers=d(e.Amoureux)),e["La BÃªte"]&&(n.beast=e["La BÃªte"]),e["Chasseur de primes"]&&(n.bountyHunter=e["Chasseur de primes"]),e.Vaudou&&(n.voodoo=e.Vaudou)),n}function ie(e,n){const i=[];return d(e["Liste des joueurs"]).forEach(l=>{let r="Villageois",u="Villageois";n&&(n.Loups&&d(n.Loups).includes(l)?(r="Loups",u="Loups"):n.TraÃ®tre&&d(n.TraÃ®tre).includes(l)?(r="TraÃ®tre",u="Loups"):n["Idiot du village"]&&d(n["Idiot du village"]).includes(l)?(r="Idiot du Village",u="Idiot du Village"):n.Cannibale&&d(n.Cannibale).includes(l)?(r="Cannibale",u="Cannibale"):n.Agent&&d(n.Agent).includes(l)?(r="Agent",u="Agent"):n.Espion&&d(n.Espion).includes(l)?(r="Espion",u="Espion"):n.Scientifique&&d(n.Scientifique).includes(l)?(r="Scientifique",u="Scientifique"):n["La BÃªte"]&&d(n["La BÃªte"]).includes(l)?(r="La BÃªte",u="La BÃªte"):n["Chasseur de primes"]&&d(n["Chasseur de primes"]).includes(l)?(r="Chasseur de primes",u="Chasseur de primes"):n.Vaudou&&d(n.Vaudou).includes(l)?(r="Vaudou",u="Vaudou"):n.Amoureux&&d(n.Amoureux).includes(l)&&(r="Amoureux",u="Amoureux")),i.push({player:l,role:r,camp:u})}),i}function te(e){return e.map(n=>({player:"Ponce",camp:n.Camp||"Unknown",isTraitor:n.TraÃ®tre||!1,secondaryRole:n["RÃ´le secondaire"]==="N/A"?null:n["RÃ´le secondaire"],wolfPower:n["Pouvoir de loup"]==="N/A"?null:n["Pouvoir de loup"],villagerJob:n["MÃ©tier villageois"]==="N/A"?null:n["MÃ©tier villageois"],playersKilled:n["Joueurs tuÃ©s"],deathDay:n["Jour de mort"],deathType:n["Type de mort"],killers:n["Joueurs tueurs"]}))}function ae(e,n,i,a){return e.length===0?null:se(e,n,a).map(r=>{const u=n.find(o=>o.Game===r.Game),v=i.filter(o=>o.Game===r.Game),h=ne(u),t=ie(r,u),m=te(v);return{gameId:r.Game,date:r.Date,isModded:r["Game ModdÃ©e"],playerCount:r["Nombre de joueurs"],wolfCount:r["Nombre de loups"],hasTraitor:r["RÃ´le TraÃ®tre"],hasLovers:r["RÃ´le Amoureux"],soloRoles:r["RÃ´les solo"],winningCamp:r["Camp victorieux"],victoryType:r["Type de victoire"],dayCount:r["Nombre de journÃ©es"],villagerSurvivors:r["Survivants villageois"],wolfSurvivors:r["Survivants loups (traÃ®tre inclus)"],loverSurvivors:r["Survivants amoureux"],soloSurvivors:r["Survivants solo"],winners:r["Liste des gagnants"],harvest:r.RÃ©colte,totalHarvest:r["Total rÃ©colte"],harvestPercentage:r["Pourcentage de rÃ©colte"],playersList:r["Liste des joueurs"],versions:r.Versions,map:r.Map,youtubeEmbedUrl:J(r.DÃ©but,r.Fin),gameDuration:U(r.DÃ©but,r.Fin),roles:h,playerRoles:t,playerDetails:m}})}function re(e){const{data:n,isLoading:i,error:a}=H((l,r,u)=>ae(l,r,u,e));return{data:n||[],isLoading:i,error:a}}function me(){const{navigationFilters:e,navigateBack:n}=W(),{data:i,isLoading:a,error:l}=re(e),[r,u]=N.useState("date"),[v,h]=N.useState("desc"),[t,m]=N.useState(null),[o,C]=N.useState(1),[S,V]=N.useState(25),T=N.useRef(!1),w=N.useMemo(()=>i?[...i].sort((c,y)=>{let f,x;switch(r){case"date":f=new Date(c.date.split("/").reverse().join("-")).getTime(),x=new Date(y.date.split("/").reverse().join("-")).getTime();break;case"gameId":f=c.gameId,x=y.gameId;break;case"playerCount":f=c.playerCount,x=y.playerCount;break;case"dayCount":f=c.dayCount,x=y.dayCount;break;case"winningCamp":f=c.winningCamp,x=y.winningCamp;break;case"victoryType":f=c.victoryType,x=y.victoryType;break;default:return 0}let L;return v==="asc"?L=f>x?1:f<x?-1:0:L=f<x?1:f>x?-1:0,L===0?v==="asc"?c.gameId-y.gameId:y.gameId-c.gameId:L}):[],[i,r,v]),p=Math.ceil(w.length/S),j=(o-1)*S,b=j+S,q=w.slice(j,b);N.useEffect(()=>{if(T.current){T.current=!1;return}C(1),m(null)},[i]),N.useEffect(()=>{C(1),m(null)},[r,v]);const g=c=>{T.current=!0,C(c),m(null)},k=c=>{T.current=!0,V(c),C(1),m(null)},M=c=>{T.current=!0,m(t===c?null:c)},P=c=>{r===c?h(v==="asc"?"desc":"asc"):(u(c),h("desc"))},A=c=>r!==c?"â†•ï¸":v==="asc"?"â†—ï¸":"â†˜ï¸",E=()=>{const c=[];if(e.selectedPlayer&&e.campFilter){const y=e.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":"",f=e.campFilter.excludeTraitor&&e.campFilter.selectedCamp==="Loups"?"Loups sans TraÃ®tre":e.campFilter.selectedCamp;c.push(`${e.selectedPlayer} jouant ${f}${y}`)}else{if(e.selectedPlayer){const y=e.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":e.selectedPlayerWinMode==="all-assignments"?" (toutes parties)":"";c.push(`Joueur: ${e.selectedPlayer}${y}`)}if(e.campFilter){const{selectedCamp:y,campFilterMode:f,excludeTraitor:x}=e.campFilter,I=`Camp: ${x&&y==="Loups"?"Loups sans TraÃ®tre":y}`,B=f==="wins-only"?" (victoires uniquement)":f==="all-assignments"?" (toutes assignations)":"";c.push(I+B)}}if(e.playerPairFilter){const{selectedPlayerPair:y,selectedPairRole:f}=e.playerPairFilter,x=y.join(" & "),L=f==="wolves"?"loups":"amoureux";c.push(`Paire ${L}: ${x}`)}if(e.multiPlayerFilter){const{selectedPlayers:y,playersFilterMode:f,winnerPlayer:x}=e.multiPlayerFilter,L=y.join(" & ");let I="";f==="all-common-games"?I="toutes les parties communes":f==="opposing-camps"?I="affrontements uniquement":f==="same-camp"&&(I="parties en Ã©quipe (mÃªme camp)");const B=x?` (victoires de ${x})`:"";c.push(`${L} (${I}${B})`)}return e.selectedVictoryType&&c.push(`Victoire: ${e.selectedVictoryType}`),e.selectedHarvestRange&&c.push(`RÃ©colte: ${e.selectedHarvestRange}`),e.selectedGameDuration&&c.push(`DurÃ©e: ${e.selectedGameDuration} jour${e.selectedGameDuration>1?"s":""}`),e.selectedGame&&c.push(`Partie #${e.selectedGame}`),e.selectedDate&&(e.selectedDate.includes("/")&&e.selectedDate.split("/").length===2?c.push(`Mois: ${e.selectedDate}`):c.push(`Date: ${e.selectedDate}`)),e.selectedGameIds&&e.selectedGameIds.length>0&&c.push(`${e.selectedGameIds.length} parties sÃ©lectionnÃ©e${e.selectedGameIds.length>1?"s":""}`),c};return a?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des dÃ©tails des parties..."}):l?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",l]}):!i||i.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvÃ©e"}),s.jsx("p",{children:"Aucune partie ne correspond aux critÃ¨res sÃ©lectionnÃ©s."}),e.fromComponent&&s.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["â† Retour Ã  ",e.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[e.fromComponent&&s.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["â† Retour Ã  ",e.fromComponent]}),s.jsxs("h2",{children:["DÃ©tails des Parties (",i.length," partie",i.length>1?"s":"",")"]})]}),E().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",E().join(", ")]})]}),p>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",j+1," Ã  ",Math.min(b,w.length)," sur ",w.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:S,onChange:c=>k(Number(c.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>g(1),disabled:o===1,className:"lycans-pagination-btn",children:"Â«Â«"}),s.jsx("button",{onClick:()=>g(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"â€¹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",p]}),s.jsx("button",{onClick:()=>g(o+1),disabled:o===p,className:"lycans-pagination-btn",children:"â€º"}),s.jsx("button",{onClick:()=>g(p),disabled:o===p,className:"lycans-pagination-btn",children:"Â»Â»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>P("gameId"),className:"sortable",children:["Partie ",A("gameId")]}),s.jsxs("th",{onClick:()=>P("date"),className:"sortable",children:["Date ",A("date")]}),s.jsxs("th",{onClick:()=>P("playerCount"),className:"sortable",children:["Joueurs ",A("playerCount")]}),s.jsxs("th",{onClick:()=>P("dayCount"),className:"sortable",children:["Jours ",A("dayCount")]}),s.jsxs("th",{onClick:()=>P("winningCamp"),className:"sortable",children:["Camp Vainqueur ",A("winningCamp")]}),s.jsxs("th",{onClick:()=>P("victoryType"),className:"sortable",children:["Type de Victoire ",A("victoryType")]}),s.jsx("th",{children:"DÃ©tails"})]})}),s.jsx("tbody",{children:q.map(c=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:t===c.gameId?"selected":"",children:[s.jsxs("td",{children:["#",c.gameId]}),s.jsx("td",{children:c.date}),s.jsx("td",{children:c.playerCount}),s.jsx("td",{children:c.dayCount}),s.jsx("td",{style:{color:R[c.winningCamp]||"#fff"},children:c.winningCamp}),s.jsx("td",{children:c.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>M(c.gameId),className:"lycans-details-btn",children:t===c.gameId?"Masquer":"Voir"})})]},c.gameId),t===c.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(ce,{game:c})})},`${c.gameId}-details`)]}))})]})}),p>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",j+1," Ã  ",Math.min(b,w.length)," sur ",w.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>g(1),disabled:o===1,className:"lycans-pagination-btn",children:"Â«Â«"}),s.jsx("button",{onClick:()=>g(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"â€¹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",p]}),s.jsx("button",{onClick:()=>g(o+1),disabled:o===p,className:"lycans-pagination-btn",children:"â€º"}),s.jsx("button",{onClick:()=>g(p),disabled:o===p,className:"lycans-pagination-btn",children:"Â»Â»"})]})})]})]})}function le(e){if(e===null||e<=0)return"N/A";const n=Math.floor(e/60),i=e%60;return n===0?`${i}s`:i===0?`${n}m`:`${n}m ${i}s`}function ce({game:e}){const[n,i]=N.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations GÃ©nÃ©rales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:e.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:e.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"TraÃ®tre:"}),s.jsx("span",{className:"value",children:e.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:e.hasLovers?"Oui":"Non"})]}),e.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"RÃ´les solo:"}),s.jsx("span",{className:"value",children:e.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations SupplÃ©mentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[e.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"DurÃ©e de la partie:"}),s.jsx("span",{className:"value",children:le(e.gameDuration)})]}),e.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[e.versions,e.isModded?" (moddÃ©e)":""]})]}),e.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:e.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"RÃ©sultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:e.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:e.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:e.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:e.wolfSurvivors})]}),e.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:e.loverSurvivors})]}),e.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:e.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:e.winners})]})]})]}),e.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"RÃ©colte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"RÃ©colte:"}),s.jsx("span",{className:"value",children:e.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:e.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof e.harvestPercentage=="number"?(e.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"RÃ´les des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:e.playerRoles.map((a,l)=>{let r=a.role===a.camp?a.camp:`${a.camp} (${a.role})`;return s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:R[a.camp]||"#fff",textAlign:"left"},children:a.player}),s.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:r})]},l)})})]}),e.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>i(!n),className:"lycans-video-toggle-btn",children:n?"ðŸ“¹ Masquer la vidÃ©o":"ðŸŽ¥ Voir la vidÃ©o"})}),e.youtubeEmbedUrl&&n&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"VidÃ©o de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:e.youtubeEmbedUrl,title:`Partie Lycans #${e.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{me as GameDetailsChart};
