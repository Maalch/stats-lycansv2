import{r as c,u as pe,j as n}from"./index-AK6O1dOi.js";import{u as me,a as ue}from"./useRawGameData-DZAl8i4c.js";import{m as fe,p as H,a as ye}from"./api-beq3FXpM.js";import{q as R,u as ve,t as he,v as xe,S as U,w as ge,x as re,y as Pe,z as te,A as ne,D as be,E as je,G as Ae,H as Ce,I as se,J as we,K as Se,M as Ee,b as Ie,d as ie,N as Te,O as Oe,p as V,P as Re,j as _e,Q as D,L as z,U as De,V as Ne,W as L,Z as X,_ as Ke,$ as ze,a0 as k,i as $,a1 as ke,a2 as Le,a3 as Fe,a4 as Me,a5 as Ge,a6 as We,a7 as Be,a8 as Ve,a9 as $e,aa as qe,ab as Je,ac as Ze,F as Y,R as F,B as Q,C as M,X as G,Y as W,T as B,o as ee}from"./FullscreenChart-C3nnaCUD.js";function oe(e,a,r){return(a=He(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function He(e){var a=Ue(e,"string");return typeof a=="symbol"?a:a+""}function Ue(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Xe(e){var a=ve();return c.useEffect(()=>(a(he(e)),()=>{a(xe(e))}),[e,a]),null}class q extends c.Component{render(){return c.createElement(Xe,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:R.allowDuplicatedCategory,allowDataOverflow:R.allowDataOverflow,reversed:R.reversed,includeHidden:R.includeHidden})}}oe(q,"displayName","ZAxis");oe(q,"defaultProps",{zAxisId:0,range:R.range,scale:R.scale,type:R.type});var Ye=["option","isActive"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},K.apply(null,arguments)}function Qe(e,a){if(e==null)return{};var r,t,l=ea(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function ea(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function aa(e){var{option:a,isActive:r}=e,t=Qe(e,Ye);return typeof a=="string"?c.createElement(U,K({option:c.createElement(ge,K({type:a},t)),isActive:r,shapeType:"symbols"},t)):c.createElement(U,K({option:a,isActive:r,shapeType:"symbols"},t))}var ra=(e,a,r,t,l,o,v)=>te(e,"xAxis",a,v),ta=(e,a,r,t,l,o,v)=>ne(e,"xAxis",a,v),na=(e,a,r,t,l,o,v)=>te(e,"yAxis",r,v),sa=(e,a,r,t,l,o,v)=>ne(e,"yAxis",r,v),ia=(e,a,r,t)=>be(e,"zAxis",t,!1),oa=(e,a,r,t,l)=>l,la=(e,a,r,t,l,o)=>o,ca=(e,a,r,t,l,o,v)=>Pe(e,a,r,v),da=re([je,oa],(e,a)=>{if(e.some(r=>r.type==="scatter"&&a.dataKey===r.dataKey&&a.data===r.data))return a}),pa=re([ca,ra,ta,na,sa,ia,da,la],(e,a,r,t,l,o,v,j)=>{var{chartData:b,dataStartIndex:u,dataEndIndex:S}=e;if(v!=null){var P;if(v?.data!=null&&v.data.length>0?P=v.data:P=b?.slice(u,S+1),!(P==null||a==null||t==null||r==null||l==null||r?.length===0||l?.length===0))return ja({displayedData:P,xAxis:a,yAxis:t,zAxis:o,scatterSettings:v,xAxisTicks:r,yAxisTicks:l,cells:j})}}),ma=["onMouseEnter","onClick","onMouseLeave"],ua=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function le(e,a){if(e==null)return{};var r,t,l=fa(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)r=o[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}function fa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},N.apply(null,arguments)}function ae(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),r.push.apply(r,t)}return r}function O(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ae(Object(r),!0).forEach(function(t){J(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function J(e,a,r){return(a=ya(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ya(e){var a=va(e,"string");return typeof a=="symbol"?a:a+""}function va(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ha=e=>{var{dataKey:a,name:r,fill:t,legendType:l,hide:o}=e;return[{inactive:o,dataKey:a,type:l,color:t,value:se(r,a),payload:e}]};function xa(e){var{points:a,props:r}=e,{line:t,lineType:l,lineJointType:o}=r;if(!t)return null;var v=$(r,!1),j=$(t,!1),b,u;if(l==="joint")b=a.map(f=>({x:f.cx,y:f.cy}));else if(l==="fitting"){var{xmin:S,xmax:P,a:I,b:C}=$e(a),h=f=>I*f+C;b=[{x:S,y:h(S)},{x:P,y:h(P)}]}var g=O(O(O({},v),{},{fill:"none",stroke:v&&v.fill},j),{},{points:b});return c.isValidElement(t)?u=c.cloneElement(t,g):typeof t=="function"?u=t(g):u=c.createElement(qe,N({},g,{type:o})),c.createElement(z,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function ce(e){var{points:a,showLabels:r,allOtherScatterProps:t}=e,{shape:l,activeShape:o,dataKey:v}=t,j=$(t,!1),b=ie(ke),{onMouseEnter:u,onClick:S,onMouseLeave:P}=t,I=le(t,ma),C=Le(u,t.dataKey),h=Fe(P),g=Me(S,t.dataKey);return a==null?null:c.createElement(c.Fragment,null,c.createElement(xa,{points:a,props:t}),a.map((f,s)=>{var y=o&&b===String(s),x=y?o:l,i=O(O(O({key:"symbol-".concat(s)},j),f),{},{[We]:s,[Ge]:String(v)});return c.createElement(z,N({className:"recharts-scatter-symbol"},Be(I,f,s),{onMouseEnter:C(f,s),onMouseLeave:h(f,s),onClick:g(f,s),key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(s)}),c.createElement(aa,N({option:x,isActive:y},i)))}),r&&Ve.renderCallByParent(t,a))}function ga(e){var{previousPointsRef:a,props:r}=e,{points:t,isAnimationActive:l,animationBegin:o,animationDuration:v,animationEasing:j}=r,b=a.current,u=Ke(r,"recharts-scatter-"),[S,P]=c.useState(!1),I=c.useCallback(()=>{P(!1)},[]),C=c.useCallback(()=>{P(!0)},[]);return c.createElement(ze,{begin:o,duration:v,isActive:l,easing:j,from:{t:0},to:{t:1},onAnimationEnd:I,onAnimationStart:C,key:u},h=>{var{t:g}=h,f=g===1?t:t.map((s,y)=>{var x=b&&b[y];if(x){var i=k(x.cx,s.cx),p=k(x.cy,s.cy),d=k(x.size,s.size);return O(O({},s),{},{cx:i(g),cy:p(g),size:d(g)})}var m=k(0,s.size);return O(O({},s),{},{size:m(g)})});return g>0&&(a.current=f),c.createElement(z,null,c.createElement(ce,{points:f,allOtherScatterProps:r,showLabels:!S}))})}function Pa(e){var{points:a,isAnimationActive:r}=e,t=c.useRef(null),l=t.current;return r&&a&&a.length&&(!l||l!==a)?c.createElement(ga,{props:e,previousPointsRef:t}):c.createElement(ce,{points:a,allOtherScatterProps:e,showLabels:!0})}function ba(e){var{dataKey:a,points:r,stroke:t,strokeWidth:l,fill:o,name:v,hide:j,tooltipType:b}=e;return{dataDefinedOnItem:r?.map(u=>u.tooltipPayload),positions:r?.map(u=>u.tooltipPosition),settings:{stroke:t,strokeWidth:l,fill:o,nameKey:void 0,dataKey:a,name:se(v,a),hide:j,type:b,color:o,unit:""}}}function ja(e){var{displayedData:a,xAxis:r,yAxis:t,zAxis:l,scatterSettings:o,xAxisTicks:v,yAxisTicks:j,cells:b}=e,u=D(r.dataKey)?o.dataKey:r.dataKey,S=D(t.dataKey)?o.dataKey:t.dataKey,P=l&&l.dataKey,I=l?l.range:q.defaultProps.range,C=I&&I[0],h=r.scale.bandwidth?r.scale.bandwidth():0,g=t.scale.bandwidth?t.scale.bandwidth():0;return a.map((f,s)=>{var y=L(f,u),x=L(f,S),i=!D(P)&&L(f,P)||"-",p=[{name:D(r.dataKey)?o.name:r.name||r.dataKey,unit:r.unit||"",value:y,payload:f,dataKey:u,type:o.tooltipType},{name:D(t.dataKey)?o.name:t.name||t.dataKey,unit:t.unit||"",value:x,payload:f,dataKey:S,type:o.tooltipType}];i!=="-"&&p.push({name:l.name||l.dataKey,unit:l.unit||"",value:i,payload:f,dataKey:P,type:o.tooltipType});var d=X({axis:r,ticks:v,bandSize:h,entry:f,index:s,dataKey:u}),m=X({axis:t,ticks:j,bandSize:g,entry:f,index:s,dataKey:S}),E=i!=="-"?l.scale(i):C,T=Math.sqrt(Math.max(E,0)/Math.PI);return O(O({},f),{},{cx:d,cy:m,x:d-T,y:m-T,width:2*T,height:2*T,size:E,node:{x:y,y:x,z:i},tooltipPayload:p,tooltipPosition:{x:d,y:m},payload:f},b&&b[s]&&b[s].props)})}var Aa=(e,a,r)=>({x:e.cx,y:e.cy,value:r==="x"?+e.node.x:+e.node.y,errorVal:L(e,a)});function Ca(e){var a=c.useRef(Re("recharts-scatter-")),{hide:r,points:t,className:l,needClip:o,xAxisId:v,yAxisId:j,id:b,children:u}=e;if(r)return null;var S=_e("recharts-scatter",l),P=D(b)?a.current:b;return c.createElement(z,{className:S,clipPath:o?"url(#clipPath-".concat(P,")"):null},o&&c.createElement("defs",null,c.createElement(De,{clipPathId:P,xAxisId:v,yAxisId:j})),c.createElement(Ne,{xAxisId:v,yAxisId:j,data:t,dataPointFormatter:Aa,errorBarOffset:0},u),c.createElement(z,{key:"recharts-scatter-symbols"},c.createElement(Pa,e)))}var de={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Oe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function wa(e){var a=we(e,de),{animationBegin:r,animationDuration:t,animationEasing:l,hide:o,isAnimationActive:v,legendType:j,lineJointType:b,lineType:u,shape:S,xAxisId:P,yAxisId:I,zAxisId:C}=a,h=le(a,ua),{needClip:g}=Se(P,I),f=c.useMemo(()=>Ee(e.children,V),[e.children]),s=c.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),y=Ie(),x=ie(i=>pa(i,P,I,C,s,f,y));return g==null?null:c.createElement(c.Fragment,null,c.createElement(Te,{fn:ba,args:O(O({},e),{},{points:x})}),c.createElement(Ca,N({},h,{xAxisId:P,yAxisId:I,zAxisId:C,lineType:u,lineJointType:b,legendType:j,shape:S,hide:o,isAnimationActive:v,animationBegin:r,animationDuration:t,animationEasing:l,points:x,needClip:g})))}class Z extends c.Component{render(){return c.createElement(Ae,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},c.createElement(Ce,{legendPayload:ha(this.props)}),c.createElement(wa,this.props))}}J(Z,"displayName","Scatter");J(Z,"defaultProps",de);var Sa=["item"],Ea=c.forwardRef((e,a)=>c.createElement(Je,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Sa,tooltipPayloadSearcher:Ze,categoricalChartProps:e,ref:a}));function Ia(){const{data:e,isLoading:a,error:r}=me(),{data:t,isLoading:l,error:o}=ue();return{playerCampPerformance:c.useMemo(()=>{if(!e||e.length===0||!t||t.length===0)return null;const u=i=>i?i.split(",").map(p=>p.trim()).filter(Boolean):[],S=(i,p,d)=>i[p]&&i[p][d]||"Villageois",P=(i,p)=>p&&p.trim()!==""?u(p).some(m=>m.toLowerCase()===i.toLowerCase()):!1,I=(i,p)=>i===p||i==="Traître"&&p==="Loups",C={};t.forEach(i=>{const p=i.Game;if(!p)return;C[p]||(C[p]={});const d=(w,_)=>{w&&w.trim()&&(C[p][w.trim()]=_)},m=i.Loups;m&&u(m).forEach(w=>{C[p][w]="Loups"}),d(i.Traître,"Traître"),d(i["Idiot du village"],"Idiot du Village"),d(i.Cannibale,"Cannibale"),d(i.Espion,"Espion"),d(i["La Bête"],"La Bête"),d(i["Chasseur de primes"],"Chasseur de primes"),d(i.Vaudou,"Vaudou");const E=i.Agent;E&&u(E).forEach(w=>{C[p][w]="Agent"});const T=i.Scientifique;T&&u(T).forEach(w=>{C[p][w]="Scientifique"});const A=i.Amoureux;A&&u(A).forEach(w=>{C[p][w]="Amoureux"})});const h={};e.forEach(i=>{const p=i.Game,d=i["Liste des joueurs"],m=i["Camp victorieux"];if(p&&d&&m){const E=u(d),T=new Set;E.forEach(A=>{const w=A.trim();if(w){const _=S(C,p,w);T.add(_)}}),T.forEach(A=>{h[A]||(h[A]={totalGames:0,wins:0,winRate:0,players:{}}),h[A].totalGames++}),T.forEach(A=>{I(A,m)&&h[A].wins++})}});const g={};e.forEach(i=>{const p=i.Game,d=i["Liste des joueurs"],m=i["Liste des gagnants"];p&&d&&m&&u(d).forEach(T=>{const A=T.trim();if(A){const w=S(C,p,T);h[w].players[A]||(h[w].players[A]={games:0,wins:0,winRate:0}),h[w].players[A].games++;const _=P(A,m);_&&h[w].players[A].wins++,g[A]||(g[A]={totalGames:0,camps:{}}),g[A].camps[w]||(g[A].camps[w]={games:0,wins:0,winRate:0,performance:0}),g[A].totalGames++,g[A].camps[w].games++,_&&g[A].camps[w].wins++}})}),Object.keys(h).forEach(i=>{h[i].totalGames>0&&(h[i].winRate=parseFloat((h[i].wins/h[i].totalGames*100).toFixed(2))),Object.keys(h[i].players).forEach(p=>{const d=h[i].players[p];d.games>0&&(d.winRate=parseFloat((d.wins/d.games*100).toFixed(2)))})}),Object.keys(g).forEach(i=>{Object.keys(g[i].camps).forEach(p=>{const d=g[i].camps[p];d.games>0&&(d.winRate=parseFloat((d.wins/d.games*100).toFixed(2)),h[p]&&h[p].winRate&&(d.performance=parseFloat((d.winRate-h[p].winRate).toFixed(2))))})});const f=5,s=[];return Object.keys(g).forEach(i=>{const p=g[i],d=[];Object.keys(p.camps).forEach(m=>{const E=p.camps[m];E.games>=f&&d.push({camp:m,games:E.games,wins:E.wins,winRate:E.winRate.toFixed(2),campAvgWinRate:h[m].winRate.toFixed(2),performance:E.performance.toFixed(2)})}),d.sort((m,E)=>parseFloat(E.performance)-parseFloat(m.performance)),d.length>0&&s.push({player:i,totalGames:p.totalGames,campPerformance:d})}),s.sort((i,p)=>p.totalGames-i.totalGames),{campAverages:Object.keys(h).map(i=>({camp:i,totalGames:h[i].totalGames,winRate:h[i].winRate.toFixed(2)})),playerPerformance:s,minGamesRequired:f}},[e,t]),isLoading:a||l,error:r||o}}function Da(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:r}=pe(),[t,l]=c.useState(a.selectedCampPerformanceView||"player-performance"),[o,v]=c.useState(a.selectedCampPerformanceCamp||"Villageois"),[j,b]=c.useState(a.selectedCampPerformanceMinGames||5),{playerCampPerformance:u,isLoading:S,error:P}=Ia();c.useEffect(()=>{a.selectedCampPerformanceView||r({selectedCampPerformanceView:t,selectedCampPerformanceCamp:o,selectedCampPerformanceMinGames:j})},[t,o,j,a.selectedCampPerformanceView,r]);const I=c.useMemo(()=>u?.campAverages?u.campAverages.map(s=>s.camp).sort():[],[u]),{campPlayerData:C,topPerformersData:h}=c.useMemo(()=>{if(!u?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=u,y=[],x=[];for(const d of s)for(const m of d.campPerformance)if(m.games>=j){const E={player:d.player,camp:m.camp,games:m.games,wins:m.wins,winRate:m.winRate,performance:m.performance,winRateNum:parseFloat(m.winRate),performanceNum:parseFloat(m.performance),campAvgWinRateNum:parseFloat(m.campAvgWinRate)};x.push(E),m.camp===o&&y.push({player:d.player,...m,winRateNum:parseFloat(m.winRate),performanceNum:parseFloat(m.performance),campAvgWinRateNum:parseFloat(m.campAvgWinRate)})}const i=y.sort((d,m)=>m.performanceNum-d.performanceNum),p=x.sort((d,m)=>m.performanceNum-d.performanceNum).slice(0,20);return{campPlayerData:i,topPerformersData:p}},[u,o,j]),g=s=>{s&&s.player&&e({selectedPlayer:s.player,selectedCamp:o,fromComponent:`Performance des Joueurs - ${o}`})},f=s=>{s&&s.player&&s.camp&&e({selectedPlayer:s.player,selectedCamp:s.camp,fromComponent:`Top 20 des Performances (Min. ${j} parties dans ce camp)`})};return S?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):P?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",P]}):u?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:t,onChange:s=>{const y=s.target.value;l(y),r({selectedCampPerformanceView:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),t==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:o,onChange:s=>{const y=s.target.value;v(y),r({selectedCampPerformanceCamp:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:I.map(s=>n.jsx("option",{value:s,children:s},s))})]}),(t==="player-performance"||t==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:j,onChange:s=>{const y=Number(s.target.value);b(y),r({selectedCampPerformanceMinGames:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:fe.map(s=>n.jsx("option",{value:s,children:s},s))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:u.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:u.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[t==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",o]}),n.jsx(Y,{title:`Performance des Joueurs - ${o}`,children:n.jsx("div",{style:{height:500},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(Q,{data:C.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const x=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:x.player})}),n.jsxs("div",{children:["Parties: ",x.games]}),n.jsxs("div",{children:["Victoires: ",x.wins]}),n.jsxs("div",{children:["Taux personnel: ",x.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",x.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",x.performance>0?"+":"",x.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(ee,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:g,children:C.slice(0,15).map((s,y)=>n.jsx(V,{fill:H[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${y}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",o]}),n.jsx(Y,{title:`Relation Parties Jouées vs Performance - ${o}`,children:n.jsx("div",{style:{height:400},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(Ea,{data:C,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(W,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const x=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:x.player})}),n.jsxs("div",{children:["Parties: ",x.games]}),n.jsxs("div",{children:["Performance: ",x.performance>0?"+":"",x.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&e({selectedPlayer:s.player,selectedCamp:o,fromComponent:`Relation Parties Jouées vs Performance - ${o}`})},shape:s=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:s.cx,cy:s.cy,r:12,fill:H[s.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),t==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${j} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(Q,{data:h,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const x=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:x.player})}),n.jsxs("div",{children:["Camp: ",x.camp]}),n.jsxs("div",{children:["Parties: ",x.games]}),n.jsxs("div",{children:["Taux personnel: ",x.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",x.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(ee,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:f,children:h.map((s,y)=>n.jsx(V,{fill:ye[s.camp]||`var(--chart-color-${y%6+1})`},`cell-${y}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Da as PlayerCampPerformanceChart};
