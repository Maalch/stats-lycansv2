import{r as c,u as ce,j as n}from"./index-DmZNDE06.js";import{u as me}from"./baseStatsHook-Dabf75xY.js";import{g as W}from"./gameUtils-BuNbDi0M.js";import{u as de,a as pe,m as ue}from"./api-Cv_e9cxD.js";import{S as J,d as fe,u as ye,b as L,G as ve,e as he,f as xe,g as ge,h as Pe,i as be,F as Z,B as U,C as K,X as F,Y as M,a as H}from"./FullscreenChart-Cs0DW17X.js";import{m as T,u as je,n as Ae,o as Ce,S as we,p as Q,q as Se,t as ee,v as ae,w as Ie,x as Ee,y as Te,z as re,A as Oe,B as Re,b as _e,d as te,C as Ne,G as ze,D as De,i as Ke,E as O,L as N,F as D,H as X,I as Fe,J as Me,K as z,h as B,M as ke,N as Ge,O as We,P as Le,Q as Be,U as Ve,V as $e,W as qe,R as k,T as G}from"./CategoricalChart-DV9M1rM6.js";function ne(e,a,r){return(a=Je(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function Je(e){var a=Ze(e,"string");return typeof a=="symbol"?a:a+""}function Ze(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ue(e){var a=je();return c.useEffect(()=>(a(Ae(e)),()=>{a(Ce(e))}),[e,a]),null}class V extends c.Component{render(){return c.createElement(Ue,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:T.allowDuplicatedCategory,allowDataOverflow:T.allowDataOverflow,reversed:T.reversed,includeHidden:T.includeHidden})}}ne(V,"displayName","ZAxis");ne(V,"defaultProps",{zAxisId:0,range:T.range,scale:T.scale,type:T.type});var He=["option","isActive"];function _(){return _=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},_.apply(null,arguments)}function Xe(e,a){if(e==null)return{};var r,t,s=Ye(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Ye(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function Qe(e){var{option:a,isActive:r}=e,t=Xe(e,He);return typeof a=="string"?c.createElement(J,_({option:c.createElement(we,_({type:a},t)),isActive:r,shapeType:"symbols"},t)):c.createElement(J,_({option:a,isActive:r,shapeType:"symbols"},t))}var ea=(e,a,r,t,s,i,l)=>ee(e,"xAxis",a,l),aa=(e,a,r,t,s,i,l)=>ae(e,"xAxis",a,l),ra=(e,a,r,t,s,i,l)=>ee(e,"yAxis",r,l),ta=(e,a,r,t,s,i,l)=>ae(e,"yAxis",r,l),na=(e,a,r,t)=>Ie(e,"zAxis",t,!1),ia=(e,a,r,t,s)=>s,sa=(e,a,r,t,s,i)=>i,oa=(e,a,r,t,s,i,l)=>Se(e,a,r,l),la=Q([Ee,ia],(e,a)=>{if(e.some(r=>r.type==="scatter"&&a.dataKey===r.dataKey&&a.data===r.data))return a}),ca=Q([oa,ea,aa,ra,ta,na,la,sa],(e,a,r,t,s,i,l,p)=>{var{chartData:y,dataStartIndex:m,dataEndIndex:P}=e;if(l!=null){var f;if(l?.data!=null&&l.data.length>0?f=l.data:f=y?.slice(m,P+1),!(f==null||a==null||t==null||r==null||s==null||r?.length===0||s?.length===0))return Pa({displayedData:f,xAxis:a,yAxis:t,zAxis:i,scatterSettings:l,xAxisTicks:r,yAxisTicks:s,cells:p})}}),ma=["onMouseEnter","onClick","onMouseLeave"],da=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function ie(e,a){if(e==null)return{};var r,t,s=pa(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function pa(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},R.apply(null,arguments)}function Y(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,t)}return r}function j(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Y(Object(r),!0).forEach(function(t){$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,a,r){return(a=ua(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ua(e){var a=fa(e,"string");return typeof a=="symbol"?a:a+""}function fa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var ya=e=>{var{dataKey:a,name:r,fill:t,legendType:s,hide:i}=e;return[{inactive:i,dataKey:a,type:s,color:t,value:re(r,a),payload:e}]};function va(e){var{points:a,props:r}=e,{line:t,lineType:s,lineJointType:i}=r;if(!t)return null;var l=B(r,!1),p=B(t,!1),y,m;if(s==="joint")y=a.map(u=>({x:u.cx,y:u.cy}));else if(s==="fitting"){var{xmin:P,xmax:f,a:b,b:A}=Ve(a),C=u=>b*u+A;y=[{x:P,y:C(P)},{x:f,y:C(f)}]}var g=j(j(j({},l),{},{fill:"none",stroke:l&&l.fill},p),{},{points:y});return c.isValidElement(t)?m=c.cloneElement(t,g):typeof t=="function"?m=t(g):m=c.createElement($e,R({},g,{type:i})),c.createElement(N,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function se(e){var{points:a,showLabels:r,allOtherScatterProps:t}=e,{shape:s,activeShape:i,dataKey:l}=t,p=B(t,!1),y=te(ke),{onMouseEnter:m,onClick:P,onMouseLeave:f}=t,b=ie(t,ma),A=xe(m,t.dataKey),C=ge(f),g=Pe(P,t.dataKey);return a==null?null:c.createElement(c.Fragment,null,c.createElement(va,{points:a,props:t}),a.map((u,h)=>{var w=i&&y===String(h),o=w?i:s,d=j(j(j({key:"symbol-".concat(h)},p),u),{},{[We]:h,[Ge]:String(l)});return c.createElement(N,R({className:"recharts-scatter-symbol"},Le(b,u,h),{onMouseEnter:A(u,h),onMouseLeave:C(u,h),onClick:g(u,h),key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(h)}),c.createElement(Qe,R({option:o,isActive:w},d)))}),r&&Be.renderCallByParent(t,a))}function ha(e){var{previousPointsRef:a,props:r}=e,{points:t,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:p}=r,y=a.current,m=Fe(r,"recharts-scatter-"),[P,f]=c.useState(!1),b=c.useCallback(()=>{f(!1)},[]),A=c.useCallback(()=>{f(!0)},[]);return c.createElement(Me,{begin:i,duration:l,isActive:s,easing:p,from:{t:0},to:{t:1},onAnimationEnd:b,onAnimationStart:A,key:m},C=>{var{t:g}=C,u=g===1?t:t.map((h,w)=>{var o=y&&y[w];if(o){var d=z(o.cx,h.cx),v=z(o.cy,h.cy),I=z(o.size,h.size);return j(j({},h),{},{cx:d(g),cy:v(g),size:I(g)})}var E=z(0,h.size);return j(j({},h),{},{size:E(g)})});return g>0&&(a.current=u),c.createElement(N,null,c.createElement(se,{points:u,allOtherScatterProps:r,showLabels:!P}))})}function xa(e){var{points:a,isAnimationActive:r}=e,t=c.useRef(null),s=t.current;return r&&a&&a.length&&(!s||s!==a)?c.createElement(ha,{props:e,previousPointsRef:t}):c.createElement(se,{points:a,allOtherScatterProps:e,showLabels:!0})}function ga(e){var{dataKey:a,points:r,stroke:t,strokeWidth:s,fill:i,name:l,hide:p,tooltipType:y}=e;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:t,strokeWidth:s,fill:i,nameKey:void 0,dataKey:a,name:re(l,a),hide:p,type:y,color:i,unit:""}}}function Pa(e){var{displayedData:a,xAxis:r,yAxis:t,zAxis:s,scatterSettings:i,xAxisTicks:l,yAxisTicks:p,cells:y}=e,m=O(r.dataKey)?i.dataKey:r.dataKey,P=O(t.dataKey)?i.dataKey:t.dataKey,f=s&&s.dataKey,b=s?s.range:V.defaultProps.range,A=b&&b[0],C=r.scale.bandwidth?r.scale.bandwidth():0,g=t.scale.bandwidth?t.scale.bandwidth():0;return a.map((u,h)=>{var w=D(u,m),o=D(u,P),d=!O(f)&&D(u,f)||"-",v=[{name:O(r.dataKey)?i.name:r.name||r.dataKey,unit:r.unit||"",value:w,payload:u,dataKey:m,type:i.tooltipType},{name:O(t.dataKey)?i.name:t.name||t.dataKey,unit:t.unit||"",value:o,payload:u,dataKey:P,type:i.tooltipType}];d!=="-"&&v.push({name:s.name||s.dataKey,unit:s.unit||"",value:d,payload:u,dataKey:f,type:i.tooltipType});var I=X({axis:r,ticks:l,bandSize:C,entry:u,index:h,dataKey:m}),E=X({axis:t,ticks:p,bandSize:g,entry:u,index:h,dataKey:P}),S=d!=="-"?s.scale(d):A,x=Math.sqrt(Math.max(S,0)/Math.PI);return j(j({},u),{},{cx:I,cy:E,x:I-x,y:E-x,width:2*x,height:2*x,size:S,node:{x:w,y:o,z:d},tooltipPayload:v,tooltipPosition:{x:I,y:E},payload:u},y&&y[h]&&y[h].props)})}var ba=(e,a,r)=>({x:e.cx,y:e.cy,value:r==="x"?+e.node.x:+e.node.y,errorVal:D(e,a)});function ja(e){var a=c.useRef(De("recharts-scatter-")),{hide:r,points:t,className:s,needClip:i,xAxisId:l,yAxisId:p,id:y,children:m}=e;if(r)return null;var P=Ke("recharts-scatter",s),f=O(y)?a.current:y;return c.createElement(N,{className:P,clipPath:i?"url(#clipPath-".concat(f,")"):null},i&&c.createElement("defs",null,c.createElement(ve,{clipPathId:f,xAxisId:l,yAxisId:p})),c.createElement(he,{xAxisId:l,yAxisId:p,data:t,dataPointFormatter:ba,errorBarOffset:0},m),c.createElement(N,{key:"recharts-scatter-symbols"},c.createElement(xa,e)))}var oe={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ze.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Aa(e){var a=Oe(e,oe),{animationBegin:r,animationDuration:t,animationEasing:s,hide:i,isAnimationActive:l,legendType:p,lineJointType:y,lineType:m,shape:P,xAxisId:f,yAxisId:b,zAxisId:A}=a,C=ie(a,da),{needClip:g}=ye(f,b),u=c.useMemo(()=>Re(e.children,L),[e.children]),h=c.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),w=_e(),o=te(d=>ca(d,f,b,A,h,u,w));return g==null?null:c.createElement(c.Fragment,null,c.createElement(Ne,{fn:ga,args:j(j({},e),{},{points:o})}),c.createElement(ja,R({},C,{xAxisId:f,yAxisId:b,zAxisId:A,lineType:m,lineJointType:y,legendType:p,shape:P,hide:i,isAnimationActive:l,animationBegin:r,animationDuration:t,animationEasing:s,points:o,needClip:g})))}class q extends c.Component{render(){return c.createElement(fe,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},c.createElement(Te,{legendPayload:ya(this.props)}),c.createElement(Aa,this.props))}}$(q,"displayName","Scatter");$(q,"defaultProps",oe);var Ca=["item"],wa=c.forwardRef((e,a)=>c.createElement(be,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ca,tooltipPayloadSearcher:qe,categoricalChartProps:e,ref:a}));function Sa(e){const a={};return e.forEach(r=>{const t=new Set;r.PlayerStats.forEach(i=>{const l=W(i.MainRoleInitial);t.add(l)}),t.forEach(i=>{a[i]||(a[i]={totalGames:0,wins:0,winRate:0,players:{}}),a[i].totalGames++});const s=new Set;r.PlayerStats.forEach(i=>{if(i.Victorious){const l=W(i.MainRoleInitial);s.add(l)}}),s.forEach(i=>{a[i]&&a[i].wins++})}),a}function Ia(e,a){const r={};return e.forEach(t=>{t.PlayerStats.forEach(s=>{const i=s.Username.trim();if(!i)return;const l=W(s.MainRoleInitial);a[l].players[i]||(a[l].players[i]={games:0,wins:0,winRate:0}),a[l].players[i].games++,s.Victorious&&a[l].players[i].wins++,r[i]||(r[i]={totalGames:0,camps:{}}),r[i].camps[l]||(r[i].camps[l]={games:0,wins:0,winRate:0,performance:0}),r[i].totalGames++,r[i].camps[l].games++,s.Victorious&&r[i].camps[l].wins++})}),r}function Ea(e){Object.keys(e).forEach(a=>{e[a].totalGames>0&&(e[a].winRate=parseFloat((e[a].wins/e[a].totalGames*100).toFixed(2))),Object.keys(e[a].players).forEach(r=>{const t=e[a].players[r];t.games>0&&(t.winRate=parseFloat((t.wins/t.games*100).toFixed(2)))})})}function Ta(e,a){Object.keys(e).forEach(r=>{Object.keys(e[r].camps).forEach(t=>{const s=e[r].camps[t];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),a[t]&&a[t].winRate&&(s.performance=parseFloat((s.winRate-a[t].winRate).toFixed(2))))})})}function Oa(e,a,r){const t=[];return Object.keys(e).forEach(i=>{const l=e[i],p=[];Object.keys(l.camps).forEach(y=>{const m=l.camps[y];m.games>=r&&p.push({camp:y,games:m.games,wins:m.wins,winRate:m.winRate.toFixed(2),campAvgWinRate:a[y].winRate.toFixed(2),performance:m.performance.toFixed(2)})}),p.sort((y,m)=>parseFloat(m.performance)-parseFloat(y.performance)),p.length>0&&t.push({player:i,totalGames:l.totalGames,campPerformance:p})}),t.sort((i,l)=>l.totalGames-i.totalGames),{campAverages:Object.keys(a).map(i=>({camp:i,totalGames:a[i].totalGames,wins:a[i].wins,winRate:a[i].winRate.toFixed(2)})),playerPerformanceArray:t}}function Ra(e){if(e.length===0)return null;const a=Sa(e),r=Ia(e,a);Ea(a),Ta(r,a);const t=3,{campAverages:s,playerPerformanceArray:i}=Oa(r,a,t);return{campAverages:s,playerPerformance:i,minGamesRequired:t}}function _a(){const{data:e,isLoading:a,error:r}=me(Ra);return{playerCampPerformance:e,isLoading:a,error:r}}function ka(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:r}=ce(),t=de(),s=pe(),[i,l]=c.useState(a.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[p,y]=c.useState(a.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[m,P]=c.useState(a.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:f,isLoading:b,error:A}=_a();c.useEffect(()=>{a.campPerformanceState||r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:m}})},[i,p,m,a.campPerformanceState,r]);const C=c.useMemo(()=>f?.campAverages?f.campAverages.map(o=>o.camp).sort():[],[f]),{campPlayerData:g,topPerformersData:u}=c.useMemo(()=>{if(!f?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=f,d=[],v=[];for(const S of o)for(const x of S.campPerformance)if(x.games>=m){const le={player:S.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)};v.push(le),x.camp===p&&d.push({player:S.player,...x,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)})}const I=d.sort((S,x)=>x.performanceNum-S.performanceNum),E=v.sort((S,x)=>x.performanceNum-S.performanceNum).slice(0,20);return{campPlayerData:I,topPerformersData:E}},[f,p,m]),h=o=>{o&&o.player&&e({selectedPlayer:o.player,campFilter:{selectedCamp:p,campFilterMode:"wins-only",excludeTraitor:p==="Traître"},fromComponent:`Performance des Joueurs - ${p}`})},w=o=>{o&&o.player&&o.camp&&e({selectedPlayer:o.player,campFilter:{selectedCamp:o.camp,campFilterMode:"wins-only",excludeTraitor:o.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${m} parties dans ce camp)`})};return b?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):A?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",A]}):f?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:i,onChange:o=>{const d=o.target.value;l(d),r({campPerformanceState:{selectedCampPerformanceView:d,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),i==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:p,onChange:o=>{const d=o.target.value;y(d),r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:C.map(o=>n.jsx("option",{value:o,children:o},o))})]}),(i==="player-performance"||i==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:m,onChange:o=>{const d=Number(o.target.value);P(d),r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:d}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ue.map(o=>n.jsx("option",{value:o,children:o},o))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:f.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:f.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[i==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",p]}),n.jsx(Z,{title:`Performance des Joueurs - ${p}`,children:n.jsx("div",{style:{height:500},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(U,{data:g.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Victoires: ",v.wins]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",v.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(H,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:g.slice(0,15).map((o,d)=>n.jsx(L,{fill:s[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${d}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",p]}),n.jsx(Z,{title:`Relation Parties Jouées vs Performance - ${p}`,children:n.jsx("div",{style:{height:400},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(wa,{data:g,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(M,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(q,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&e({selectedPlayer:o.player,campFilter:{selectedCamp:p,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${p}`})},shape:o=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:o.cx,cy:o.cy,r:12,fill:s[o.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),i==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${m} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(U,{data:u,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Camp: ",v.camp]}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(H,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:w,children:u.map((o,d)=>n.jsx(L,{fill:t[o.camp]||`var(--chart-color-${d%6+1})`},`cell-${d}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{ka as PlayerCampPerformanceChart};
