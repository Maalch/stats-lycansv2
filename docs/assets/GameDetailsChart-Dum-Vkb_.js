import{u as M,r as N,j as s}from"./index-DYmTKEcR.js";import{i as k,s as d}from"./baseStatsHook-BSxnYrRY.js";import{c as B,a as $}from"./gameUtils-AXOEkowQ.js";import{a as E}from"./api-beq3FXpM.js";function w(n,l){const a=n.toLowerCase();return l.Loups&&l.Loups.toLowerCase().includes(a)||l.Traître&&l.Traître.toLowerCase().includes(a)?"Loups":l["Idiot du village"]&&l["Idiot du village"].toLowerCase().includes(a)?"Idiot du Village":l.Cannibale&&l.Cannibale.toLowerCase().includes(a)?"Cannibale":l.Agent&&l.Agent.toLowerCase().includes(a)?"Agent":l.Espion&&l.Espion.toLowerCase().includes(a)?"Espion":l.Scientifique&&l.Scientifique.toLowerCase().includes(a)?"Scientifique":l.Amoureux&&l.Amoureux.toLowerCase().includes(a)?"Amoureux":l["La Bête"]&&l["La Bête"].toLowerCase().includes(a)?"La Bête":l["Chasseur de primes"]&&l["Chasseur de primes"].toLowerCase().includes(a)?"Chasseur de primes":l.Vaudou&&l.Vaudou.toLowerCase().includes(a)?"Vaudou":"Villageois"}function J(n,l,a,o){const t=n.toLowerCase();switch(l){case"Traître":return!!(a.Traître&&a.Traître.toLowerCase().includes(t));case"Idiot du Village":return!!(a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(t));case"Cannibale":return!!(a.Cannibale&&a.Cannibale.toLowerCase().includes(t));case"Agent":return!!(a.Agent&&a.Agent.toLowerCase().includes(t));case"Espion":return!!(a.Espion&&a.Espion.toLowerCase().includes(t));case"Scientifique":return!!(a.Scientifique&&a.Scientifique.toLowerCase().includes(t));case"Amoureux":return!!(a.Amoureux&&a.Amoureux.toLowerCase().includes(t));case"La Bête":return!!(a["La Bête"]&&a["La Bête"].toLowerCase().includes(t));case"Chasseur de primes":return!!(a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(t));case"Vaudou":return!!(a.Vaudou&&a.Vaudou.toLowerCase().includes(t));case"Villageois":const e=o["Liste des joueurs"].toLowerCase().includes(t),i=[...a.Loups?d(a.Loups):[],...a.Traître?[a.Traître.trim()]:[],...a["Idiot du village"]?[a["Idiot du village"].trim()]:[],...a.Cannibale?[a.Cannibale.trim()]:[],...a.Agent?d(a.Agent):[],...a.Espion?[a.Espion.trim()]:[],...a.Scientifique?[a.Scientifique.trim()]:[],...a.Amoureux?d(a.Amoureux):[],...a["La Bête"]?[a["La Bête"].trim()]:[],...a["Chasseur de primes"]?[a["Chasseur de primes"].trim()]:[],...a.Vaudou?[a.Vaudou.trim()]:[]].map(v=>v.toLowerCase());return e&&!i.includes(t);default:return!1}}function H(n,l,a){if(!a)return n;let o=[...n];return a.selectedPlayer&&(o=o.filter(t=>t["Liste des joueurs"].toLowerCase().includes(a.selectedPlayer.toLowerCase()))),a.selectedGame&&(o=o.filter(t=>t.Game===a.selectedGame)),a.selectedCamp&&(o=o.filter(t=>{const e=l.find(i=>i.Game===t.Game);if(!e)return!1;if(a.selectedPlayer){if(a.selectedCamp==="Autres"&&a._smallCamps)return a._smallCamps.some(u=>J(a.selectedPlayer,u,e,t));const i=w(a.selectedPlayer,e);return i==="Agent"&&a.selectedCamp==="Agent"&&t["Camp victorieux"]==="Agent"?d(t["Liste des gagnants"]?.toString()||"").some(u=>u.toLowerCase()===a.selectedPlayer.toLowerCase()):i===a.selectedCamp}else{if((a.campFilterMode||"wins-only")==="wins-only")return a.selectedCamp==="Autres"&&a._smallCamps?a._smallCamps.includes(t["Camp victorieux"]):t["Camp victorieux"]===a.selectedCamp;if(a.selectedCamp==="Autres"&&a._smallCamps)return a._smallCamps.some(u=>{switch(u){case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const m=d(t["Liste des joueurs"]),p=[...d(e.Loups||""),...e.Traître?[e.Traître.trim()]:[],...e["Idiot du village"]?[e["Idiot du village"].trim()]:[],...e.Cannibale?[e.Cannibale.trim()]:[],...e.Agent?d(e.Agent):[],...e.Espion?[e.Espion.trim()]:[],...e.Scientifique?[e.Scientifique.trim()]:[],...d(e.Amoureux||""),...e["La Bête"]?[e["La Bête"].trim()]:[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()]:[],...e.Vaudou?[e.Vaudou.trim()]:[]];return m.some(y=>!p.includes(y));default:return!1}});switch(a.selectedCamp){case"Loups":return!!(e.Loups&&e.Loups.trim());case"Traître":return!!(e.Traître&&e.Traître.trim());case"Villageois":const v=d(t["Liste des joueurs"]),u=[...d(e.Loups||""),...e.Traître?[e.Traître.trim()]:[],...e["Idiot du village"]?[e["Idiot du village"].trim()]:[],...e.Cannibale?[e.Cannibale.trim()]:[],...e.Agent?d(e.Agent):[],...e.Espion?[e.Espion.trim()]:[],...e.Scientifique?[e.Scientifique.trim()]:[],...d(e.Amoureux||""),...e["La Bête"]?[e["La Bête"].trim()]:[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()]:[],...e.Vaudou?[e.Vaudou.trim()]:[]];return v.some(m=>!u.includes(m));case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());default:return t["Camp victorieux"]===a.selectedCamp}}})),a.selectedVictoryType&&(o=o.filter(t=>t["Type de victoire"]===a.selectedVictoryType)),a.selectedDate&&(o=o.filter(t=>{const e=t.Date;if(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2){const[i,v]=a.selectedDate.split("/"),u=e.split("/");if(u.length===3){const[,m,p]=u;return m===i&&p===v}}else return e===a.selectedDate;return!1})),a.selectedPlayerPair&&a.selectedPairRole&&(o=o.filter(t=>{const e=l.find(p=>p.Game===t.Game);if(!e)return!1;const[i,v]=a.selectedPlayerPair,u=i.toLowerCase(),m=v.toLowerCase();if(a.selectedPairRole==="wolves"){if(e.Loups){const p=e.Loups.toLowerCase();return p.includes(u)&&p.includes(m)}}else if(a.selectedPairRole==="lovers"&&e.Amoureux){const p=e.Amoureux.toLowerCase();return p.includes(u)&&p.includes(m)}return!1})),a.selectedHarvestRange&&(o=o.filter(t=>{const e=t["Pourcentage de récolte"];if(e==null)return!1;const i=e*100;switch(a.selectedHarvestRange){case"0-25%":return i>=0&&i<=25;case"26-50%":return i>25&&i<=50;case"51-75%":return i>50&&i<=75;case"76-99%":return i>75&&i<=99;case"100%":return i>=100;default:return!0}})),a.selectedGameDuration&&(o=o.filter(t=>t["Nombre de journées"]===a.selectedGameDuration)),a.selectedPlayers&&a.selectedPlayers.length===2&&(o=o.filter(t=>{const e=t["Liste des joueurs"].toLowerCase(),[i,v]=a.selectedPlayers;if(!(e.includes(i.toLowerCase())&&e.includes(v.toLowerCase())))return!1;if(a.playersFilterMode==="all-common-games"){if(a.winnerPlayer){const m=l.find(y=>y.Game===t.Game);if(!m)return!0;const p=w(a.winnerPlayer,m);return p==="Agent"&&t["Camp victorieux"]==="Agent"?d(t["Liste des gagnants"]?.toString()||"").some(c=>c.toLowerCase()===a.winnerPlayer.toLowerCase()):t["Camp victorieux"]===p}return!0}if(a.playersFilterMode==="opposing-camps"){const m=l.find(h=>h.Game===t.Game);if(!m)return!1;const p=w(i,m),y=w(v,m);if(!(p!==y))return!1;if(a.winnerPlayer){const h=w(a.winnerPlayer,m);return h==="Agent"&&t["Camp victorieux"]==="Agent"?d(t["Liste des gagnants"]?.toString()||"").some(b=>b.toLowerCase()===a.winnerPlayer.toLowerCase()):t["Camp victorieux"]===h}return!0}if(a.playersFilterMode==="same-camp"){const m=l.find(h=>h.Game===t.Game);if(!m)return!1;const p=w(i,m),y=w(v,m);if(!(p===y))return!1;if(a.winnerPlayer){const h=w(a.winnerPlayer,m);return h==="Agent"&&t["Camp victorieux"]==="Agent"?d(t["Liste des gagnants"]?.toString()||"").some(b=>b.toLowerCase()===a.winnerPlayer.toLowerCase()):t["Camp victorieux"]===h}return!0}return!1})),o}function U(n,l,a,o){return n.length===0?null:H(n,l,o).map(e=>{const i=l.find(c=>c.Game===e.Game),v=a.filter(c=>c.Game===e.Game),u={};i&&(i.Loups&&(u.wolves=d(i.Loups)),i.Traître&&(u.traitor=i.Traître),i["Idiot du village"]&&(u.villageIdiot=i["Idiot du village"]),i.Cannibale&&(u.cannibal=i.Cannibale),i.Agent&&(u.agent=d(i.Agent)),i.Espion&&(u.spy=i.Espion),i.Scientifique&&(u.scientist=i.Scientifique),i.Amoureux&&(u.lovers=d(i.Amoureux)),i["La Bête"]&&(u.beast=i["La Bête"]),i["Chasseur de primes"]&&(u.bountyHunter=i["Chasseur de primes"]),i.Vaudou&&(u.voodoo=i.Vaudou));const m=v.map(c=>({player:"Ponce",camp:c.Camp||"Unknown",isTraitor:c.Traître||!1,secondaryRole:c["Rôle secondaire"]==="N/A"?null:c["Rôle secondaire"],wolfPower:c["Pouvoir de loup"]==="N/A"?null:c["Pouvoir de loup"],villagerJob:c["Métier villageois"]==="N/A"?null:c["Métier villageois"],playersKilled:c["Joueurs tués"],deathDay:c["Jour de mort"],deathType:c["Type de mort"],killers:c["Joueurs tueurs"]})),p=[];return d(e["Liste des joueurs"]).forEach(c=>{let h="Villageois",x="Villageois";i&&(i.Loups&&d(i.Loups).includes(c)?(h="Loups",x="Loups"):i.Traître&&d(i.Traître).includes(c)?(h="Traître",x="Loups"):i["Idiot du village"]&&d(i["Idiot du village"]).includes(c)?(h="Idiot du Village",x="Idiot du Village"):i.Cannibale&&d(i.Cannibale).includes(c)?(h="Cannibale",x="Cannibale"):i.Agent&&d(i.Agent).includes(c)?(h="Agent",x="Agent"):i.Espion&&d(i.Espion).includes(c)?(h="Espion",x="Espion"):i.Scientifique&&d(i.Scientifique).includes(c)?(h="Scientifique",x="Scientifique"):i["La Bête"]&&d(i["La Bête"]).includes(c)?(h="La Bête",x="La Bête"):i["Chasseur de primes"]&&d(i["Chasseur de primes"]).includes(c)?(h="Chasseur de primes",x="Chasseur de primes"):i.Vaudou&&d(i.Vaudou).includes(c)?(h="Vaudou",x="Vaudou"):i.Amoureux&&d(i.Amoureux).includes(c)&&(h="Amoureux",x="Amoureux")),p.push({player:c,role:h,camp:x})}),{gameId:e.Game,date:e.Date,isModded:e["Game Moddée"],playerCount:e["Nombre de joueurs"],wolfCount:e["Nombre de loups"],hasTraitor:e["Rôle Traître"],hasLovers:e["Rôle Amoureux"],soloRoles:e["Rôles solo"],winningCamp:e["Camp victorieux"],victoryType:e["Type de victoire"],dayCount:e["Nombre de journées"],villagerSurvivors:e["Survivants villageois"],wolfSurvivors:e["Survivants loups (traître inclus)"],loverSurvivors:e["Survivants amoureux"],soloSurvivors:e["Survivants solo"],winners:e["Liste des gagnants"],harvest:e.Récolte,totalHarvest:e["Total récolte"],harvestPercentage:e["Pourcentage de récolte"],playersList:e["Liste des joueurs"],versions:e.Versions,map:e.Map,youtubeEmbedUrl:$(e.Début,e.Fin),gameDuration:B(e.Début,e.Fin),roles:u,playerRoles:p,playerDetails:m}})}function _(n){const{data:l,isLoading:a,error:o}=k((t,e,i)=>U(t,e,i,n));return{data:l||[],isLoading:a,error:o}}function X(){const{navigationFilters:n,navigateBack:l}=M(),{data:a,isLoading:o,error:t}=_(n),[e,i]=N.useState("date"),[v,u]=N.useState("desc"),[m,p]=N.useState(null),[y,c]=N.useState(1),[h,x]=N.useState(25),b=N.useRef(!1),P=N.useMemo(()=>a?[...a].sort((r,f)=>{let C,j;switch(e){case"date":C=new Date(r.date.split("/").reverse().join("-")).getTime(),j=new Date(f.date.split("/").reverse().join("-")).getTime();break;case"gameId":C=r.gameId,j=f.gameId;break;case"playerCount":C=r.playerCount,j=f.playerCount;break;case"dayCount":C=r.dayCount,j=f.dayCount;break;case"winningCamp":C=r.winningCamp,j=f.winningCamp;break;case"victoryType":C=r.victoryType,j=f.victoryType;break;default:return 0}let I;return v==="asc"?I=C>j?1:C<j?-1:0:I=C<j?1:C>j?-1:0,I===0?v==="asc"?r.gameId-f.gameId:f.gameId-r.gameId:I}):[],[a,e,v]),g=Math.ceil(P.length/h),T=(y-1)*h,G=T+h,q=P.slice(T,G);N.useEffect(()=>{if(b.current){b.current=!1;return}c(1),p(null)},[a]),N.useEffect(()=>{c(1),p(null)},[e,v]);const L=r=>{b.current=!0,c(r),p(null)},R=r=>{b.current=!0,x(r),c(1),p(null)},F=r=>{b.current=!0,p(m===r?null:r)},A=r=>{e===r?u(v==="asc"?"desc":"asc"):(i(r),u("desc"))},S=r=>e!==r?"↕️":v==="asc"?"↗️":"↘️",V=()=>{const r=[];if(n.selectedPlayer&&n.selectedCamp)r.push(`${n.selectedPlayer} jouant ${n.selectedCamp}`);else if(n.selectedPlayer&&r.push(`Joueur: ${n.selectedPlayer}`),n.selectedCamp){const f=`Camp: ${n.selectedCamp}`,C=n.campFilterMode==="wins-only"?" (victoires uniquement)":n.campFilterMode==="all-assignments"?" (toutes assignations)":"";r.push(f+C)}if(n.selectedPlayerPair&&n.selectedPairRole){const f=n.selectedPlayerPair.join(" & "),C=n.selectedPairRole==="wolves"?"loups":"amoureux";r.push(`Paire ${C}: ${f}`)}if(n.selectedPlayers&&n.playersFilterMode){const f=n.selectedPlayers.join(" & ");let C="";n.playersFilterMode==="all-common-games"?C="toutes les parties communes":n.playersFilterMode==="opposing-camps"?C="affrontements uniquement":n.playersFilterMode==="same-camp"&&(C="parties en équipe (même camp)");const j=n.winnerPlayer?` (victoires de ${n.winnerPlayer})`:"";r.push(`${f} (${C}${j})`)}return n.selectedVictoryType&&r.push(`Victoire: ${n.selectedVictoryType}`),n.selectedHarvestRange&&r.push(`Récolte: ${n.selectedHarvestRange}`),n.selectedGameDuration&&r.push(`Durée: ${n.selectedGameDuration} jour${n.selectedGameDuration>1?"s":""}`),n.selectedGame&&r.push(`Partie #${n.selectedGame}`),n.selectedDate&&(n.selectedDate.includes("/")&&n.selectedDate.split("/").length===2?r.push(`Mois: ${n.selectedDate}`):r.push(`Date: ${n.selectedDate}`)),r};return o?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):t?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",t]}):!a||a.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvée"}),s.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),n.fromComponent&&s.jsxs("button",{onClick:l,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",n.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[n.fromComponent&&s.jsxs("button",{onClick:l,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",n.fromComponent]}),s.jsxs("h2",{children:["Détails des Parties (",a.length," partie",a.length>1?"s":"",")"]})]}),V().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",V().join(", ")]})]}),g>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(G,P.length)," sur ",P.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:h,onChange:r=>R(Number(r.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>L(1),disabled:y===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>L(y-1),disabled:y===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",y," sur ",g]}),s.jsx("button",{onClick:()=>L(y+1),disabled:y===g,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>L(g),disabled:y===g,className:"lycans-pagination-btn",children:"»»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>A("gameId"),className:"sortable",children:["Partie ",S("gameId")]}),s.jsxs("th",{onClick:()=>A("date"),className:"sortable",children:["Date ",S("date")]}),s.jsxs("th",{onClick:()=>A("playerCount"),className:"sortable",children:["Joueurs ",S("playerCount")]}),s.jsxs("th",{onClick:()=>A("dayCount"),className:"sortable",children:["Jours ",S("dayCount")]}),s.jsxs("th",{onClick:()=>A("winningCamp"),className:"sortable",children:["Camp Vainqueur ",S("winningCamp")]}),s.jsxs("th",{onClick:()=>A("victoryType"),className:"sortable",children:["Type de Victoire ",S("victoryType")]}),s.jsx("th",{children:"Détails"})]})}),s.jsx("tbody",{children:q.map(r=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:m===r.gameId?"selected":"",children:[s.jsxs("td",{children:["#",r.gameId]}),s.jsx("td",{children:r.date}),s.jsx("td",{children:r.playerCount}),s.jsx("td",{children:r.dayCount}),s.jsx("td",{style:{color:E[r.winningCamp]||"#fff"},children:r.winningCamp}),s.jsx("td",{children:r.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>F(r.gameId),className:"lycans-details-btn",children:m===r.gameId?"Masquer":"Voir"})})]},r.gameId),m===r.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(Y,{game:r})})},`${r.gameId}-details`)]}))})]})}),g>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(G,P.length)," sur ",P.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>L(1),disabled:y===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>L(y-1),disabled:y===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",y," sur ",g]}),s.jsx("button",{onClick:()=>L(y+1),disabled:y===g,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>L(g),disabled:y===g,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function O(n){if(n===null||n<=0)return"N/A";const l=Math.floor(n/60),a=n%60;return l===0?`${a}s`:a===0?`${l}m`:`${l}m ${a}s`}function Y({game:n}){const[l,a]=N.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Générales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:n.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:n.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Traître:"}),s.jsx("span",{className:"value",children:n.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:n.hasLovers?"Oui":"Non"})]}),n.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Rôles solo:"}),s.jsx("span",{className:"value",children:n.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Supplémentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[n.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Durée de la partie:"}),s.jsx("span",{className:"value",children:O(n.gameDuration)})]}),n.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[n.versions,n.isModded?" (moddée)":""]})]}),n.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:n.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Résultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:n.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:n.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:n.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:n.wolfSurvivors})]}),n.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:n.loverSurvivors})]}),n.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:n.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:n.winners})]})]})]}),n.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Récolte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Récolte:"}),s.jsx("span",{className:"value",children:n.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:n.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof n.harvestPercentage=="number"?(n.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Rôles des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:n.playerRoles.map((o,t)=>{let e=o.role===o.camp?o.camp:`${o.camp} (${o.role})`;return s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:E[o.camp]||"#fff",textAlign:"left"},children:o.player}),s.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:e})]},t)})})]}),n.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>a(!l),className:"lycans-video-toggle-btn",children:l?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),n.youtubeEmbedUrl&&l&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Vidéo de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:n.youtubeEmbedUrl,title:`Partie Lycans #${n.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{X as GameDetailsChart};
