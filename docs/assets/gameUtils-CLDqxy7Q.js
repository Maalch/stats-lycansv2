function l(e){if(!e)return{videoId:null,timestamp:null};try{const t=new URL(e);let r=null,n=null;t.hostname==="youtu.be"?r=t.pathname.slice(1):(t.hostname==="www.youtube.com"||t.hostname==="youtube.com")&&(r=t.searchParams.get("v"));const u=t.searchParams.get("t");if(u)if(/^\d+$/.test(u))n=parseInt(u,10);else{const s=u.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(s){const o=parseInt(s[1]||"0",10),i=parseInt(s[2]||"0",10),a=parseInt(s[3]||"0",10);n=o*3600+i*60+a}}return{videoId:r,timestamp:n}}catch{return console.warn("Failed to parse YouTube URL:",e),{videoId:null,timestamp:null}}}function c(e,t){if(!e||!t)return null;try{const s=new Date(e),o=new Date(t);if(!isNaN(s.getTime())&&!isNaN(o.getTime())){const i=o.getTime()-s.getTime();return i>0?Math.round(i/1e3):null}}catch{}const r=l(e),n=l(t);if(r.timestamp===null||n.timestamp===null)return null;const u=n.timestamp-r.timestamp;return u>0?u:null}function m(e){const t=Math.floor(e/60),r=Math.round(e%60);return`${t}:${r.toString().padStart(2,"0")}`}function f(e){return e?e==="Loup"?"Loup":e==="Traître"?"Traître":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e==="Chasseur"||e==="Alchimiste"?"Villageois":e:"Villageois"}function p(e){return!e||e==="Chasseur"||e==="Alchimiste"?"Villageois":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e}function d(e){const t=e.PlayerStats.filter(n=>n.Victorious);let r="";if(t.length>0){const n=t.map(u=>u.MainRoleInitial);if(n.includes("Loup")||n.includes("Traître"))r="Loup";else if(n.includes("Amoureux Loup")||n.includes("Amoureux Villageois")||n.includes("Amoureux"))r="Amoureux";else if(n.includes("Villageois")||n.includes("Chasseur")||n.includes("Alchimiste"))r="Villageois";else{const u=n.filter(s=>!["Villageois","Loup","Traître","Chasseur","Alchimiste","Amoureux Loup","Amoureux Villageois"].includes(s));u.length>0?r=u[0]:r="Villageois"}return r}return"Villageois"}function g(e){if(!e)return"";const t=e.charAt(0),r=e.slice(1),u={J:"Jour",N:"Nuit",M:"Meeting",U:"Journée"}[t]||"Moment inconnu",s=o=>{const i=parseInt(o);return i===1?"1ère":`${i}ème`};return t==="U"?`${s(r)} journée`:`${u} de la ${s(r)} journée`}export{d as a,p as b,c,g as d,m as f,f as g};
