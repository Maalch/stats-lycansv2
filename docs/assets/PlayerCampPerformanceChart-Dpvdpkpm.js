import{r as c,u as ge,a as xe,j as i}from"./index-ik0w3zCM.js";import{u as Pe}from"./baseStatsHook-Dm9U5sRU.js";import{g as q}from"./datasyncExport-DNugpht-.js";import{a as Ae,u as be,m as je}from"./api-DBFAV0XL.js";import{S as Y,u as we,b as J,G as Ce,d as Ee,e as Se,f as Ie,g as Te,h as Re,F as Q,B as ee,C as B,X as L,Y as H,a as ae}from"./FullscreenChart-ngywYAvU.js";import{m as O,u as Oe,n as _e,o as Fe,S as Ne,p as ie,q as De,t as ne,v as se,w as ke,x as ze,y as oe,b as le,z as Me,A as Ke,B as We,C as ce,D as Ge,d as de,E as Be,G as Le,i as He,L as z,F as D,H as G,I as re,J as $e,K as Ve,M as W,N as qe,O as me,P as Je,Q as Ze,U as Ue,V as Xe,h as Ye,W as Qe,X as ea,Y as aa,R as $,T as V}from"./CategoricalChart-DOhEKz7k.js";function pe(a,e,t){return(e=ra(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function ra(a){var e=ta(a,"string");return typeof e=="symbol"?e:e+""}function ta(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function ia(a){var e=Oe();return c.useEffect(()=>(e(_e(a)),()=>{e(Fe(a))}),[a,e]),null}class U extends c.Component{render(){return c.createElement(ia,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:O.allowDuplicatedCategory,allowDataOverflow:O.allowDataOverflow,reversed:O.reversed,includeHidden:O.includeHidden})}}pe(U,"displayName","ZAxis");pe(U,"defaultProps",{zAxisId:0,range:O.range,scale:O.scale,type:O.type});var na=["option","isActive"];function k(){return k=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},k.apply(null,arguments)}function sa(a,e){if(a==null)return{};var t,r,o=oa(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)t=n[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(o[t]=a[t])}return o}function oa(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function la(a){var{option:e,isActive:t}=a,r=sa(a,na);return typeof e=="string"?c.createElement(Y,k({option:c.createElement(Ne,k({type:e},r)),isActive:t,shapeType:"symbols"},r)):c.createElement(Y,k({option:e,isActive:t,shapeType:"symbols"},r))}var ca=(a,e,t,r,o,n,l)=>ne(a,"xAxis",e,l),da=(a,e,t,r,o,n,l)=>se(a,"xAxis",e,l),ma=(a,e,t,r,o,n,l)=>ne(a,"yAxis",t,l),pa=(a,e,t,r,o,n,l)=>se(a,"yAxis",t,l),ua=(a,e,t,r)=>ke(a,"zAxis",r,!1),ha=(a,e,t,r,o)=>o,fa=(a,e,t,r,o,n)=>n,ya=(a,e,t,r,o,n,l)=>De(a,e,t,l),va=ie([ze,ha],(a,e)=>a.filter(t=>t.type==="scatter").find(t=>t.id===e)),ga=ie([ya,ca,da,ma,pa,ua,va,fa],(a,e,t,r,o,n,l,g)=>{var{chartData:m,dataStartIndex:u,dataEndIndex:f}=a;if(l!=null){var x;if(l?.data!=null&&l.data.length>0?x=l.data:x=m?.slice(u,f+1),!(x==null||e==null||r==null||t==null||o==null||t?.length===0||o?.length===0))return Oa({displayedData:x,xAxis:e,yAxis:r,zAxis:n,scatterSettings:l,xAxisTicks:t,yAxisTicks:o,cells:g})}}),xa=["onMouseEnter","onClick","onMouseLeave"],Pa=["id"],Aa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Z(a,e){if(a==null)return{};var t,r,o=ba(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)t=n[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(o[t]=a[t])}return o}function ba(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function _(){return _=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},_.apply(null,arguments)}function te(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,r)}return t}function E(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?te(Object(t),!0).forEach(function(r){ja(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):te(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function ja(a,e,t){return(e=wa(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function wa(a){var e=Ca(a,"string");return typeof e=="symbol"?e:e+""}function Ca(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var Ea=a=>{var{dataKey:e,name:t,fill:r,legendType:o,hide:n}=a;return[{inactive:n,dataKey:e,type:o,color:r,value:ce(t,e),payload:a}]};function Sa(a){var{points:e,props:t}=a,{line:r,lineType:o,lineJointType:n}=t;if(!r)return null;var l=me(t),g=Ye(r,!1),m,u;if(o==="joint")m=e.map(h=>({x:h.cx,y:h.cy}));else if(o==="fitting"){var{xmin:f,xmax:x,a:P,b:I}=Qe(e),b=h=>P*h+I;m=[{x:f,y:b(f)},{x,y:b(x)}]}var C=E(E(E({},l),{},{fill:"none",stroke:l&&l.fill},g),{},{points:m});return c.isValidElement(r)?u=c.cloneElement(r,C):typeof r=="function"?u=r(C):u=c.createElement(ea,_({},C,{type:n})),c.createElement(z,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function ue(a){var{points:e,showLabels:t,allOtherScatterProps:r}=a,{shape:o,activeShape:n,dataKey:l}=r,g=de(qe),{onMouseEnter:m,onClick:u,onMouseLeave:f}=r,x=Z(r,xa),P=Se(m,r.dataKey),I=Ie(f),b=Te(u,r.dataKey);if(e==null)return null;var{id:C}=r,h=Z(r,Pa),S=me(h);return c.createElement(c.Fragment,null,c.createElement(Sa,{points:e,props:h}),e.map((y,j)=>{var s=n&&g===String(j),p=s?n:o,d=E(E(E({key:"symbol-".concat(j)},S),y),{},{[Ze]:j,[Je]:String(l)});return c.createElement(z,_({className:"recharts-scatter-symbol"},Ue(x,y,j),{onMouseEnter:P(y,j),onMouseLeave:I(y,j),onClick:b(y,j),key:"symbol-".concat(y?.cx,"-").concat(y?.cy,"-").concat(y?.size,"-").concat(j)}),c.createElement(la,_({option:p,isActive:s},d)))}),t&&Xe.renderCallByParent(h,e))}function Ia(a){var{previousPointsRef:e,props:t}=a,{points:r,isAnimationActive:o,animationBegin:n,animationDuration:l,animationEasing:g}=t,m=e.current,u=$e(t,"recharts-scatter-"),[f,x]=c.useState(!1),P=c.useCallback(()=>{x(!1)},[]),I=c.useCallback(()=>{x(!0)},[]);return c.createElement(Ve,{begin:n,duration:l,isActive:o,easing:g,onAnimationEnd:P,onAnimationStart:I,key:u},b=>{var C=b===1?r:r.map((h,S)=>{var y=m&&m[S];if(y){var j=W(y.cx,h.cx),s=W(y.cy,h.cy),p=W(y.size,h.size);return E(E({},h),{},{cx:j(b),cy:s(b),size:p(b)})}var d=W(0,h.size);return E(E({},h),{},{size:d(b)})});return b>0&&(e.current=C),c.createElement(z,null,c.createElement(ue,{points:C,allOtherScatterProps:t,showLabels:!f}))})}function Ta(a){var{points:e,isAnimationActive:t}=a,r=c.useRef(null),o=r.current;return t&&e&&e.length&&(!o||o!==e)?c.createElement(Ia,{props:a,previousPointsRef:r}):c.createElement(ue,{points:e,allOtherScatterProps:a,showLabels:!0})}function Ra(a){var{dataKey:e,points:t,stroke:r,strokeWidth:o,fill:n,name:l,hide:g,tooltipType:m}=a;return{dataDefinedOnItem:t?.map(u=>u.tooltipPayload),positions:t?.map(u=>u.tooltipPosition),settings:{stroke:r,strokeWidth:o,fill:n,nameKey:void 0,dataKey:e,name:ce(l,e),hide:g,type:m,color:n,unit:""}}}function Oa(a){var{displayedData:e,xAxis:t,yAxis:r,zAxis:o,scatterSettings:n,xAxisTicks:l,yAxisTicks:g,cells:m}=a,u=D(t.dataKey)?n.dataKey:t.dataKey,f=D(r.dataKey)?n.dataKey:r.dataKey,x=o&&o.dataKey,P=o?o.range:U.defaultProps.range,I=P&&P[0],b=t.scale.bandwidth?t.scale.bandwidth():0,C=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((h,S)=>{var y=G(h,u),j=G(h,f),s=!D(x)&&G(h,x)||"-",p=[{name:D(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:y,payload:h,dataKey:u,type:n.tooltipType},{name:D(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:j,payload:h,dataKey:f,type:n.tooltipType}];s!=="-"&&p.push({name:o.name||o.dataKey,unit:o.unit||"",value:s,payload:h,dataKey:x,type:n.tooltipType});var d=re({axis:t,ticks:l,bandSize:b,entry:h,index:S,dataKey:u}),T=re({axis:r,ticks:g,bandSize:C,entry:h,index:S,dataKey:f}),M=s!=="-"?o.scale(s):I,F=Math.sqrt(Math.max(M,0)/Math.PI);return E(E({},h),{},{cx:d,cy:T,x:d-F,y:T-F,width:2*F,height:2*F,size:M,node:{x:y,y:j,z:s},tooltipPayload:p,tooltipPosition:{x:d,y:T},payload:h},m&&m[S]&&m[S].props)})}var _a=(a,e,t)=>({x:a.cx,y:a.cy,value:t==="x"?+a.node.x:+a.node.y,errorVal:G(a,e)});function Fa(a){var{hide:e,points:t,className:r,needClip:o,xAxisId:n,yAxisId:l,id:g,children:m}=a;if(e)return null;var u=He("recharts-scatter",r),f=g;return c.createElement(z,{className:u,clipPath:o?"url(#clipPath-".concat(f,")"):null,id:g},o&&c.createElement("defs",null,c.createElement(Ce,{clipPathId:f,xAxisId:n,yAxisId:l})),c.createElement(Ee,{xAxisId:n,yAxisId:l,data:t,dataPointFormatter:_a,errorBarOffset:0},m),c.createElement(z,{key:"recharts-scatter-symbols"},c.createElement(Ta,a)))}var he={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Le.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Na(a){var e=oe(a,he),{animationBegin:t,animationDuration:r,animationEasing:o,hide:n,isAnimationActive:l,legendType:g,lineJointType:m,lineType:u,shape:f,xAxisId:x,yAxisId:P,zAxisId:I}=e,b=Z(e,Aa),{needClip:C}=we(x,P),h=c.useMemo(()=>Ge(a.children,J),[a.children]),S=le(),y=de(j=>ga(j,x,P,I,a.id,h,S));return C==null?null:c.createElement(c.Fragment,null,c.createElement(Be,{fn:Ra,args:E(E({},a),{},{points:y})}),c.createElement(Fa,_({},b,{xAxisId:x,yAxisId:P,zAxisId:I,lineType:u,lineJointType:m,legendType:g,shape:f,hide:n,isAnimationActive:l,animationBegin:t,animationDuration:r,animationEasing:o,points:y,needClip:C})))}function fe(a){var e=oe(a,he),t=le();return c.createElement(Me,{id:e.id,type:"scatter"},r=>c.createElement(c.Fragment,null,c.createElement(Ke,{legendPayload:Ea(e)}),c.createElement(We,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:t}),c.createElement(Na,_({},e,{id:r}))))}fe.displayName="Scatter";var Da=["item"],ka=c.forwardRef((a,e)=>c.createElement(Re,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Da,tooltipPayloadSearcher:aa,categoricalChartProps:a,ref:e}));function za(a){const e={};return a.forEach(t=>{const r=new Set;t.PlayerStats.forEach(n=>{const l=q(n.MainRoleFinal);r.add(l)}),r.forEach(n=>{e[n]||(e[n]={totalGames:0,wins:0,winRate:0,players:{}}),e[n].totalGames++});const o=new Set;t.PlayerStats.forEach(n=>{if(n.Victorious){const l=q(n.MainRoleFinal);o.add(l)}}),o.forEach(n=>{e[n]&&e[n].wins++})}),e}function Ma(a,e){const t={};return a.forEach(r=>{r.PlayerStats.forEach(o=>{const n=o.Username.trim();if(!n)return;const l=q(o.MainRoleFinal);e[l].players[n]||(e[l].players[n]={games:0,wins:0,winRate:0}),e[l].players[n].games++,o.Victorious&&e[l].players[n].wins++,t[n]||(t[n]={totalGames:0,camps:{}}),t[n].camps[l]||(t[n].camps[l]={games:0,wins:0,winRate:0,performance:0}),t[n].totalGames++,t[n].camps[l].games++,o.Victorious&&t[n].camps[l].wins++})}),t}function Ka(a){Object.keys(a).forEach(e=>{a[e].totalGames>0&&(a[e].winRate=parseFloat((a[e].wins/a[e].totalGames*100).toFixed(2))),Object.keys(a[e].players).forEach(t=>{const r=a[e].players[t];r.games>0&&(r.winRate=parseFloat((r.wins/r.games*100).toFixed(2)))})})}function Wa(a,e){Object.keys(a).forEach(t=>{Object.keys(a[t].camps).forEach(r=>{const o=a[t].camps[r];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),e[r]&&e[r].winRate&&(o.performance=parseFloat((o.winRate-e[r].winRate).toFixed(2))))})})}function Ga(a,e,t){const r=[];return Object.keys(a).forEach(n=>{const l=a[n],g=[];Object.keys(l.camps).forEach(m=>{const u=l.camps[m];u.games>=t&&g.push({camp:m,games:u.games,wins:u.wins,winRate:u.winRate.toFixed(2),campAvgWinRate:e[m].winRate.toFixed(2),performance:u.performance.toFixed(2)})}),g.sort((m,u)=>parseFloat(u.performance)-parseFloat(m.performance)),g.length>0&&r.push({player:n,totalGames:l.totalGames,campPerformance:g})}),r.sort((n,l)=>l.totalGames-n.totalGames),{campAverages:Object.keys(e).map(n=>({camp:n,totalGames:e[n].totalGames,wins:e[n].wins,winRate:e[n].winRate.toFixed(2)})),playerPerformanceArray:r}}function Ba(a){if(a.length===0)return null;const e=za(a),t=Ma(a,e);Ka(e),Wa(t,e);const r=3,{campAverages:o,playerPerformanceArray:n}=Ga(t,e,r);return{campAverages:o,playerPerformance:n,minGamesRequired:r}}function La(){const{data:a,isLoading:e,error:t}=Pe(Ba);return{playerCampPerformance:a,isLoading:e,error:t}}function Ua(){const{navigateToGameDetails:a,navigationState:e,updateNavigationState:t}=ge(),{settings:r}=xe(),o=Ae(),n=be(),[l,g]=c.useState(e.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[m,u]=c.useState(e.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[f,x]=c.useState(e.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:P,isLoading:I,error:b}=La();c.useEffect(()=>{e.campPerformanceState||t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:f}})},[l,m,f,e.campPerformanceState,t]);const C=c.useMemo(()=>P?.campAverages?P.campAverages.map(s=>s.camp).sort():[],[P]),{campPlayerData:h,topPerformersData:S}=c.useMemo(()=>{if(!P?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=P,p=[],d=[];for(const w of s)for(const v of w.campPerformance)if(v.games>=f){const R={player:w.player,camp:v.camp,games:v.games,wins:v.wins,winRate:v.winRate,performance:v.performance,winRateNum:parseFloat(v.winRate),performanceNum:parseFloat(v.performance),campAvgWinRateNum:parseFloat(v.campAvgWinRate),isHighlightedAddition:!1};d.push(R),v.camp===m&&p.push({player:w.player,...v,winRateNum:parseFloat(v.winRate),performanceNum:parseFloat(v.performance),campAvgWinRateNum:parseFloat(v.campAvgWinRate),isHighlightedAddition:!1})}const T=(w,v)=>{if(!r.highlightedPlayer||w.some(A=>A.player===r.highlightedPlayer&&(!v||A.camp===v)))return w;const K=s.find(A=>A.player===r.highlightedPlayer);if(!K)return w;const N=[];for(const A of K.campPerformance)(!v||A.camp===v)&&A.games>=1&&N.push({player:K.player,camp:A.camp,games:A.games,wins:A.wins,winRate:A.winRate,performance:A.performance,winRateNum:parseFloat(A.winRate),performanceNum:parseFloat(A.performance),campAvgWinRateNum:parseFloat(A.campAvgWinRate),isHighlightedAddition:!0});return[...w,...N]},M=T(p,m),F=T(d),ye=M.sort((w,v)=>v.performanceNum-w.performanceNum),ve=F.sort((w,v)=>v.performanceNum-w.performanceNum),X=(w,v)=>{const R=w.slice(0,v);if(R.some(A=>A.player===r.highlightedPlayer)||!r.highlightedPlayer)return R;const N=w.find(A=>A.player===r.highlightedPlayer);if(N){const A={...N,isHighlightedAddition:!0};return[...R,A]}return R};return{campPlayerData:X(ye,15),topPerformersData:X(ve,20)}},[P,m,f,r.highlightedPlayer]),y=s=>{s&&s.player&&a({selectedPlayer:s.player,campFilter:{selectedCamp:m,campFilterMode:"wins-only",excludeTraitor:m==="Traître"},fromComponent:`Performance des Joueurs - ${m}`})},j=s=>{s&&s.player&&s.camp&&a({selectedPlayer:s.player,campFilter:{selectedCamp:s.camp,campFilterMode:"wins-only",excludeTraitor:s.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${f} parties dans ce camp)`})};return I?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):b?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",b]}):P?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),i.jsxs("select",{id:"view-mode-select",value:l,onChange:s=>{const p=s.target.value;g(p),t({campPerformanceState:{selectedCampPerformanceView:p,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[i.jsx("option",{value:"player-performance",children:"Camp"}),i.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),l==="player-performance"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:m,onChange:s=>{const p=s.target.value;u(p),t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:C.map(s=>i.jsx("option",{value:s,children:s},s))})]}),(l==="player-performance"||l==="top-performers")&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:f,onChange:s=>{const p=Number(s.target.value);x(p),t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:je.map(s=>i.jsx("option",{value:s,children:s},s))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[l==="player-performance"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Meilleurs joueurs en ",m]}),i.jsx(Q,{title:`Meilleurs Joueurs - ${m}`,children:i.jsx("div",{style:{height:500},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(ee,{data:h,margin:{top:20,right:30,left:20,bottom:0},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:p,payload:d})=>i.jsx("text",{x:s,y:p,dy:16,textAnchor:"end",fill:r.highlightedPlayer===d.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===d.value?14:13,fontWeight:r.highlightedPlayer===d.value?"bold":"italic",transform:`rotate(-45 ${s} ${p})`,children:d.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const d=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Victoires: ",d.wins]}),i.jsxs("div",{children:["Taux personnel: ",d.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",d.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",d.performance>0?"+":"",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ae,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:y,children:h.map((s,p)=>{const d=r.highlightedPlayer===s.player,T=s.isHighlightedAddition;return i.jsx(J,{fill:n[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:d?"var(--accent-primary)":"transparent",strokeWidth:d?3:0,strokeDasharray:T?"5,5":"none",opacity:T?.8:1},`cell-${p}`)})})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Performances en ",m," sur nombre de parties jouées"]}),i.jsx(Q,{title:`Performances vs Parties Jouées - ${m}`,children:i.jsx("div",{style:{height:400},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(ka,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(H,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const d=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Performance: ",d.performance>0?"+":"",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(fe,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&a({selectedPlayer:s.player,campFilter:{selectedCamp:m,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${m}`})},shape:s=>{const p=r.highlightedPlayer===s.payload?.player,d=s.payload?.isHighlightedAddition;return i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:s.cx,cy:s.cy,r:p?15:12,fill:n[s.payload?.player]||"var(--accent-primary)",stroke:p?"var(--accent-primary)":"#222",strokeWidth:p?3:1,strokeDasharray:d?"5,5":"none",opacity:d?.8:1}),i.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:p?"12":"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})]}),l==="top-performers"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances (Min. ${f} parties dans ce camp)`}),i.jsx("div",{style:{height:600},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(ee,{data:S,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:p,payload:d})=>i.jsx("text",{x:s,y:p,dy:16,textAnchor:"end",fill:r.highlightedPlayer===d.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===d.value?14:13,fontWeight:r.highlightedPlayer===d.value?"bold":"italic",transform:`rotate(-45 ${s} ${p})`,children:d.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const d=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Camp: ",d.camp]}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Taux personnel: ",d.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ae,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:j,children:S.map((s,p)=>{const d=r.highlightedPlayer===s.player,T=s.isHighlightedAddition;return i.jsx(J,{fill:o[s.camp]||`var(--chart-color-${p%6+1})`,stroke:d?"var(--accent-primary)":"transparent",strokeWidth:d?3:0,strokeDasharray:T?"5,5":"none",opacity:T?.8:1},`cell-${p}`)})})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ua as PlayerCampPerformanceChart};
