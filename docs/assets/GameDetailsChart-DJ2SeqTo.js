import{r as b,u as D,j as s}from"./index-C7SGC4f_.js";import{u as G,a as E,b as k}from"./useRawGameData-Coet5j2i.js";import{c as q,a as R}from"./gameUtils-eJjgb3Fr.js";import{a as V}from"./api-beq3FXpM.js";function B(t){const{data:x,isLoading:C,error:g}=G(),{data:y,isLoading:w,error:T}=E(),{data:L,isLoading:I,error:A}=k();return{data:b.useMemo(()=>{if(!x||!y||!L)return[];let m=[...x];return t&&(t.selectedPlayer&&(m=m.filter(r=>r["Liste des joueurs"].toLowerCase().includes(t.selectedPlayer.toLowerCase()))),t.selectedGame&&(m=m.filter(r=>r.Game===t.selectedGame)),t.selectedCamp&&(m=m.filter(r=>{if(t.selectedPlayer){const a=y.find(h=>h.Game===r.Game);if(!a)return!1;const e=t.selectedPlayer.toLowerCase();if(t.selectedCamp==="Autres"&&t._smallCamps){const h=t._smallCamps;for(const i of h){let o=!1;switch(i){case"Traître":o=!!(a.Traître&&a.Traître.toLowerCase().includes(e));break;case"Idiot du Village":o=!!(a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e));break;case"Cannibale":o=!!(a.Cannibale&&a.Cannibale.toLowerCase().includes(e));break;case"Agent":o=!!(a.Agent&&a.Agent.toLowerCase().includes(e));break;case"Espion":o=!!(a.Espion&&a.Espion.toLowerCase().includes(e));break;case"Scientifique":o=!!(a.Scientifique&&a.Scientifique.toLowerCase().includes(e));break;case"Amoureux":o=!!(a.Amoureux&&a.Amoureux.toLowerCase().includes(e));break;case"La Bête":o=!!(a["La Bête"]&&a["La Bête"].toLowerCase().includes(e));break;case"Chasseur de primes":o=!!(a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e));break;case"Vaudou":o=!!(a.Vaudou&&a.Vaudou.toLowerCase().includes(e));break;case"Villageois":const n=r["Liste des joueurs"].toLowerCase().includes(e),c=a.Loups&&a.Loups.toLowerCase().includes(e)||a.Traître&&a.Traître.toLowerCase().includes(e)||a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e)||a.Cannibale&&a.Cannibale.toLowerCase().includes(e)||a.Agent&&a.Agent.toLowerCase().includes(e)||a.Espion&&a.Espion.toLowerCase().includes(e)||a.Scientifique&&a.Scientifique.toLowerCase().includes(e)||a.Amoureux&&a.Amoureux.toLowerCase().includes(e)||a["La Bête"]&&a["La Bête"].toLowerCase().includes(e)||a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e)||a.Vaudou&&a.Vaudou.toLowerCase().includes(e);o=n&&!c;break}if(o)return!0}return!1}return a.Loups&&a.Loups.toLowerCase().includes(e)?t.selectedCamp==="Loups":a.Traître&&a.Traître.toLowerCase().includes(e)?t.selectedCamp==="Traître":a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e)?t.selectedCamp==="Idiot du Village":a.Cannibale&&a.Cannibale.toLowerCase().includes(e)?t.selectedCamp==="Cannibale":a.Agent&&a.Agent.toLowerCase().includes(e)?t.selectedCamp==="Agent":a.Espion&&a.Espion.toLowerCase().includes(e)?t.selectedCamp==="Espion":a.Scientifique&&a.Scientifique.toLowerCase().includes(e)?t.selectedCamp==="Scientifique":a.Amoureux&&a.Amoureux.toLowerCase().includes(e)?t.selectedCamp==="Amoureux":a["La Bête"]&&a["La Bête"].toLowerCase().includes(e)?t.selectedCamp==="La Bête":a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e)?t.selectedCamp==="Chasseur de primes":a.Vaudou&&a.Vaudou.toLowerCase().includes(e)?t.selectedCamp==="Vaudou":r["Liste des joueurs"].toLowerCase().includes(e)?t.selectedCamp==="Villageois":!1}else{if((t.campFilterMode||"wins-only")==="wins-only")return t.selectedCamp==="Autres"&&t._smallCamps?t._smallCamps.includes(r["Camp victorieux"]):r["Camp victorieux"]===t.selectedCamp;{const e=y.find(u=>u.Game===r.Game);if(!e)return r["Camp victorieux"]===t.selectedCamp;if(t.selectedCamp==="Autres"&&t._smallCamps)return t._smallCamps.some(h=>{switch(h){case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const i=r["Liste des joueurs"].split(",").map(n=>n.trim()).filter(n=>n),o=[...e.Loups?e.Loups.split(",").map(n=>n.trim()).filter(n=>n):[],...e.Traître?[e.Traître.trim()].filter(n=>n):[],...e["Idiot du village"]?[e["Idiot du village"].trim()].filter(n=>n):[],...e.Cannibale?[e.Cannibale.trim()].filter(n=>n):[],...e.Agent?[e.Agent.trim()].filter(n=>n):[],...e.Espion?[e.Espion.trim()].filter(n=>n):[],...e.Scientifique?[e.Scientifique.trim()].filter(n=>n):[],...e.Amoureux?e.Amoureux.split(",").map(n=>n.trim()).filter(n=>n):[],...e["La Bête"]?[e["La Bête"].trim()].filter(n=>n):[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()].filter(n=>n):[],...e.Vaudou?[e.Vaudou.trim()].filter(n=>n):[]];return i.some(n=>!o.includes(n));default:return!1}});switch(t.selectedCamp){case"Loups":return!!(e.Loups&&e.Loups.trim());case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const u=r["Liste des joueurs"].split(",").map(i=>i.trim()).filter(i=>i),h=[...e.Loups?e.Loups.split(",").map(i=>i.trim()).filter(i=>i):[],...e.Traître?[e.Traître.trim()].filter(i=>i):[],...e["Idiot du village"]?[e["Idiot du village"].trim()].filter(i=>i):[],...e.Cannibale?[e.Cannibale.trim()].filter(i=>i):[],...e.Agent?[e.Agent.trim()].filter(i=>i):[],...e.Espion?[e.Espion.trim()].filter(i=>i):[],...e.Scientifique?[e.Scientifique.trim()].filter(i=>i):[],...e.Amoureux?e.Amoureux.split(",").map(i=>i.trim()).filter(i=>i):[],...e["La Bête"]?[e["La Bête"].trim()].filter(i=>i):[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()].filter(i=>i):[],...e.Vaudou?[e.Vaudou.trim()].filter(i=>i):[]];return u.some(i=>!h.includes(i));default:return r["Camp victorieux"]===t.selectedCamp}}}})),t.selectedVictoryType&&(m=m.filter(r=>r["Type de victoire"]===t.selectedVictoryType)),t.selectedDate&&(m=m.filter(r=>{const a=r.Date;if(t.selectedDate.includes("/")&&t.selectedDate.split("/").length===2){const[e,u]=t.selectedDate.split("/"),h=a.split("/");if(h.length===3){const[,i,o]=h;return i===e&&o===u}}else return a===t.selectedDate;return!1})),t.selectedPlayerPair&&t.selectedPairRole&&(m=m.filter(r=>{const a=y.find(o=>o.Game===r.Game);if(!a)return!1;const[e,u]=t.selectedPlayerPair,h=e.toLowerCase(),i=u.toLowerCase();if(t.selectedPairRole==="wolves"){if(a.Loups){const o=a.Loups.toLowerCase();return o.includes(h)&&o.includes(i)}}else if(t.selectedPairRole==="lovers"&&a.Amoureux){const o=a.Amoureux.toLowerCase();return o.includes(h)&&o.includes(i)}return!1})),t.selectedHarvestRange&&(m=m.filter(r=>{const a=r["Pourcentage de récolte"];if(a==null)return!1;const e=a*100;switch(t.selectedHarvestRange){case"0-25%":return e>=0&&e<=25;case"26-50%":return e>25&&e<=50;case"51-75%":return e>50&&e<=75;case"76-99%":return e>75&&e<=99;case"100%":return e>=100;default:return!0}})),t.selectedGameDuration&&(m=m.filter(r=>r["Nombre de journées"]===t.selectedGameDuration)),t.selectedPlayers&&t.selectedPlayers.length===2&&(m=m.filter(r=>{const a=r["Liste des joueurs"].toLowerCase(),[e,u]=t.selectedPlayers;if(!(a.includes(e.toLowerCase())&&a.includes(u.toLowerCase())))return!1;if(t.playersFilterMode==="all-common-games")return!0;if(t.playersFilterMode==="opposing-camps"){const i=y.find(p=>p.Game===r.Game);if(!i)return!1;const o=p=>{const d=p.toLowerCase();return i.Loups&&i.Loups.toLowerCase().includes(d)||i.Traître&&i.Traître.toLowerCase().includes(d)?"Loups":i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(d)?"Idiot du Village":i.Cannibale&&i.Cannibale.toLowerCase().includes(d)?"Cannibale":i.Agent&&i.Agent.toLowerCase().includes(d)?"Agent":i.Espion&&i.Espion.toLowerCase().includes(d)?"Espion":i.Scientifique&&i.Scientifique.toLowerCase().includes(d)?"Scientifique":i.Amoureux&&i.Amoureux.toLowerCase().includes(d)?"Amoureux":i["La Bête"]&&i["La Bête"].toLowerCase().includes(d)?"La Bête":i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(d)?"Chasseur de primes":i.Vaudou&&i.Vaudou.toLowerCase().includes(d)?"Vaudou":"Villageois"},n=o(e),c=o(u);return n!==c}return!1}))),m.map(r=>{const a=y.find(c=>c.Game===r.Game),e=L.filter(c=>c.Game===r.Game),u={};a&&(a.Loups&&(u.wolves=a.Loups.split(", ").filter(Boolean)),a.Traître&&(u.traitor=a.Traître),a["Idiot du village"]&&(u.villageIdiot=a["Idiot du village"]),a.Cannibale&&(u.cannibal=a.Cannibale),a.Agent&&(u.agent=a.Agent),a.Espion&&(u.spy=a.Espion),a.Scientifique&&(u.scientist=a.Scientifique),a.Amoureux&&(u.lovers=a.Amoureux.split(", ").filter(Boolean)),a["La Bête"]&&(u.beast=a["La Bête"]),a["Chasseur de primes"]&&(u.bountyHunter=a["Chasseur de primes"]),a.Vaudou&&(u.voodoo=a.Vaudou));const h=e.map(c=>({player:"Ponce",camp:c.Camp||"Unknown",isTraitor:c.Traître||!1,secondaryRole:c["Rôle secondaire"],wolfPower:c["Pouvoir de loup"],villagerJob:c["Métier villageois"],playersKilled:c["Joueurs tués"],deathDay:c["Jour de mort"],deathType:c["Type de mort"],killers:c["Joueurs tueurs"]})),i=[];return r["Liste des joueurs"].split(", ").filter(Boolean).forEach(c=>{let p="Villageois",d="Villageois";a&&(a.Loups&&a.Loups.split(", ").includes(c)?(p="Loups",d="Loups"):a.Traître&&a.Traître===c?(p="Traître",d="Loups"):a["Idiot du village"]&&a["Idiot du village"]===c?(p="Idiot du Village",d="Idiot du Village"):a.Cannibale&&a.Cannibale===c?(p="Cannibale",d="Cannibale"):a.Agent&&a.Agent===c?(p="Agent",d="Agent"):a.Espion&&a.Espion===c?(p="Espion",d="Espion"):a.Scientifique&&a.Scientifique===c?(p="Scientifique",d="Scientifique"):a["La Bête"]&&a["La Bête"]===c?(p="La Bête",d="La Bête"):a["Chasseur de primes"]&&a["Chasseur de primes"]===c?(p="Chasseur de primes",d="Chasseur de primes"):a.Vaudou&&a.Vaudou===c?(p="Vaudou",d="Vaudou"):a.Amoureux&&a.Amoureux.split(", ").includes(c)&&p==="Villageois"&&(p="Amoureux",d="Amoureux")),i.push({player:c,role:p,camp:d})}),{gameId:r.Game,date:r.Date,isModded:r["Game Moddée"],playerCount:r["Nombre de joueurs"],wolfCount:r["Nombre de loups"],hasTraitor:r["Rôle Traître"],hasLovers:r["Rôle Amoureux"],soloRoles:r["Rôles solo"],winningCamp:r["Camp victorieux"],victoryType:r["Type de victoire"],dayCount:r["Nombre de journées"],villagerSurvivors:r["Survivants villageois"],wolfSurvivors:r["Survivants loups (traître inclus)"],loverSurvivors:r["Survivants amoureux"],soloSurvivors:r["Survivants solo"],winners:r["Liste des gagnants"],harvest:r.Récolte,totalHarvest:r["Total récolte"],harvestPercentage:r["Pourcentage de récolte"],playersList:r["Liste des joueurs"],versions:r.Versions,map:r.Map,youtubeEmbedUrl:R(r.Début,r.Fin),gameDuration:q(r.Début,r.Fin),roles:u,playerRoles:i,playerDetails:h}})},[x,y,L,t]),isLoading:C||w||I,error:g||T||A}}function _(){const{navigationFilters:t,navigateBack:x}=D(),{data:C,isLoading:g,error:y}=B(t),[w,T]=b.useState("date"),[L,I]=b.useState("desc"),[A,P]=b.useState(null),[v,S]=b.useState(1),[m,r]=b.useState(25),a=b.useMemo(()=>C?[...C].sort((l,j)=>{let f,N;switch(w){case"date":f=new Date(l.date.split("/").reverse().join("-")).getTime(),N=new Date(j.date.split("/").reverse().join("-")).getTime();break;case"gameId":f=l.gameId,N=j.gameId;break;case"playerCount":f=l.playerCount,N=j.playerCount;break;case"dayCount":f=l.dayCount,N=j.dayCount;break;case"winningCamp":f=l.winningCamp,N=j.winningCamp;break;case"victoryType":f=l.victoryType,N=j.victoryType;break;default:return 0}return L==="asc"?f>N?1:-1:f<N?1:-1}):[],[C,w,L]),e=Math.ceil(a.length/m),u=(v-1)*m,h=u+m,i=a.slice(u,h);b.useEffect(()=>{S(1),P(null)},[C]),b.useEffect(()=>{S(1),P(null)},[w,L]);const o=l=>{S(l),P(null)},n=l=>{r(l),S(1),P(null)},c=l=>{w===l?I(L==="asc"?"desc":"asc"):(T(l),I("desc"))},p=l=>w!==l?"↕️":L==="asc"?"↗️":"↘️",d=()=>{const l=[];if(t.selectedPlayer&&t.selectedCamp)l.push(`${t.selectedPlayer} jouant ${t.selectedCamp}`);else if(t.selectedPlayer&&l.push(`Joueur: ${t.selectedPlayer}`),t.selectedCamp){const j=`Camp: ${t.selectedCamp}`,f=t.campFilterMode==="wins-only"?" (victoires uniquement)":t.campFilterMode==="all-assignments"?" (toutes assignations)":"";l.push(j+f)}if(t.selectedPlayerPair&&t.selectedPairRole){const j=t.selectedPlayerPair.join(" & "),f=t.selectedPairRole==="wolves"?"loups":"amoureux";l.push(`Paire ${f}: ${j}`)}if(t.selectedPlayers&&t.playersFilterMode){const j=t.selectedPlayers.join(" & "),f=t.playersFilterMode==="all-common-games"?"toutes les parties communes":"affrontements uniquement";l.push(`${j} (${f})`)}return t.selectedVictoryType&&l.push(`Victoire: ${t.selectedVictoryType}`),t.selectedHarvestRange&&l.push(`Récolte: ${t.selectedHarvestRange}`),t.selectedGameDuration&&l.push(`Durée: ${t.selectedGameDuration} jour${t.selectedGameDuration>1?"s":""}`),t.selectedGame&&l.push(`Partie #${t.selectedGame}`),t.selectedDate&&(t.selectedDate.includes("/")&&t.selectedDate.split("/").length===2?l.push(`Mois: ${t.selectedDate}`):l.push(`Date: ${t.selectedDate}`)),l};return g?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):y?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",y]}):!C||C.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvée"}),s.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),t.fromComponent&&s.jsxs("button",{onClick:x,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",t.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[t.fromComponent&&s.jsxs("button",{onClick:x,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",t.fromComponent]}),s.jsxs("h2",{children:["Détails des Parties (",C.length," partie",C.length>1?"s":"",")"]})]}),d().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",d().join(", ")]})]}),e>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",u+1," à ",Math.min(h,a.length)," sur ",a.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:m,onChange:l=>n(Number(l.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>o(1),disabled:v===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>o(v-1),disabled:v===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",v," sur ",e]}),s.jsx("button",{onClick:()=>o(v+1),disabled:v===e,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>o(e),disabled:v===e,className:"lycans-pagination-btn",children:"»»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>c("gameId"),className:"sortable",children:["Partie ",p("gameId")]}),s.jsxs("th",{onClick:()=>c("date"),className:"sortable",children:["Date ",p("date")]}),s.jsxs("th",{onClick:()=>c("playerCount"),className:"sortable",children:["Joueurs ",p("playerCount")]}),s.jsxs("th",{onClick:()=>c("dayCount"),className:"sortable",children:["Jours ",p("dayCount")]}),s.jsxs("th",{onClick:()=>c("winningCamp"),className:"sortable",children:["Camp Vainqueur ",p("winningCamp")]}),s.jsxs("th",{onClick:()=>c("victoryType"),className:"sortable",children:["Type de Victoire ",p("victoryType")]}),s.jsx("th",{children:"Détails"})]})}),s.jsx("tbody",{children:i.map(l=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:A===l.gameId?"selected":"",children:[s.jsxs("td",{children:["#",l.gameId]}),s.jsx("td",{children:l.date}),s.jsx("td",{children:l.playerCount}),s.jsx("td",{children:l.dayCount}),s.jsx("td",{style:{color:V[l.winningCamp]||"#fff"},children:l.winningCamp}),s.jsx("td",{children:l.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>P(A===l.gameId?null:l.gameId),className:"lycans-details-btn",children:A===l.gameId?"Masquer":"Voir"})})]},l.gameId),A===l.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(F,{game:l})})},`${l.gameId}-details`)]}))})]})}),e>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",u+1," à ",Math.min(h,a.length)," sur ",a.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>o(1),disabled:v===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>o(v-1),disabled:v===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",v," sur ",e]}),s.jsx("button",{onClick:()=>o(v+1),disabled:v===e,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>o(e),disabled:v===e,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function M(t){if(t===null||t<=0)return"N/A";const x=Math.floor(t/60),C=t%60;return x===0?`${C}s`:C===0?`${x}m`:`${x}m ${C}s`}function F({game:t}){const[x,C]=b.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Générales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:t.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:t.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Traître:"}),s.jsx("span",{className:"value",children:t.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:t.hasLovers?"Oui":"Non"})]}),t.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Rôles solo:"}),s.jsx("span",{className:"value",children:t.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Supplémentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[t.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Durée de la partie:"}),s.jsx("span",{className:"value",children:M(t.gameDuration)})]}),t.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[t.versions,t.isModded?" (moddée)":""]})]}),t.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:t.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Résultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:t.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:t.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:t.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:t.wolfSurvivors})]}),t.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:t.loverSurvivors})]}),t.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:t.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:t.winners})]})]})]}),t.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Récolte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Récolte:"}),s.jsx("span",{className:"value",children:t.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:t.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof t.harvestPercentage=="number"?(t.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Rôles des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:t.playerRoles.map((g,y)=>s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:V[g.camp]||"#fff"},children:g.player}),s.jsx("div",{className:"lycans-player-camp",children:g.role===g.camp?g.camp:`${g.camp} (${g.role})`})]},y))})]}),t.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>C(!x),className:"lycans-video-toggle-btn",children:x?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),t.youtubeEmbedUrl&&x&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Vidéo de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:t.youtubeEmbedUrl,title:`Partie Lycans #${t.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{_ as GameDetailsChart};
