function a(e){if(!e)return{videoId:null,timestamp:null};try{const n=new URL(e);let i=null,t=null;n.hostname==="youtu.be"?i=n.pathname.slice(1):(n.hostname==="www.youtube.com"||n.hostname==="youtube.com")&&(i=n.searchParams.get("v"));const s=n.searchParams.get("t");if(s)if(/^\d+$/.test(s))t=parseInt(s,10);else{const u=s.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(u){const o=parseInt(u[1]||"0",10),r=parseInt(u[2]||"0",10),l=parseInt(u[3]||"0",10);t=o*3600+r*60+l}}return{videoId:i,timestamp:t}}catch{return console.warn("Failed to parse YouTube URL:",e),{videoId:null,timestamp:null}}}function c(e,n){if(!e||!n)return null;try{const u=new Date(e),o=new Date(n);if(!isNaN(u.getTime())&&!isNaN(o.getTime())){const r=o.getTime()-u.getTime();return r>0?Math.round(r/1e3):null}}catch{}const i=a(e),t=a(n);if(i.timestamp===null||t.timestamp===null)return null;const s=t.timestamp-i.timestamp;return s>0?s:null}function m(e){const n=Math.floor(e/60),i=Math.round(e%60);return`${n}:${i.toString().padStart(2,"0")}`}function f(e){return e?e==="Loup"?"Loup":e==="Traître"?"Traître":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":["Idiot du Village","Cannibale","Agent","Espion","Scientifique","La Bête","Chasseur de primes","Vaudou","Amoureux"].includes(e)?e:"Villageois":"Villageois"}function d(e){const n=e.PlayerStats.filter(t=>t.Victorious);let i="";if(n.length>0){const t=n.map(s=>s.MainRoleInitial);if(t.includes("Loup")||t.includes("Traître"))i="Loup";else if(t.includes("Amoureux Loup")||t.includes("Amoureux Villageois"))i="Amoureux";else if(t.includes("Villageois")||t.includes("Chasseur")||t.includes("Alchmiste"))i="Villageois";else{const s=t.filter(u=>!["Villageois","Loup","Traître","Chasseur","Alchmiste","Amoureux Loup","Amoureux Villageois"].includes(u));s.length>0?i=s[0]:i="Villageois"}return i}return"Villageois"}export{d as a,c,m as f,f as g};
