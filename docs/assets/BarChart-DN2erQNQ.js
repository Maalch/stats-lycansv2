import{r as l}from"./index-CVy_16Yl.js";import{bA as De,a4 as U,bc as J,aw as q,ah as ze,bB as pe,as as oe,b as D,b2 as Ke,bC as Me,f as _,ae as Le,ac as M,ad as L,X as me,ai as he,bD as xe,bE as _e,bF as Te,ag as le,bG as Fe,bH as se,am as Ne,L as R,aj as Re,q as We,D as ee,S as ye,Y as $e,ak as Ge,al as Ue,Z as ae,a0 as ge,a1 as Ve,B as Xe,an as Ye,b3 as Ze,u as W,a2 as be,c as Je,bI as qe,bJ as Qe,bK as ue,aQ as Ie,I as He,J as Ae,a5 as ea,a6 as aa,a9 as j,a7 as ra,a8 as ta,v as na,b7 as ia,au as oa,b5 as ce,aa as la}from"./CategoricalChart-DmoZoH7R.js";import{b as sa,u as ua,S as ca,c as da,G as va,d as Pe,e as ke,f as Be,a as fa}from"./FullscreenChart-ChseP4GM.js";var de=(e,a,r)=>{var t=r??e;if(!U(t))return J(t,a,0)},pa=(e,a,r)=>{var t={},n=e.filter(De),i=e.filter(u=>u.stackId==null),o=n.reduce((u,c)=>{var p=u[c.stackId];return p==null&&(p=[]),p.push(c),u[c.stackId]=p,u},t),s=Object.entries(o).map(u=>{var c,[p,f]=u,g=f.map(h=>h.dataKey),y=de(a,r,(c=f[0])===null||c===void 0?void 0:c.barSize);return{stackId:p,dataKeys:g,barSize:y}}),v=i.map(u=>{var c=[u.dataKey].filter(f=>f!=null),p=de(a,r,u.barSize);return{stackId:void 0,dataKeys:c,barSize:p}});return[...s,...v]};function ve(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function N(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?ve(Object(r),!0).forEach(function(t){ma(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ve(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function ma(e,a,r){return(a=ha(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function ha(e){var a=xa(e,"string");return typeof a=="symbol"?a:a+""}function xa(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ya(e,a,r,t,n){var i,o=t.length;if(!(o<1)){var s=J(e,r,0,!0),v,u=[];if(q((i=t[0])===null||i===void 0?void 0:i.barSize)){var c=!1,p=r/o,f=t.reduce((m,A)=>m+(A.barSize||0),0);f+=(o-1)*s,f>=r&&(f-=(o-1)*s,s=0),f>=r&&p>0&&(c=!0,p*=.9,f=o*p);var g=(r-f)/2>>0,y={offset:g-s,size:0};v=t.reduce((m,A)=>{var x,k={stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:y.offset+y.size+s,size:c?p:(x=A.barSize)!==null&&x!==void 0?x:0}},I=[...m,k];return y=k.position,I},u)}else{var h=J(a,r,0,!0);r-2*h-(o-1)*s<=0&&(s=0);var b=(r-2*h-(o-1)*s)/o;b>1&&(b>>=0);var d=q(n)?Math.min(b,n):b;v=t.reduce((m,A,x)=>[...m,{stackId:A.stackId,dataKeys:A.dataKeys,position:{offset:h+(b+s)*x+(b-d)/2,size:d}}],u)}return v}}var ga=(e,a,r,t,n,i,o)=>{var s=U(o)?a:o,v=ya(r,t,n!==i?n:i,e,s);return n!==i&&v!=null&&(v=v.map(u=>N(N({},u),{},{position:N(N({},u.position),{},{offset:u.position.offset-n/2})}))),v},ba=(e,a)=>{var r=ze(a);if(!(!e||r==null||a==null)){var{stackId:t}=a;if(t!=null){var n=e[t];if(n){var{stackedData:i}=n;if(i)return i.find(o=>o.key===r)}}}},Ia=(e,a)=>{if(!(e==null||a==null)){var r=e.find(t=>t.stackId===a.stackId&&a.dataKey!=null&&t.dataKeys.includes(a.dataKey));if(r!=null)return r.position}};function Aa(e,a){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&q(e.zIndex)?e.zIndex:a}function z(e,a){var r,t;return(r=(t=e.graphicalItems.cartesianItems.find(n=>n.id===a))===null||t===void 0?void 0:t.xAxisId)!==null&&r!==void 0?r:pe}function K(e,a){var r,t;return(r=(t=e.graphicalItems.cartesianItems.find(n=>n.id===a))===null||t===void 0?void 0:t.yAxisId)!==null&&r!==void 0?r:pe}var Pa="Invariant failed";function ka(e,a){throw new Error(Pa)}function Q(){return Q=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},Q.apply(null,arguments)}function $(e){return l.createElement(sa,Q({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var Ba=function(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(t,n)=>{if(oe(a))return a;var i=oe(t)||U(t);return i?a(t,n):(i||ka(),r)}},Ea=(e,a,r)=>r,Oa=(e,a)=>a,F=D([he,Oa],(e,a)=>e.filter(r=>r.type==="bar").find(r=>r.id===a)),Sa=D([F],e=>e?.maxBarSize),wa=(e,a,r,t)=>t,Ca=D([_,he,z,K,Ea],(e,a,r,t,n)=>a.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===t).filter(i=>i.isPanorama===n).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),ja=(e,a,r)=>{var t=_(e),n=z(e,a),i=K(e,a);if(!(n==null||i==null))return t==="horizontal"?le(e,"yAxis",i,r):le(e,"xAxis",n,r)},Da=(e,a)=>{var r=_(e),t=z(e,a),n=K(e,a);if(!(t==null||n==null))return r==="horizontal"?se(e,"xAxis",t):se(e,"yAxis",n)},za=D([Ca,Fe,Da],pa),Ka=(e,a,r)=>{var t,n,i=F(e,a);if(i==null)return 0;var o=z(e,a),s=K(e,a);if(o==null||s==null)return 0;var v=_(e),u=xe(e),{maxBarSize:c}=i,p=U(c)?u:c,f,g;return v==="horizontal"?(f=M(e,"xAxis",o,r),g=L(e,"xAxis",o,r)):(f=M(e,"yAxis",s,r),g=L(e,"yAxis",s,r)),(t=(n=me(f,g,!0))!==null&&n!==void 0?n:p)!==null&&t!==void 0?t:0},Ee=(e,a,r)=>{var t=_(e),n=z(e,a),i=K(e,a);if(!(n==null||i==null)){var o,s;return t==="horizontal"?(o=M(e,"xAxis",n,r),s=L(e,"xAxis",n,r)):(o=M(e,"yAxis",i,r),s=L(e,"yAxis",i,r)),me(o,s)}},Ma=D([za,xe,_e,Te,Ka,Ee,Sa],ga),La=(e,a,r)=>{var t=z(e,a);if(t!=null)return M(e,"xAxis",t,r)},_a=(e,a,r)=>{var t=K(e,a);if(t!=null)return M(e,"yAxis",t,r)},Ta=(e,a,r)=>{var t=z(e,a);if(t!=null)return L(e,"xAxis",t,r)},Fa=(e,a,r)=>{var t=K(e,a);if(t!=null)return L(e,"yAxis",t,r)},Na=D([Ma,F],Ia),Ra=D([ja,F],ba),Wa=D([Ke,Me,La,_a,Ta,Fa,Na,_,Le,Ee,Ra,F,wa],(e,a,r,t,n,i,o,s,v,u,c,p,f)=>{var{chartData:g,dataStartIndex:y,dataEndIndex:h}=v;if(!(p==null||o==null||a==null||s!=="horizontal"&&s!=="vertical"||r==null||t==null||n==null||i==null||u==null)){var{data:b}=p,d;if(b!=null&&b.length>0?d=b:d=g?.slice(y,h+1),d!=null)return hr({layout:s,barSettings:p,pos:o,parentViewBox:a,bandSize:u,xAxis:r,yAxis:t,xAxisTicks:n,yAxisTicks:i,stackedData:c,displayedData:d,offset:e,cells:f,dataStartIndex:y})}}),$a=["index"];function H(){return H=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},H.apply(null,arguments)}function Ga(e,a){if(e==null)return{};var r,t,n=Ua(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Ua(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var Oe=l.createContext(void 0),Va=e=>{var a=l.useContext(Oe);if(a!=null)return a.stackId;if(e!=null)return Ne(e)},Xa=(e,a)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(a),Ya=e=>{var a=l.useContext(Oe);if(a!=null){var{stackId:r}=a;return"url(#".concat(Xa(r,e),")")}},Se=e=>{var{index:a}=e,r=Ga(e,$a),t=Ya(a);return l.createElement(R,H({className:"recharts-bar-stack-layer",clipPath:t},r))},Za=["onMouseEnter","onMouseLeave","onClick"],Ja=["value","background","tooltipPosition"],qa=["id"],Qa=["onMouseEnter","onClick","onMouseLeave"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},w.apply(null,arguments)}function fe(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,t)}return r}function P(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?fe(Object(r),!0).forEach(function(t){Ha(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function Ha(e,a,r){return(a=er(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function er(e){var a=ar(e,"string");return typeof a=="symbol"?a:a+""}function ar(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function G(e,a){if(e==null)return{};var r,t,n=rr(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)r=i[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function rr(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}var tr=e=>{var{dataKey:a,name:r,fill:t,legendType:n,hide:i}=e;return[{inactive:i,dataKey:a,type:n,color:t,value:ge(r,a),payload:e}]},nr=l.memo(e=>{var{dataKey:a,stroke:r,strokeWidth:t,fill:n,name:i,hide:o,unit:s,tooltipType:v,id:u}=e,c={dataDefinedOnItem:void 0,getPosition:Xe,settings:{stroke:r,strokeWidth:t,fill:n,dataKey:a,nameKey:void 0,name:ge(i,a),hide:o,type:v,color:n,unit:s,graphicalItemId:u}};return l.createElement(Ve,{tooltipEntrySettings:c})});function ir(e){var a=W(Ie),{data:r,dataKey:t,background:n,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:v}=i,u=G(i,Za),c=Pe(o,t,i.id),p=ke(s),f=Be(v,t,i.id);if(!n||r==null)return null;var g=He(n);return l.createElement(ae,{zIndex:Aa(n,ee.barBackground)},r.map((y,h)=>{var{value:b,background:d,tooltipPosition:m}=y,A=G(y,Ja);if(!d)return null;var x=c(y,h),k=p(y,h),I=f(y,h),O=P(P(P(P(P({option:n,isActive:String(h)===a},A),{},{fill:"#eee"},d),g),Ae(u,y,h)),{},{onMouseEnter:x,onMouseLeave:k,onClick:I,dataKey:t,index:h,className:"recharts-bar-background-rectangle"});return l.createElement($,w({key:"background-bar-".concat(h)},O))}))}function or(e){var{showLabels:a,children:r,rects:t}=e,n=t?.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return P(P({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return l.createElement(ta,{value:a?n:void 0},r)}function lr(e){var{shape:a,activeBar:r,baseProps:t,entry:n,index:i,dataKey:o}=e,s=W(Ie),v=W(ia),u=r&&String(i)===s&&(v==null||o===v),c=u?r:a;return u?l.createElement(ae,{zIndex:ee.activeBar},l.createElement(Se,{index:i},l.createElement($,w({},t,{name:String(t.name)},n,{isActive:u,option:c,index:i,dataKey:o})))):l.createElement($,w({},t,{name:String(t.name)},n,{isActive:u,option:c,index:i,dataKey:o}))}function sr(e){var{shape:a,baseProps:r,entry:t,index:n,dataKey:i}=e;return l.createElement($,w({},r,{name:String(r.name)},t,{isActive:!1,option:a,index:n,dataKey:i}))}function ur(e){var a,{data:r,props:t}=e,n=(a=na(t))!==null&&a!==void 0?a:{},{id:i}=n,o=G(n,qa),{shape:s,dataKey:v,activeBar:u}=t,{onMouseEnter:c,onClick:p,onMouseLeave:f}=t,g=G(t,Qa),y=Pe(c,v,i),h=ke(f),b=Be(p,v,i);return r?l.createElement(l.Fragment,null,r.map((d,m)=>l.createElement(Se,w({index:m,key:"rectangle-".concat(d?.x,"-").concat(d?.y,"-").concat(d?.value,"-").concat(m),className:"recharts-bar-rectangle"},Ae(g,d,m),{onMouseEnter:y(d,m),onMouseLeave:h(d,m),onClick:b(d,m)}),u?l.createElement(lr,{shape:s,activeBar:u,baseProps:o,entry:d,index:m,dataKey:v}):l.createElement(sr,{shape:s,baseProps:o,entry:d,index:m,dataKey:v})))):null}function cr(e){var{props:a,previousRectanglesRef:r}=e,{data:t,layout:n,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:v,onAnimationEnd:u,onAnimationStart:c}=a,p=r.current,f=ea(a,"recharts-bar-"),[g,y]=l.useState(!1),h=!g,b=l.useCallback(()=>{typeof u=="function"&&u(),y(!1)},[u]),d=l.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]);return l.createElement(or,{showLabels:h,rects:t},l.createElement(aa,{animationId:f,begin:o,duration:s,isActive:i,easing:v,onAnimationEnd:b,onAnimationStart:d,key:f},m=>{var A=m===1?t:t?.map((x,k)=>{var I=p&&p[k];if(I)return P(P({},x),{},{x:j(I.x,x.x,m),y:j(I.y,x.y,m),width:j(I.width,x.width,m),height:j(I.height,x.height,m)});if(n==="horizontal"){var O=j(0,x.height,m),S=j(x.stackedBarStart,x.y,m);return P(P({},x),{},{y:S,height:O})}var B=j(0,x.width,m),E=j(x.stackedBarStart,x.x,m);return P(P({},x),{},{width:B,x:E})});return m>0&&(r.current=A??null),A==null?null:l.createElement(R,null,l.createElement(ur,{props:a,data:A}))}),l.createElement(ra,{label:a.label}),a.children)}function dr(e){var a=l.useRef(null);return l.createElement(cr,{previousRectanglesRef:a,props:e})}var we=0,vr=(e,a)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:be(e,a)}};class fr extends l.PureComponent{render(){var{hide:a,data:r,dataKey:t,className:n,xAxisId:i,yAxisId:o,needClip:s,background:v,id:u}=this.props;if(a||r==null)return null;var c=Je("recharts-bar",n),p=u;return l.createElement(R,{className:c,id:u},s&&l.createElement("defs",null,l.createElement(va,{clipPathId:p,xAxisId:i,yAxisId:o})),l.createElement(R,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(p,")"):void 0},l.createElement(ir,{data:r,dataKey:t,background:v,allOtherBarProps:this.props}),l.createElement(dr,this.props)))}}var pr={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:we,xAxisId:0,yAxisId:0,zIndex:ee.bar};function mr(e){var{xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:v,animationEasing:u,isAnimationActive:c}=e,{needClip:p}=ua(a,r),f=Ye(),g=ye(),y=Ze(e.children,da),h=W(m=>Wa(m,e.id,g,y));if(f!=="vertical"&&f!=="horizontal")return null;var b,d=h?.[0];return d==null||d.height==null||d.width==null?b=0:b=f==="vertical"?d.height/2:d.width/2,l.createElement(ca,{xAxisId:a,yAxisId:r,data:h,dataPointFormatter:vr,errorBarOffset:b},l.createElement(fr,w({},e,{layout:f,needClip:p,data:h,xAxisId:a,yAxisId:r,hide:t,legendType:n,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:v,animationEasing:u,isAnimationActive:c})))}function hr(e){var{layout:a,barSettings:{dataKey:r,minPointSize:t},pos:n,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:v,yAxisTicks:u,stackedData:c,displayedData:p,offset:f,cells:g,parentViewBox:y,dataStartIndex:h}=e,b=a==="horizontal"?s:o,d=c?b.scale.domain():null,m=qe({numericAxis:b}),A=b.scale.map(m);return p.map((x,k)=>{var I,O,S,B,E,V;if(c){var re=c[k+h];if(re==null)return null;I=Qe(re,d)}else I=be(x,r),Array.isArray(I)||(I=[m,I]);var C=Ba(t,we)(I[1],k);if(a==="horizontal"){var X,Y=s.scale.map(I[0]),T=s.scale.map(I[1]);if(Y==null||T==null)return null;O=ue({axis:o,ticks:v,bandSize:i,offset:n.offset,entry:x,index:k}),S=(X=T??Y)!==null&&X!==void 0?X:void 0,B=n.size;var te=Y-T;if(E=oa(te)?0:te,V={x:O,y:f.top,width:B,height:f.height},Math.abs(C)>0&&Math.abs(E)<Math.abs(C)){var ne=ce(E||C)*(Math.abs(C)-Math.abs(E));S-=ne,E+=ne}}else{var Z=o.scale.map(I[0]),ie=o.scale.map(I[1]);if(Z==null||ie==null)return null;if(O=Z,S=ue({axis:s,ticks:u,bandSize:i,offset:n.offset,entry:x,index:k}),B=ie-Z,E=n.size,V={x:f.left,y:S,width:f.width,height:E},Math.abs(C)>0&&Math.abs(B)<Math.abs(C)){var Ce=ce(B||C)*(Math.abs(C)-Math.abs(B));B+=Ce}}if(O==null||S==null||B==null||E==null)return null;var je=P(P({},x),{},{stackedBarStart:A,x:O,y:S,width:B,height:E,value:c?I:I[1],payload:x,background:V,tooltipPosition:{x:O+B/2,y:S+E/2},parentViewBox:y},g&&g[k]&&g[k].props);return je}).filter(Boolean)}function xr(e){var a=We(e,pr),r=Va(a.stackId),t=ye();return l.createElement($e,{id:a.id,type:"bar"},n=>l.createElement(l.Fragment,null,l.createElement(Ge,{legendPayload:tr(a)}),l.createElement(nr,{dataKey:a.dataKey,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:n}),l.createElement(Ue,{type:"bar",id:n,data:void 0,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,dataKey:a.dataKey,stackId:r,hide:a.hide,barSize:a.barSize,minPointSize:a.minPointSize,maxBarSize:a.maxBarSize,isPanorama:t}),l.createElement(ae,{zIndex:a.zIndex},l.createElement(mr,w({},a,{id:n})))))}var yr=l.memo(xr,Re);yr.displayName="Bar";var gr=["axis","item"],Pr=l.forwardRef((e,a)=>l.createElement(fa,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:gr,tooltipPayloadSearcher:la,categoricalChartProps:e,ref:a}));export{Pr as B,yr as a,K as b,z as s};
