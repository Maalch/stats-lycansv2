import{u as c,j as e}from"./index-tQsKKbSp.js";import{l}from"./api-K__vudGA.js";import{R as d,C as m,T as p}from"./CategoricalChart-RzgsUDl_.js";import{P as u,a as h}from"./PieChart-DrzWERcC.js";import{L as x}from"./Legend-HuZnAmyY.js";function f(){const{combinedData:s,isLoading:n,error:r}=c();return{campWinStats:s&&s.campWinStats?s.campWinStats:null,isLoading:n,errorInfo:r}}const j="#607D8B";function b(){const{campWinStats:s,isLoading:n,errorInfo:r}=f();if(n)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de victoire..."});if(r)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",r]});if(!s||!s.campStats||s.campStats.length===0)return e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de victoire disponible"});const o=s?.campStats?.map(t=>({...t,winRateNum:typeof t.winRate=="string"?parseFloat(t.winRate):t.winRate}))||[];return e.jsxs("div",{className:"lycans-stats-container",children:[e.jsx("h2",{children:"Statistiques de Victoire par Camp"}),e.jsxs("p",{className:"lycans-stats-info",children:["Total des parties: ",s.totalGames]}),e.jsx("div",{className:"lycans-chart-wrapper",style:{height:450},children:e.jsx(d,{width:"100%",height:"100%",children:e.jsxs(u,{children:[e.jsx(h,{data:o,cx:"50%",cy:"50%",labelLine:!1,outerRadius:140,fill:"#8884d8",dataKey:"winRateNum",nameKey:"camp",label:({camp:t,winRate:a})=>`${t}: ${a}%`,children:o.map((t,a)=>e.jsx(m,{fill:l[t.camp]||j},`cellule-camp-${a}`))}),e.jsx(p,{content:({active:t,payload:a})=>{if(t&&a&&a.length>0){const i=a[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:i.camp}),e.jsxs("div",{children:["Victoires: ",i.wins]}),e.jsxs("div",{children:["Total parties: ",i.totalGames]}),e.jsxs("div",{children:["Taux de victoire: ",i.winRate,"%"]})]})}return null}}),e.jsx(x,{})]})})})]})}export{b as VictoryPerCampChart};
