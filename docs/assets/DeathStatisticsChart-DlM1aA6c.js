import{g as w,u as _,a as J,r as H,j as e,d as ce}from"./index-D4bFBigJ.js";import{g as M,a as Z,u as Y,D as E}from"./datasyncExport-DEsaxStU.js";import{i as se,D as N,g as de}from"./deathTypes-CGUOTngO.js";import{b as te,m as X,a as le,u as ne}from"./api-Cy2bukhm.js";import{F as z,B as L,C as I,X as V,Y as W,a as F,b as $}from"./FullscreenChart-0Z0YRmFr.js";import{R as O,T as G}from"./CategoricalChart-j-RZMu2t.js";import{u as oe}from"./useJoueursData-DaFhzc5m.js";function Q(s){return s===N.SURVIVALIST_NOT_SAVED?N.BY_WOLF:s}function he(s){const v=new Set;s.filter(c=>!c.LegacyData||c.LegacyData.deathInformationFilled===!0).forEach(c=>{c.PlayerStats.forEach(D=>{const l=M(D.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});v.add(l)})});const g=Array.from(v);return[...te.filter(c=>g.includes(c)),...g.filter(c=>!te.includes(c)).sort()]}function ae(s){return de(s)}function ie(s){switch(s){case N.VOTED:return"Mort aux votes";case N.BY_WOLF:case N.SURVIVALIST_NOT_SAVED:return"Kill en Loup";case N.BY_ZOMBIE:return"Kill en Zombie";case N.BY_BEAST:return"Kill en BÃªte";case N.BY_AVATAR_CHAIN:return"Mort d'Avatar";case N.BULLET:return"Tir de Chasseur";case N.BULLET_HUMAN:return"Kill de Chasseur (sur humain)";case N.BULLET_WOLF:return"Kill de Chasseur (sur loup)";case N.SHERIF_SUCCESS:return"Kill de ShÃ©rif";case N.OTHER_AGENT:return"Kill d'Agent";case N.AVENGER:return"Kill de Vengeur";case N.SEER:return"Kill de Devin";case N.HANTED:return"Kill avec Potion hantÃ©e";case N.ASSASSIN:return"Kill avec Potion (Assassin)";case N.LOVER_DEATH:return"Kill d'amoureux";case N.BOMB:return"Explosion";case N.CRUSHED:return"Ã‰crasement";case N.STARVATION:return"Famine";case N.STARVATION_AS_BEAST:return"Tuerie bestiale";case N.FALL:return"Chute mortelle";case N.UNKNOWN:return"Kill inconnu";default:return""}}function ge(s){const v=new Set;s.forEach(o=>{o.PlayerStats.forEach(c=>{if(c.DeathType&&se(c.DeathType)){const D=Q(c.DeathType);D&&v.add(D)}})});const d=Array.from(v),g=[N.BY_WOLF,N.VOTED,N.BULLET,N.BULLET_HUMAN,N.BULLET_WOLF,N.BY_ZOMBIE,N.ASSASSIN,N.AVENGER,N.LOVER_DEATH];return[...g.filter(o=>d.includes(o)),...d.filter(o=>!g.includes(o)).sort()]}function me(s,v){return s.PlayerStats.filter(d=>d.DeathType&&se(d.DeathType)&&(d.DeathTiming||d.DeathType)).map(d=>{let g=null,o=null;if(d.KillerName){const c=s.PlayerStats.find(D=>D.Username===d.KillerName);if(c){o=w(c);const D=Z(c.MainRoleInitial,c.MainRoleChanges||[]);g=M(D,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1}),D&&D!==c.MainRoleInitial&&(D==="Loup"?g="Loup":D==="Zombie"&&(g="Vaudou"))}}return{playerId:w(d),playerName:d.Username,deathType:Q(d.DeathType),killerId:o,killerName:d.KillerName,killerCamp:g}}).filter(d=>{if(!v||v==="Tous les camps")return!0;const g=s.PlayerStats.find(c=>c.Username===d.playerName);return g?M(g.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})===v:!1})}function ue(s,v,d){const g=[];s.PlayerStats.forEach(c=>{if(c.KillerName&&c.DeathType){if(c.DeathType===N.VOTED||c.DeathType===N.STARVATION||c.DeathType===N.FALL||c.DeathType===N.BY_AVATAR_CHAIN)return;const D=s.PlayerStats.find(A=>A.Username===c.KillerName);if(!D)return;let l=M(D.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});const f=Z(D.MainRoleInitial,D.MainRoleChanges||[]);f&&f!==D.MainRoleInitial&&(f==="Loup"?l="Loup":f==="Zombie"&&(l="Vaudou"));const P=M(c.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});g.push({killerId:w(D),killerName:D.Username,victimId:w(c),victimName:c.Username,deathType:Q(c.DeathType),killerCamp:l,victimCamp:P})}});let o=g;return v&&v!=="Tous les camps"&&(o=o.filter(c=>c.killerCamp===v)),d&&d!=="Tous les camps"&&(o=o.filter(c=>d==="Solo roles"?c.victimCamp!=="Villageois"&&c.victimCamp!=="Loup":c.victimCamp===d)),o}function ye(s,v,d){if(s.length===0)return null;const g=s.filter(a=>!a.LegacyData||a.LegacyData.deathInformationFilled===!0);if(g.length===0)return null;const o=[],c={},D={};g.forEach(a=>{me(a,v).forEach(p=>{o.push({...p,gameId:a.Id})}),a.PlayerStats.forEach(p=>{const i=w(p),r=p.Username;D[i]=r,(!v||v==="Tous les camps"||M(p.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})===v)&&(c[i]=(c[i]||0)+1)})});const l=o.length,f=g.length,P=f>0?l/f:0,A={};o.forEach(a=>{A[a.deathType]=(A[a.deathType]||0)+1});const b=Object.entries(A).map(([a,m])=>({type:a,count:m||0,percentage:l>0?(m||0)/l*100:0})).sort((a,m)=>m.count-a.count),R={};g.forEach(a=>{ue(a,v,d).forEach(p=>{D[p.killerId]=p.killerName,D[p.victimId]=p.victimName,R[p.killerId]||(R[p.killerId]={kills:0,victims:new Set,killsByDeathType:{}}),R[p.killerId].kills++,R[p.killerId].victims.add(p.victimId),R[p.killerId].killsByDeathType[p.deathType]=(R[p.killerId].killsByDeathType[p.deathType]||0)+1})});const B=Object.entries(R).map(([a,m])=>{const p=c[a]||0,i=p>0?m.kills/p:0;return{killerName:D[a]||a,kills:m.kills,victims:Array.from(m.victims).map(r=>D[r]||r),percentage:l>0?m.kills/l*100:0,gamesPlayed:p,averageKillsPerGame:i,killsByDeathType:m.killsByDeathType}}).sort((a,m)=>m.kills-a.kills),j={};o.forEach(a=>{j[a.playerId]||(j[a.playerId]={totalDeaths:0,deathsByType:{},killedById:{},deathDays:[]});const m=j[a.playerId];m.totalDeaths++,m.deathsByType[a.deathType]=(m.deathsByType[a.deathType]||0)+1,a.killerId&&(m.killedById[a.killerId]=(m.killedById[a.killerId]||0)+1)});const u=[];Object.entries(j).forEach(([a,m])=>{const p=D[a]||a,i={};Object.entries(m.killedById).forEach(([r,y])=>{const T=D[r]||r;i[T]=(i[T]||0)+y}),u.push({playerName:p,totalDeaths:m.totalDeaths,deathsByType:m.deathsByType,killedBy:i,deathRate:c[a]>0?m.totalDeaths/c[a]:0,gamesPlayed:c[a]||0})}),Object.entries(c).forEach(([a,m])=>{j[a]||u.push({playerName:D[a]||a,totalDeaths:0,deathsByType:{},killedBy:{},deathRate:0,gamesPlayed:m})});const h=u.sort((a,m)=>m.totalDeaths-a.totalDeaths),n=b.length>0?b[0].type:null,x=B.length>0?B[0].killerName:null;return{totalDeaths:l,totalGames:f,averageDeathsPerGame:P,deathsByType:b,killerStats:B,playerDeathStats:h,mostCommonDeathType:n,mostDeadlyKiller:x}}function ve(s,v){const d=s.filter(A=>!A.LegacyData||A.LegacyData.deathInformationFilled===!0),g={},o={},c=d.length,D=[N.BULLET,N.BULLET_HUMAN,N.BULLET_WOLF];d.forEach(A=>{const b=new Set;A.PlayerStats.forEach(R=>{const B=R.MainRoleInitial,j=Z(R.MainRoleInitial,R.MainRoleChanges||[]);if(B==="Chasseur"||j==="Chasseur"){const u=w(R);o[u]=R.Username,b.add(u),g[u]||(g[u]={kills:[],gamesPlayed:0,victimsCamps:[]}),g[u].gamesPlayed++}}),A.PlayerStats.forEach(R=>{const B=R.DeathType,j=R.KillerName,u=j?A.PlayerStats.find(n=>n.Username===j):null,h=u?w(u):null;if(h&&u&&(o[h]=u.Username),B&&D.includes(B)&&h&&b.has(h)){const n=M(R.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});g[h].kills.push(B),g[h].victimsCamps.push(n)}})});const l=Object.entries(g).map(([A,b])=>{const R=b.kills.length,B={};b.kills.forEach(a=>{B[a]=(B[a]||0)+1});const j={};b.victimsCamps.forEach(a=>{j[a]=(j[a]||0)+1});const u=b.victimsCamps.filter(a=>a!=="Villageois").length,h=b.victimsCamps.filter(a=>a==="Villageois").length,n=b.gamesPlayed>0?R/b.gamesPlayed:0,x=b.gamesPlayed>0?u/b.gamesPlayed:0;return{hunterName:o[A]||A,totalKills:R,nonVillageoisKills:u,villageoisKills:h,gamesPlayedAsHunter:b.gamesPlayed,averageKillsPerGame:n,averageNonVillageoisKillsPerGame:x,killsByDeathType:B,victimsByCamp:j}}).sort((A,b)=>b.totalKills-A.totalKills),f=l.length>0?l[0].hunterName:null,P=l.length>0?l.sort((A,b)=>b.averageNonVillageoisKillsPerGame-A.averageNonVillageoisKillsPerGame)[0].hunterName:null;return{totalHunters:l.length,totalGames:c,hunterStats:l,bestHunter:f,bestAverageHunter:P}}function pe(s,v){return Y(d=>ye(d,s,v))}function xe(){return Y(s=>he(s))}function fe(s){return Y(v=>ve(v))}function re(s){if(!s||s.trim()==="")return null;const d=s.trim().slice(1),g=parseInt(d,10);return isNaN(g)||g<1?null:g}function je(s,v){if(s.length===0)return null;const d=s.filter(l=>!l.LegacyData||l.LegacyData.deathInformationFilled===!0);if(d.length===0)return null;const g={},o={};d.forEach(l=>{let f=1;if(l.EndTiming){const P=re(l.EndTiming);P&&(f=P)}l.PlayerStats.forEach(P=>{if(v&&v!=="Tous les camps"&&M(P.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})!==v)return;const A=P.Username;g[A]||(g[A]={playerName:A,totalGames:0,survivalsByDay:{},survivalRatesByDay:{},gamesPlayedByDay:{}});const b=g[A];b.totalGames++;let R=null;P.DeathTiming&&(R=re(P.DeathTiming));for(let B=1;B<=f;B++)b.gamesPlayedByDay[B]||(b.gamesPlayedByDay[B]=0,b.survivalsByDay[B]=0),o[B]||(o[B]={gamesReachingDay:0,playersOnDay:0,survivorsOnDay:0}),b.gamesPlayedByDay[B]++,o[B].playersOnDay++,(!R||R>B)&&(b.survivalsByDay[B]++,o[B].survivorsOnDay++)});for(let P=1;P<=f;P++)o[P]||(o[P]={gamesReachingDay:0,playersOnDay:0,survivorsOnDay:0}),o[P].gamesReachingDay++}),Object.values(g).forEach(l=>{Object.keys(l.gamesPlayedByDay).forEach(f=>{const P=parseInt(f),A=l.gamesPlayedByDay[P],b=l.survivalsByDay[P];A>0?l.survivalRatesByDay[P]=b/A*100:l.survivalRatesByDay[P]=0})});const c=Object.values(g).filter(l=>l.totalGames>0).sort((l,f)=>f.totalGames-l.totalGames),D=Object.entries(o).map(([l,f])=>({dayNumber:parseInt(l),totalGamesReachingDay:f.gamesReachingDay,totalPlayersOnDay:f.playersOnDay,averageSurvivalRate:f.playersOnDay>0?f.survivorsOnDay/f.playersOnDay*100:0})).sort((l,f)=>l.dayNumber-f.dayNumber);return{totalGames:d.length,totalPlayersAnalyzed:c.length,playerSurvivalStats:c,dayStats:D}}function Se(s,v,d=10){return s.playerSurvivalStats.filter(g=>(g.gamesPlayedByDay[v]||0)>=d).map(g=>({playerName:g.playerName,survivalRate:g.survivalRatesByDay[v]||0,gamesPlayed:g.totalGames,timesReachedDay:g.gamesPlayedByDay[v]||0,timesSurvivedDay:g.survivalsByDay[v]||0})).sort((g,o)=>o.survivalRate-g.survivalRate).slice(0,15)}function Pe(s,v,d=10){return s.playerSurvivalStats.filter(g=>(g.gamesPlayedByDay[v]||0)>=d).map(g=>({playerName:g.playerName,survivalRate:g.survivalRatesByDay[v]||0,gamesPlayed:g.totalGames,timesReachedDay:g.gamesPlayedByDay[v]||0,timesSurvivedDay:g.survivalsByDay[v]||0})).sort((g,o)=>g.survivalRate-o.survivalRate).slice(0,15)}function De(s){return Y(v=>je(v,s))}function be({deathStats:s,selectedCamp:v,victimCampFilter:d,minGamesForAverage:g,onMinGamesChange:o,availableDeathTypes:c,deathTypeColors:D,totalEligibleForAverage:l}){const{navigateToGameDetails:f}=_(),{settings:P}=J(),A=n=>{let x="Top Tueurs";return v!=="Tous les camps"&&(x+=` en ${v}`),d!=="Tous les camps"&&(d==="Solo roles"?x+=" (victimes: Solo roles)":x+=` (victimes: ${d})`),n==="total"?x+=" (Total)":x+=" (Moyenne par Partie)",x},{totalKillsData:b,averageKillsData:R,highlightedPlayerAddedToTotal:B,highlightedPlayerAddedToAverage:j}=H.useMemo(()=>{if(!s)return{totalKillsData:[],averageKillsData:[],highlightedPlayerAddedToTotal:!1,highlightedPlayerAddedToAverage:!1};const n=s.killerStats.sort((t,S)=>S.kills-t.kills).slice(0,15),x=P.highlightedPlayer&&n.some(t=>t.killerName===P.highlightedPlayer),a=n.map(t=>{const S={name:t.killerName,value:t.kills,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!1};return c.forEach(K=>{S[K]=t.killsByDeathType[K]||0}),S});let m=!1;if(P.highlightedPlayer&&!x){const t=s.killerStats.find(S=>S.killerName===P.highlightedPlayer);if(t){const S={name:t.killerName,value:t.kills,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!0};c.forEach(K=>{S[K]=t.killsByDeathType[K]||0}),a.push(S),m=!0}}const i=s.killerStats.filter(t=>t.gamesPlayed>=g).sort((t,S)=>S.averageKillsPerGame-t.averageKillsPerGame).slice(0,15),r=P.highlightedPlayer&&i.some(t=>t.killerName===P.highlightedPlayer),y=i.map(t=>{const S={name:t.killerName,value:t.averageKillsPerGame,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!1};return c.forEach(K=>{const q=t.killsByDeathType[K]||0;S[K]=t.gamesPlayed>0?q/t.gamesPlayed:0}),S});let T=!1;if(P.highlightedPlayer&&!r){const t=s.killerStats.find(S=>S.killerName===P.highlightedPlayer);if(t){const S={name:t.killerName,value:t.averageKillsPerGame,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!0};c.forEach(K=>{const q=t.killsByDeathType[K]||0;S[K]=t.gamesPlayed>0?q/t.gamesPlayed:0}),y.push(S),T=!0}}return{totalKillsData:a,averageKillsData:y,highlightedPlayerAddedToTotal:m,highlightedPlayerAddedToAverage:T}},[s,P.highlightedPlayer,g,c]),u=({active:n,payload:x,label:a})=>{if(n&&x&&x.length){const m=x[0].payload,p=m.isHighlightedAddition,i=P.highlightedPlayer===m.name,r=c.reduce((y,T)=>y+(m[T]||0),0);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:i?"var(--accent-primary)":"var(--text-primary)"},children:[a,p&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Victimes totales:"})," ",r]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouÃ©es:"})," ",m.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"RÃ©partition par type de kill:"}),c.map(y=>{const T=m[y]||0;return T===0?null:e.jsxs("p",{style:{color:D[y],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ie(y),":"]})," ",T]},y)})]}),p&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),i&&!p&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null},h=({active:n,payload:x,label:a})=>{if(n&&x&&x.length){const m=x[0].payload,p=m.isHighlightedAddition,i=P.highlightedPlayer===m.name,r=m.gamesPlayed>=g,y=s?.killerStats.find(S=>S.killerName===m.name),T=c.reduce((S,K)=>S+(m[K]||0),0),t=y?y.kills:Math.round(T*m.gamesPlayed);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:i?"var(--accent-primary)":"var(--text-primary)"},children:[a,p&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Moyenne par partie:"})," ",T.toFixed(2)," (",t," kills /",m.gamesPlayed," games)"]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouÃ©es:"})," ",m.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"RÃ©partition par type de kill (moyenne):"}),c.map(S=>{const K=m[S]||0;if(K===0)return null;const q=y?y.killsByDeathType[S]||0:Math.round(K*m.gamesPlayed);return e.jsxs("p",{style:{color:D[S],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ie(S),":"]})," ",K.toFixed(2)," (",q," kills /",m.gamesPlayed," games)"]},S)})]}),p&&!r&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["ðŸŽ¯ AffichÃ© via sÃ©lection (< ",g," parties)"]}),p&&r&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection (hors top 15)"}),i&&!p&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:A("total")}),B&&P.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',P.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:A("total"),children:e.jsx("div",{style:{height:440},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:b,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:n,y:x,payload:a})=>e.jsx("text",{x:n,y:x,dy:10,fill:P.highlightedPlayer===a.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:P.highlightedPlayer===a.value?14:12,fontWeight:P.highlightedPlayer===a.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${n} ${x})`,children:a.value})}),e.jsx(W,{label:{value:"Nombre total de victimes",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(u,{})}),c.map(n=>e.jsx(F,{dataKey:n,name:n,stackId:"kills",fill:D[n],onClick:x=>{const a={selectedPlayer:x?.name,fromComponent:"Statistiques de Mort"};v!=="Tous les camps"&&(a.campFilter={selectedCamp:v,campFilterMode:"all-assignments"}),f(a)}},n))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,b.filter(n=>!n.isHighlightedAddition).length)," des tueurs les plus actifs (total)"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:A("average")}),j&&P.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',P.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"min-games-average-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),e.jsx("select",{id:"min-games-average-select",value:g,onChange:n=>o(Number(n.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.9rem"},children:X.map(n=>e.jsx("option",{value:n,children:n},n))})]}),e.jsx(z,{title:A("average"),children:e.jsx("div",{style:{height:400},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:R,margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:n,y:x,payload:a})=>e.jsx("text",{x:n,y:x,dy:10,fill:P.highlightedPlayer===a.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:P.highlightedPlayer===a.value?14:12,fontWeight:P.highlightedPlayer===a.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${n} ${x})`,children:a.value})}),e.jsx(W,{label:{value:"Moyenne de victimes par partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(h,{})}),c.map(n=>e.jsx(F,{dataKey:n,name:n,stackId:"averageKills",fill:D[n],onClick:x=>{const a={selectedPlayer:x?.name,fromComponent:"Statistiques de Mort"};v!=="Tous les camps"&&(a.campFilter={selectedCamp:v,campFilterMode:"all-assignments"}),f(a)}},n))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,R.filter(n=>!n.isHighlightedAddition).length)," des tueurs les plus efficaces (sur ",l," ayant au moins ",g," partie",g>1?"s":"",")"]})]})]})}function Te({deathStats:s,selectedCamp:v,minGamesForAverage:d,onMinGamesChange:g,availableDeathTypes:o,deathTypeColors:c}){const{navigateToGameDetails:D}=_(),{settings:l}=J(),{totalDeathsData:f,survivalRateData:P,highlightedPlayerAddedToDeaths:A,highlightedPlayerAddedToSurvival:b}=H.useMemo(()=>{if(!s)return{totalDeathsData:[],survivalRateData:[],highlightedPlayerAddedToDeaths:!1,highlightedPlayerAddedToSurvival:!1};const j=s.playerDeathStats.sort((r,y)=>y.totalDeaths-r.totalDeaths).slice(0,15),u=l.highlightedPlayer&&j.some(r=>r.playerName===l.highlightedPlayer),h=j.map(r=>{const y=r.gamesPlayed,T=y>0?(y-r.totalDeaths)/y*100:0,t={name:r.playerName,value:r.totalDeaths,totalDeaths:r.totalDeaths,gamesPlayed:y,deathRate:r.deathRate,survivalRate:T,isHighlightedAddition:!1};return o.forEach(S=>{t[S]=r.deathsByType[S]||0}),t});let n=!1;if(l.highlightedPlayer&&!u){const r=s.playerDeathStats.find(y=>y.playerName===l.highlightedPlayer);if(r){const y=r.gamesPlayed,T=y>0?(y-r.totalDeaths)/y*100:0,t={name:r.playerName,value:r.totalDeaths,totalDeaths:r.totalDeaths,gamesPlayed:y,deathRate:r.deathRate,survivalRate:T,isHighlightedAddition:!0};o.forEach(S=>{t[S]=r.deathsByType[S]||0}),h.push(t),n=!0}}const a=s.playerDeathStats.filter(r=>r.gamesPlayed>=d).map(r=>({...r,survivalRate:r.gamesPlayed>0?(r.gamesPlayed-r.totalDeaths)/r.gamesPlayed*100:0})).sort((r,y)=>y.survivalRate-r.survivalRate).slice(0,15),m=l.highlightedPlayer&&a.some(r=>r.playerName===l.highlightedPlayer),p=a.map(r=>{const y={name:r.playerName,value:r.survivalRate,totalDeaths:r.totalDeaths,gamesPlayed:r.gamesPlayed,deathRate:r.deathRate,survivalRate:r.survivalRate,isHighlightedAddition:!1};return o.forEach(T=>{const t=r.deathsByType[T]||0;y[T]=r.gamesPlayed>0?t/r.gamesPlayed*100:0}),y});let i=!1;if(l.highlightedPlayer&&!m){const r=s.playerDeathStats.find(y=>y.playerName===l.highlightedPlayer);if(r){const y=r.gamesPlayed>0?(r.gamesPlayed-r.totalDeaths)/r.gamesPlayed*100:0,T={name:r.playerName,value:y,totalDeaths:r.totalDeaths,gamesPlayed:r.gamesPlayed,deathRate:r.deathRate,survivalRate:y,isHighlightedAddition:!0};o.forEach(t=>{const S=r.deathsByType[t]||0;T[t]=r.gamesPlayed>0?S/r.gamesPlayed*100:0}),p.push(T),i=!0}}return{totalDeathsData:h,survivalRateData:p,highlightedPlayerAddedToDeaths:n,highlightedPlayerAddedToSurvival:i}},[s,l.highlightedPlayer,d,o]),R=({active:j,payload:u,label:h})=>{if(j&&u&&u.length){const n=u[0].payload,x=n.isHighlightedAddition,a=l.highlightedPlayer===n.name,m=o.reduce((p,i)=>p+(n[i]||0),0);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:a?"var(--accent-primary)":"var(--text-primary)"},children:[h,x&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Morts totales:"})," ",m]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouÃ©es:"})," ",n.gamesPlayed]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Taux de survie:"})," ",n.survivalRate.toFixed(1),"%"]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"RÃ©partition par type de mort:"}),o.map(p=>{const i=n[p]||0;return i===0?null:e.jsxs("p",{style:{color:c[p],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ae(p),":"]})," ",i]},p)})]}),x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null},B=({active:j,payload:u,label:h})=>{if(j&&u&&u.length){const n=u[0].payload,x=n.isHighlightedAddition,a=l.highlightedPlayer===n.name,m=n.gamesPlayed>=d;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:a?"var(--accent-primary)":"var(--text-primary)"},children:[h,x&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Taux de survie:"})," ",n.survivalRate.toFixed(1),"% (",n.gamesPlayed-n.totalDeaths," survies / ",n.gamesPlayed," parties)"]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Morts totales:"})," ",n.totalDeaths]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouÃ©es:"})," ",n.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"RÃ©partition par type de mort (taux %):"}),o.map(p=>{const i=n[p]||0;return i===0?null:e.jsxs("p",{style:{color:c[p],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ae(p),":"]})," ",i.toFixed(1),"%"]},p)})]}),x&&!m&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["ðŸŽ¯ AffichÃ© via sÃ©lection (< ",d," parties)"]}),x&&m&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection (hors top 15)"}),a&&!x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:v==="Tous les camps"?"Morts (Total)":`Morts en ${v} (Total)`}),A&&l.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',l.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:v==="Tous les camps"?"Morts (Total)":`Morts en ${v} (Total)`,children:e.jsx("div",{style:{height:440},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:f,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:j,y:u,payload:h})=>e.jsx("text",{x:j,y:u,dy:10,fill:l.highlightedPlayer===h.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:l.highlightedPlayer===h.value?14:12,fontWeight:l.highlightedPlayer===h.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${j} ${u})`,children:h.value})}),e.jsx(W,{label:{value:"Nombre total de morts",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(R,{})}),o.map(j=>e.jsx(F,{dataKey:j,name:j,stackId:"deaths",fill:c[j],onClick:u=>{const h={selectedPlayer:u?.name,fromComponent:"Statistiques de Mort"};v!=="Tous les camps"&&(h.campFilter={selectedCamp:v,campFilterMode:"all-assignments"}),D(h)}},j))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,f.filter(j=>!j.isHighlightedAddition).length)," des joueurs les plus souvent morts"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["Meilleurs Survivants ",v==="Tous les camps"?"(Total)":` en ${v}`]}),b&&l.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',l.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"min-games-survival-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),e.jsx("select",{id:"min-games-survival-select",value:d,onChange:j=>g(Number(j.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.9rem"},children:X.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsx(z,{title:"Meilleurs Survivants",children:e.jsx("div",{style:{height:400},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:P,margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:j,y:u,payload:h})=>e.jsx("text",{x:j,y:u,dy:10,fill:l.highlightedPlayer===h.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:l.highlightedPlayer===h.value?14:12,fontWeight:l.highlightedPlayer===h.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${j} ${u})`,children:h.value})}),e.jsx(W,{label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(B,{})}),o.map(j=>e.jsx(F,{dataKey:j,name:j,stackId:"survivalRate",fill:c[j],onClick:u=>{const h={selectedPlayer:u?.name,fromComponent:"Statistiques de Mort"};v!=="Tous les camps"&&(h.campFilter={selectedCamp:v,campFilterMode:"all-assignments"}),D(h)}},j))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,P.filter(j=>!j.isHighlightedAddition).length)," des joueurs avec le plus haut taux de survie (ayant au moins ",d," partie",d>1?"s":"",")"]})]})]})}function Ae({hunterStats:s,isLoading:v,error:d}){const{navigateToGameDetails:g}=_(),{settings:o}=J(),c=le(),{joueursData:D}=oe(),l=ne(D),[f,P]=H.useState(null);if(v)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques chasseurs..."});if(d)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",d]});if(!s||s.hunterStats.length===0)return e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h3",{children:"Aucune donnÃ©e Chasseur"}),e.jsx("p",{children:"Aucune statistique de chasseur disponible avec les filtres actuels."})]});const{finalBestHuntersData:A,highlightedPlayerAddedToBest:b,finalBadHuntersData:R,highlightedPlayerAddedToBad:B}=(()=>{const n=s.hunterStats.filter(t=>t.gamesPlayedAsHunter>=5).sort((t,S)=>S.averageNonVillageoisKillsPerGame-t.averageNonVillageoisKillsPerGame).slice(0,15),x=o.highlightedPlayer&&n.some(t=>t.hunterName===o.highlightedPlayer);let a=[...n],m=!1;if(o.highlightedPlayer&&!x){const t=s.hunterStats.find(S=>S.hunterName===o.highlightedPlayer);t&&(a.push({...t,isHighlightedAddition:!0}),m=!0)}const p=s.hunterStats.filter(t=>t.gamesPlayedAsHunter>=5).map(t=>({name:t.hunterName,averageVillageoisKills:Number((t.villageoisKills/t.gamesPlayedAsHunter).toFixed(2)),totalVillageoisKills:t.villageoisKills,totalNonVillageoisKills:t.nonVillageoisKills,totalKills:t.totalKills,gamesPlayed:t.gamesPlayedAsHunter,victimsByCamp:t.victimsByCamp,hunterName:t.hunterName})),i=p.sort((t,S)=>S.averageVillageoisKills-t.averageVillageoisKills).slice(0,15),r=o.highlightedPlayer&&i.some(t=>t.hunterName===o.highlightedPlayer);let y=[...i],T=!1;if(o.highlightedPlayer&&!r){const t=p.find(S=>S.hunterName===o.highlightedPlayer);t&&(y.push({...t,isHighlightedAddition:!0}),T=!0)}return{finalBestHuntersData:a,highlightedPlayerAddedToBest:m,finalBadHuntersData:y,highlightedPlayerAddedToBad:T}})(),j=({active:h,payload:n,label:x})=>{if(h&&n&&n.length){const a=n[0].payload,m=a.isHighlightedAddition,p=o.highlightedPlayer===a.hunterName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:p?"var(--accent-primary)":"var(--text-primary)"},children:[x,m&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Kills non-Villageois/partie:"})," ",a.averageNonVillageoisKillsPerGame.toFixed(2)]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total non-Villageois tuÃ©s:"})," ",a.nonVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties en Chasseur:"})," ",a.gamesPlayedAsHunter]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total kills:"})," ",a.totalKills]}),a.victimsByCamp&&Object.keys(a.victimsByCamp).length>0&&e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Victimes par camp:"}),Object.entries(a.victimsByCamp).map(([i,r])=>e.jsxs("p",{style:{color:c[i]||"var(--text-secondary)",margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[i,":"]})," ",r]},i))]}),m&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),p&&!m&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null},u=({active:h,payload:n,label:x})=>{if(h&&n&&n.length){const a=n[0].payload,m=a.isHighlightedAddition,p=o.highlightedPlayer===a.hunterName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:p?"var(--accent-primary)":"var(--text-primary)"},children:[x,m&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (ðŸŽ¯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Villageois tuÃ©s/partie:"})," ",a.averageVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total Villageois tuÃ©s:"})," ",a.totalVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total non-Villageois tuÃ©s:"})," ",a.totalNonVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties en Chasseur:"})," ",a.gamesPlayed]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total kills:"})," ",a.totalKills]}),a.victimsByCamp&&Object.keys(a.victimsByCamp).length>0&&e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Victimes par camp:"}),Object.entries(a.victimsByCamp).map(([i,r])=>e.jsxs("p",{style:{color:c[i]||"var(--text-secondary)",margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[i,":"]})," ",r]},i))]}),m&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),p&&!m&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Bons Chasseurs"}),b&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:"Bons Chasseurs",children:e.jsx("div",{style:{height:440},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:A,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"hunterName",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:h,y:n,payload:x})=>e.jsx("text",{x:h,y:n,dy:10,fill:o.highlightedPlayer===x.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:o.highlightedPlayer===x.value?14:12,fontWeight:o.highlightedPlayer===x.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${h} ${n})`,children:x.value})}),e.jsx(W,{label:{value:"Moyenne kills non-Villageois/partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(j,{})}),e.jsx(F,{dataKey:"averageNonVillageoisKillsPerGame",fill:"var(--chart-primary)",onClick:h=>{h?.hunterName&&g({selectedPlayer:h.hunterName,campFilter:{selectedCamp:"Chasseur",campFilterMode:"all-assignments"},fromComponent:"Statistiques de Mort - Bons Chasseurs"})},onMouseEnter:h=>P(h?.hunterName||null),onMouseLeave:()=>P(null),style:{cursor:"pointer"},children:A.map((h,n)=>{const x=o.highlightedPlayer===h.hunterName,a=h.isHighlightedAddition;return e.jsx($,{fill:l[h.hunterName]||c.Chasseur||"#8884d8",stroke:x?"var(--accent-primary)":f===h.hunterName?"var(--text-primary)":"none",strokeWidth:x?3:f===h.hunterName?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1},`cell-${n}`)})})]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,A.filter(h=>!h.isHighlightedAddition).length)," des chasseurs les plus efficaces contre les non-Villageois (minimum 5 parties en Chasseur)"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Mauvais Chasseurs"}),B&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:"Mauvais Chasseurs",children:e.jsx("div",{style:{height:440},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:R,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(I,{strokeDasharray:"3 3"}),e.jsx(V,{dataKey:"hunterName",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:h,y:n,payload:x})=>e.jsx("text",{x:h,y:n,dy:10,fill:o.highlightedPlayer===x.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:o.highlightedPlayer===x.value?14:12,fontWeight:o.highlightedPlayer===x.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${h} ${n})`,children:x.value})}),e.jsx(W,{label:{value:"Moyenne Villageois tuÃ©s/partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(u,{})}),e.jsx(F,{dataKey:"averageVillageoisKills",fill:"var(--chart-primary)",onClick:h=>{h?.hunterName&&g({selectedPlayer:h.hunterName,campFilter:{selectedCamp:"Chasseur",campFilterMode:"all-assignments"},fromComponent:"Statistiques de Mort - Mauvais Chasseurs"})},onMouseEnter:h=>P(h?.hunterName||null),onMouseLeave:()=>P(null),style:{cursor:"pointer"},children:R.map((h,n)=>{const x=o.highlightedPlayer===h.hunterName,a=h.isHighlightedAddition;return e.jsx($,{fill:l[h.hunterName]||c.Chasseur||"#8884d8",stroke:x?"var(--accent-primary)":f===h.hunterName?"var(--text-primary)":"none",strokeWidth:x?3:f===h.hunterName?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1},`cell-${n}`)})})]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,R.filter(h=>!h.isHighlightedAddition).length)," des chasseurs ayant le plus tuÃ© de Villageois (minimum 5 parties en Chasseur)"]})]})]})}function Be({survivalStats:s,selectedCamp:v,minGamesForAverage:d,onMinGamesChange:g,isLoading:o,error:c}){const{navigateToGameDetails:D}=_(),{settings:l}=J(),{joueursData:f}=oe(),P=ne(f),[A,b]=H.useState(1),[R,B]=H.useState(null),j=H.useMemo(()=>s?s.dayStats.filter(r=>r.totalGamesReachingDay>0).map(r=>r.dayNumber).sort((r,y)=>r-y):[],[s]),u=H.useMemo(()=>j.includes(A)?A:j.length>0?j[0]:1,[A,j]),{highestSurvivalData:h,highlightedPlayerAddedToHighest:n}=H.useMemo(()=>{if(!s)return{highestSurvivalData:[],highlightedPlayerAddedToHighest:!1};const i=Se(s,u,d),r=l.highlightedPlayer&&i.some(t=>t.playerName===l.highlightedPlayer),y=i.map(t=>({name:t.playerName,value:t.survivalRate,gamesPlayed:t.gamesPlayed,timesReachedDay:t.timesReachedDay,timesSurvivedDay:t.timesSurvivedDay,isHighlightedAddition:!1}));let T=!1;if(l.highlightedPlayer&&!r){const t=s.playerSurvivalStats.find(S=>S.playerName===l.highlightedPlayer);if(t&&(t.gamesPlayedByDay[u]||0)>=1){const S=t.survivalRatesByDay[u]||0;y.push({name:l.highlightedPlayer,value:S,gamesPlayed:t.totalGames,timesReachedDay:t.gamesPlayedByDay[u]||0,timesSurvivedDay:t.survivalsByDay[u]||0,isHighlightedAddition:!0}),T=!0}}return{highestSurvivalData:y,highlightedPlayerAddedToHighest:T}},[s,u,d,l.highlightedPlayer]),{lowestSurvivalData:x,highlightedPlayerAddedToLowest:a}=H.useMemo(()=>{if(!s)return{lowestSurvivalData:[],highlightedPlayerAddedToLowest:!1};const i=Pe(s,u,d),r=l.highlightedPlayer&&i.some(t=>t.playerName===l.highlightedPlayer),y=i.map(t=>({name:t.playerName,value:t.survivalRate,gamesPlayed:t.gamesPlayed,timesReachedDay:t.timesReachedDay,timesSurvivedDay:t.timesSurvivedDay,isHighlightedAddition:!1}));let T=!1;if(l.highlightedPlayer&&!r){const t=s.playerSurvivalStats.find(S=>S.playerName===l.highlightedPlayer);if(t&&(t.gamesPlayedByDay[u]||0)>=1){const S=t.survivalRatesByDay[u]||0;y.push({name:l.highlightedPlayer,value:S,gamesPlayed:t.totalGames,timesReachedDay:t.gamesPlayedByDay[u]||0,timesSurvivedDay:t.survivalsByDay[u]||0,isHighlightedAddition:!0}),T=!0}}return{lowestSurvivalData:y,highlightedPlayerAddedToLowest:T}},[s,u,d,l.highlightedPlayer]),m=i=>{D({selectedPlayer:i,fromComponent:"Statistiques de Survie"})},p=({active:i,payload:r,label:y})=>{if(i&&r&&r.length>0){const T=r[0].payload,t=T.isHighlightedAddition,S=l.highlightedPlayer===T.name,K=T.timesReachedDay>=d;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:8,borderRadius:6},children:[e.jsx("div",{children:e.jsx("strong",{children:y})}),e.jsx("div",{children:e.jsxs("span",{style:{color:"var(--accent-primary)"},children:["Taux de survie Jour ",u,": ",T.value.toFixed(1),"%"]})}),e.jsxs("div",{children:["Parties atteignant le Jour ",u,": ",T.timesReachedDay]}),e.jsxs("div",{children:["A survÃ©cu au Jour ",u,": ",T.timesSurvivedDay]}),e.jsxs("div",{children:["Total de parties: ",T.gamesPlayed]}),t&&!K&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["ðŸŽ¯ AffichÃ© via sÃ©lection (< ",d," parties ce jour)"]}),t&&K&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection (hors top 15)"}),S&&!t&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null};return o?e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de survie..."}):c?e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",c]}):s?e.jsxs("div",{className:"lycans-survival-stats",children:[e.jsx("div",{className:"lycans-graphique-controles",style:{marginBottom:"1.5rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"day-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Jour :"}),e.jsx("select",{id:"day-select",value:u,onChange:i=>b(parseInt(i.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"80px"},children:j.map(i=>e.jsx("option",{value:i,children:i},i))})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Min. parties :"}),e.jsx("select",{id:"min-games-select",value:d,onChange:i=>g(parseInt(i.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"80px"},children:X.map(i=>e.jsx("option",{value:i,children:i},i))})]})]})}),u&&s.dayStats.find(i=>i.dayNumber===u)&&e.jsxs("div",{className:"lycans-resume-conteneur",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Parties atteignant le Jour ",u]}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-primary)"},children:s.dayStats.find(i=>i.dayNumber===u)?.totalGamesReachingDay||0})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Taux de survie moyen Jour ",u]}),e.jsxs("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-secondary)"},children:[(s.dayStats.find(i=>i.dayNumber===u)?.averageSurvivalRate||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Joueurs Ã©ligibles (min. ",d," parties)"]}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--chart-color-1)"},children:s.playerSurvivalStats.filter(i=>(i.gamesPlayedByDay[u]||0)>=d).length})]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["ðŸ›¡ï¸ Meilleurs Taux de Survie - Jour ",u]}),n&&l.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',l.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:`ðŸ›¡ï¸ Meilleurs Taux de Survie - Jour ${u}`,children:e.jsx("div",{style:{height:400},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:h,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(I,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:({x:i,y:r,payload:y})=>e.jsx("text",{x:i,y:r,dy:16,textAnchor:"end",transform:`rotate(-45, ${i}, ${r})`,fill:l.highlightedPlayer===y.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:l.highlightedPlayer===y.value?14:12,fontWeight:l.highlightedPlayer===y.value?"bold":"normal",children:y.value})}),e.jsx(W,{tickFormatter:i=>`${i.toFixed(0)}%`,tick:{fill:"var(--text-secondary)"},label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(p,{})}),e.jsx(F,{dataKey:"value",name:"Taux de survie",cursor:"pointer",children:h.map((i,r)=>{const y=l.highlightedPlayer===i.name,T=R===i.name,t=i.isHighlightedAddition;return e.jsx($,{fill:P[i.name]||"var(--chart-primary)",stroke:y?"var(--accent-primary)":T?"var(--text-primary)":"none",strokeWidth:y?3:T?2:0,strokeDasharray:t?"5,5":"none",opacity:t?.8:1,onClick:()=>m(i.name),onMouseEnter:()=>B(i.name),onMouseLeave:()=>B(null),style:{cursor:"pointer"}},`cell-highest-${r}`)})})]})})})})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["âš°ï¸ Plus Faibles Taux de Survie - Jour ",u]}),a&&l.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',l.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx(z,{title:`âš°ï¸ Plus Faibles Taux de Survie - Jour ${u}`,children:e.jsx("div",{style:{height:400},children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(L,{data:x,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(I,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),e.jsx(V,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:({x:i,y:r,payload:y})=>e.jsx("text",{x:i,y:r,dy:16,textAnchor:"end",transform:`rotate(-45, ${i}, ${r})`,fill:l.highlightedPlayer===y.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:l.highlightedPlayer===y.value?14:12,fontWeight:l.highlightedPlayer===y.value?"bold":"normal",children:y.value})}),e.jsx(W,{tickFormatter:i=>`${i.toFixed(0)}%`,tick:{fill:"var(--text-secondary)"},label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(G,{content:e.jsx(p,{})}),e.jsx(F,{dataKey:"value",name:"Taux de survie",cursor:"pointer",children:x.map((i,r)=>{const y=l.highlightedPlayer===i.name,T=R===i.name,t=i.isHighlightedAddition;return e.jsx($,{fill:P[i.name]||"var(--chart-color-4)",stroke:y?"var(--accent-primary)":T?"var(--text-primary)":"none",strokeWidth:y?3:T?2:0,strokeDasharray:t?"5,5":"none",opacity:t?.8:1,onClick:()=>m(i.name),onMouseEnter:()=>B(i.name),onMouseLeave:()=>B(null),style:{cursor:"pointer"}},`cell-lowest-${r}`)})})]})})})})]}),e.jsx("div",{className:"lycans-section-description",style:{marginTop:"1.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note :"})," Les statistiques de survie montrent le pourcentage de fois qu'un joueur survit au Jour ",u," parmi toutes les parties qu'il a jouÃ©es et qui ont atteint ce jour. ",n||a?"Les joueurs mis en Ã©vidence apparaissent mÃªme s'ils ne sont pas dans le top 15.":""]})})]}):e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de survie disponible"})}function Me(){const{navigationState:s,updateNavigationState:v}=_(),[d,g]=H.useState(s.deathStatisticsState?.selectedCamp||s.deathStatsSelectedCamp||"Tous les camps"),[o,c]=H.useState(s.deathStatisticsState?.victimCampFilter||"Tous les camps"),[D,l]=H.useState(s.deathStatisticsState?.minGamesForAverage||25),[f,P]=H.useState(s.deathStatisticsState?.selectedView||"killers"),{data:A}=xe(),{data:b,isLoading:R,error:B}=pe(d,o),{data:j,isLoading:u,error:h}=fe(),{data:n,isLoading:x,error:a}=De(d),{data:m}=ce(),p=le();H.useEffect(()=>{(!s.deathStatisticsState||s.deathStatisticsState.selectedCamp!==d||s.deathStatisticsState.victimCampFilter!==o||s.deathStatisticsState.minGamesForAverage!==D||s.deathStatisticsState.selectedView!==f)&&v({deathStatisticsState:{selectedCamp:d,victimCampFilter:o,minGamesForAverage:D,selectedView:f,focusChart:s.deathStatisticsState?.focusChart}})},[d,o,D,f,s.deathStatisticsState,v]);const i=H.useMemo(()=>m?ge(m):[],[m]),r=H.useMemo(()=>{const k={};i.forEach(C=>{C===E.BY_WOLF?k[C]=p.Loup:C===E.VOTED?k[C]="var(--chart-color-1)":C===E.BULLET||C===E.BULLET_HUMAN||C===E.BULLET_WOLF?k[C]=p.Chasseur:C===E.BY_ZOMBIE?k[C]=p.Vaudou:C===E.ASSASSIN?k[C]=p.Alchimiste:C===E.AVENGER?k[C]="var(--chart-color-2)":C===E.LOVER_DEATH?k[C]=p.Amoureux:C===E.BY_BEAST?k[C]="var(--chart-color-3)":C===E.SHERIF_SUCCESS&&(k[C]="var(--chart-color-4)")});const U=["var(--accent-primary)","var(--accent-secondary)","var(--accent-tertiary)","#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#ffbb28"];let ee=0;return i.forEach(C=>{k[C]||(k[C]=U[ee%U.length],ee++)}),k},[i,p]),y=k=>{g(k),v({deathStatsSelectedCamp:k,deathStatisticsState:{selectedCamp:k,victimCampFilter:o,minGamesForAverage:D,selectedView:f,focusChart:s.deathStatisticsState?.focusChart}})},T=k=>{c(k),v({deathStatisticsState:{selectedCamp:d,victimCampFilter:k,minGamesForAverage:D,selectedView:f,focusChart:s.deathStatisticsState?.focusChart}})},t=k=>{l(k),v({deathStatisticsState:{selectedCamp:d,victimCampFilter:o,minGamesForAverage:k,selectedView:f,focusChart:s.deathStatisticsState?.focusChart}})},S=k=>{P(k),v({deathStatisticsState:{selectedCamp:d,victimCampFilter:o,minGamesForAverage:D,selectedView:k,focusChart:s.deathStatisticsState?.focusChart}})},{gamesWithKillers:K,totalEligibleForAverage:q}=H.useMemo(()=>{if(!b)return{gamesWithKillers:0,totalEligibleForAverage:0};const k=b.killerStats.filter(U=>U.gamesPlayed>=D);return{gamesWithKillers:b.totalGames,totalEligibleForAverage:k.length}},[b,D]);return R?e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de mort..."}):B?e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",B]}):b?e.jsxs("div",{className:"lycans-players-stats",children:[e.jsx("h2",{children:"ðŸ’€ Statistiques de Morts & Kills"}),e.jsxs("div",{className:"lycans-categories-selection",children:[e.jsx("button",{className:`lycans-categorie-btn ${f==="killers"?"active":""}`,onClick:()=>S("killers"),children:"Tueurs"}),e.jsx("button",{className:`lycans-categorie-btn ${f==="deaths"?"active":""}`,onClick:()=>S("deaths"),children:"Morts"}),e.jsx("button",{className:`lycans-categorie-btn ${f==="survival"?"active":""}`,onClick:()=>S("survival"),children:"Survie"}),e.jsx("button",{className:`lycans-categorie-btn ${f==="hunter"?"active":""}`,onClick:()=>S("hunter"),children:"Chasseur"})]}),(f==="killers"||f==="deaths"||f==="survival")&&e.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Camp :"}),e.jsxs("select",{id:"camp-select",value:d,onChange:k=>y(k.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[e.jsx("option",{value:"Tous les camps",children:"Tous les camps"}),A?.map(k=>e.jsx("option",{value:k,children:k},k))]})]}),f==="killers"&&e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"victim-camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Camp de la victime :"}),e.jsxs("select",{id:"victim-camp-select",value:o,onChange:k=>T(k.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[e.jsx("option",{value:"Tous les camps",children:"Tous les camps"}),e.jsx("option",{value:"Villageois",children:"Villageois"}),e.jsx("option",{value:"Loup",children:"Loup"}),e.jsx("option",{value:"Solo roles",children:"Solo roles"})]})]})]}),(f==="killers"||f==="deaths")&&e.jsxs("div",{className:"lycans-resume-conteneur",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Total des morts"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-secondary)"},children:b.totalDeaths})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Tueurs identifiÃ©s"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--chart-color-1)"},children:b.killerStats.length})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Nombre de parties enregistrÃ©es"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-primary)"},children:K})]})]}),f==="killers"&&e.jsx(be,{deathStats:b,selectedCamp:d,victimCampFilter:o,minGamesForAverage:D,onMinGamesChange:t,availableDeathTypes:i,deathTypeColors:r,totalEligibleForAverage:q}),f==="deaths"&&e.jsx(Te,{deathStats:b,selectedCamp:d,minGamesForAverage:D,onMinGamesChange:t,availableDeathTypes:i,deathTypeColors:r}),f==="hunter"&&e.jsx(Ae,{hunterStats:j,isLoading:u,error:h}),f==="survival"&&e.jsx(Be,{survivalStats:n,selectedCamp:d,minGamesForAverage:D,onMinGamesChange:t,isLoading:x,error:a}),e.jsx("div",{className:"lycans-section-description",style:{marginTop:"1.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note : "}),"DonnÃ©es en cours de rÃ©cupÃ©ration (donnÃ©es partielles)."]})})]}):e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de mort disponible"})}export{Me as DeathStatisticsChart};
