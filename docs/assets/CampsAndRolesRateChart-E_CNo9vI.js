import{u as l,j as e}from"./index-b99mx4lI.js";import{l as c}from"./api-BWHeASPZ.js";import{R as d,C as m,T as p}from"./CategoricalChart-CYV5D7os.js";import{P as u,a as h}from"./PieChart-euFYZdHS.js";import{L as x}from"./Legend-_uzxr44K.js";function f(){const{combinedData:t,isLoading:i,error:r}=l();return{campWinStats:t&&t.campWinStats?t.campWinStats:null,isLoading:i,errorInfo:r}}const j="#607D8B";function S(){const{campWinStats:t,isLoading:i,errorInfo:r}=f();if(i)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de victoire..."});if(r)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",r]});if(!t||!t.campStats||t.campStats.length===0)return e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de victoire disponible"});const o=t?.campStats?.map(s=>({...s,winRateNum:typeof s.winRate=="string"?parseFloat(s.winRate):s.winRate}))||[];return e.jsxs("div",{className:"lycans-stats-container",children:[e.jsx("h2",{children:"Statistiques de Victoire par Camp"}),e.jsxs("p",{className:"lycans-stats-info",children:["Total des parties: ",t.totalGames]}),e.jsx("div",{className:"lycans-chart-wrapper",style:{height:450},children:e.jsx(d,{width:"100%",height:"100%",children:e.jsxs(u,{children:[e.jsx(h,{data:o,cx:"50%",cy:"50%",labelLine:!1,outerRadius:140,fill:"#8884d8",dataKey:"winRateNum",nameKey:"camp",label:({camp:s,winRate:a})=>`${s}: ${a}%`,children:o.map((s,a)=>e.jsx(m,{fill:c[s.camp]||j},`cellule-camp-${a}`))}),e.jsx(p,{content:({active:s,payload:a})=>{if(s&&a&&a.length>0){const n=a[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:4},children:n.camp}),e.jsxs("div",{children:["Victoires: ",n.wins]}),e.jsxs("div",{children:["Total parties: ",n.totalGames]}),e.jsxs("div",{children:["Taux de victoire: ",n.winRate,"%"]})]})}return null}}),e.jsx(x,{})]})})})]})}export{S as CampsAndRolesRateChart};
