import{g as ie,u as pe,a as ue,r as V,j as r}from"./index-CEJjVhGX.js";import{u as fe}from"./baseStatsHook-DO6o4ubh.js";import{g as B,a as S,b as le}from"./datasyncExport-D6_8Fmuy.js";import{u as de}from"./useJoueursData-BENL2Sp4.js";import{a as ge,u as he,m as ye}from"./api-Ct8pto0D.js";import{F as Z,C as _,X as ee,Y as ae,a as Pe}from"./FullscreenChart-B8nN451c.js";import{R as re,T as se}from"./CategoricalChart-C6jql2qE.js";import{B as xe,a as Ce}from"./BarChart-q4OT4teX.js";import{S as ve,a as Re}from"./ScatterChart-DKBsDqVT.js";function te(l,i=!1,c=!1){const o={};return l.forEach(d=>{const m=new Set;d.PlayerStats.forEach(s=>{const p=B(S(s.MainRoleInitial,s.MainRoleChanges||[]),{regroupWolfSubRoles:i,regroupVillagers:c});m.add(p)}),m.forEach(s=>{o[s]||(o[s]={totalGames:0,wins:0,winRate:0,players:{}}),o[s].totalGames++});const y=new Set;d.PlayerStats.forEach(s=>{if(s.Victorious){const p=B(S(s.MainRoleInitial,s.MainRoleChanges||[]),{regroupWolfSubRoles:i,regroupVillagers:c});y.add(p)}}),y.forEach(s=>{o[s]&&o[s].wins++})}),o}function oe(l,i,c=!1,o=!1){const d={};return l.forEach(m=>{m.PlayerStats.forEach(y=>{const s=ie(y),p=y.Username,a=B(S(y.MainRoleInitial,y.MainRoleChanges||[]),{regroupWolfSubRoles:c,regroupVillagers:o}),j=a==="Autres"?"R√¥les sp√©ciaux":a;i[j].players[s]||(i[j].players[s]={games:0,wins:0,winRate:0,displayName:p}),i[j].players[s].games++,i[j].players[s].displayName=p,y.Victorious&&i[j].players[s].wins++,d[s]||(d[s]={totalGames:0,camps:{},displayName:p}),d[s].displayName=p,d[s].camps[j]||(d[s].camps[j]={games:0,wins:0,winRate:0,performance:0}),d[s].totalGames++,d[s].camps[j].games++,y.Victorious&&d[s].camps[j].wins++})}),d}function we(l){const i={};return i["R√¥les sp√©ciaux"]={totalGames:0,wins:0,winRate:0,players:{}},l.forEach(c=>{c.PlayerStats.forEach(o=>{le(S(o.MainRoleInitial,o.MainRoleChanges||[]))==="Autres"&&(i["R√¥les sp√©ciaux"].totalGames++,o.Victorious&&i["R√¥les sp√©ciaux"].wins++)})}),i}function je(l,i){const c={};return l.forEach(o=>{o.PlayerStats.forEach(d=>{const m=ie(d),y=d.Username;if(le(S(d.MainRoleInitial,d.MainRoleChanges||[]))==="Autres"){const p="R√¥les sp√©ciaux";i[p].players[m]||(i[p].players[m]={games:0,wins:0,winRate:0,displayName:y}),i[p].players[m].games++,i[p].players[m].displayName=y,d.Victorious&&i[p].players[m].wins++,c[m]||(c[m]={totalGames:0,camps:{},displayName:y}),c[m].displayName=y,c[m].camps[p]||(c[m].camps[p]={games:0,wins:0,winRate:0,performance:0}),c[m].totalGames++,c[m].camps[p].games++,d.Victorious&&c[m].camps[p].wins++}})}),c}function z(l){Object.keys(l).forEach(i=>{l[i].totalGames>0&&(l[i].winRate=parseFloat((l[i].wins/l[i].totalGames*100).toFixed(2))),Object.keys(l[i].players).forEach(c=>{const o=l[i].players[c];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)))})})}function q(l,i){Object.keys(l).forEach(c=>{Object.keys(l[c].camps).forEach(o=>{const d=l[c].camps[o];d.games>0&&(d.winRate=parseFloat((d.wins/d.games*100).toFixed(2)),i[o]&&i[o].winRate!==void 0?d.performance=parseFloat((d.winRate-i[o].winRate).toFixed(2)):d.performance=0)})})}function Te(l,i,c){const o=[];return Object.keys(l).forEach(m=>{const y=l[m],s=[];Object.keys(y.camps).forEach(p=>{const a=y.camps[p];if(a.games>=c){const j=i[p]&&i[p].winRate!==void 0?i[p].winRate.toFixed(2):"0.00";s.push({camp:p,games:a.games,wins:a.wins,winRate:a.winRate.toFixed(2),campAvgWinRate:j,performance:a.performance.toFixed(2)})}}),s.sort((p,a)=>parseFloat(a.performance)-parseFloat(p.performance)),s.length>0&&o.push({player:y.displayName,totalGames:y.totalGames,campPerformance:s})}),o.sort((m,y)=>y.totalGames-m.totalGames),{campAverages:Object.keys(i).map(m=>({camp:m,totalGames:i[m].totalGames,wins:i[m].wins,winRate:i[m].winRate.toFixed(2)})),playerPerformanceArray:o}}function be(l){if(l.length===0)return null;const i=te(l,!1,!1),c=te(l,!0,!0),o=we(l),d=oe(l,i,!1,!1),m=oe(l,c,!0,!0),y=je(l,o);z(i),z(c),z(o),q(d,i),q(m,c),q(y,o);const s={...i},p={...d};c.Loup&&(s["Camp Loup"]=c.Loup,Object.keys(m).forEach(R=>{p[R]||(p[R]=m[R]),m[R].camps.Loup&&(p[R].camps["Camp Loup"]=m[R].camps.Loup)})),c.Villageois&&(s["Camp Villageois"]=c.Villageois,Object.keys(m).forEach(R=>{p[R]||(p[R]=m[R]),m[R].camps.Villageois&&(p[R].camps["Camp Villageois"]=m[R].camps.Villageois)})),o["R√¥les sp√©ciaux"]&&(s["R√¥les sp√©ciaux"]=o["R√¥les sp√©ciaux"],Object.keys(y).forEach(R=>{p[R]||(p[R]=y[R]),y[R].camps["R√¥les sp√©ciaux"]&&(p[R].camps["R√¥les sp√©ciaux"]=y[R].camps["R√¥les sp√©ciaux"])}));const a=3,{campAverages:j,playerPerformanceArray:A}=Te(p,s,a);return{campAverages:j,playerPerformance:A,minGamesRequired:a}}function Fe(){const{data:l,isLoading:i,error:c}=fe(be);return{playerCampPerformance:l,isLoading:i,error:c}}function Se(){const{navigateToGameDetails:l,navigationState:i,updateNavigationState:c}=pe(),{settings:o}=ue(),d=ge(),{joueursData:m}=de(),y=he(m),[s,p]=V.useState(i.campPerformanceState?.viewMode||"performance"),[a,j]=V.useState(i.campPerformanceState?.selectedCampPerformanceCamp||"Camp Villageois"),[A,R]=V.useState(i.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:M,isLoading:ne,error:K}=Fe();V.useEffect(()=>{i.campPerformanceState||c({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:A}})},[s,a,A,i.campPerformanceState,c]);const ce=V.useMemo(()=>{if(!M?.campAverages)return["Tous les camps"];const e=M.campAverages.map(W=>W.camp),t=["Tous les camps"];e.includes("Camp Villageois")&&t.push("Camp Villageois"),e.includes("Chasseur")&&t.push("Chasseur"),e.includes("Alchimiste")&&t.push("Alchimiste"),e.includes("Villageois")&&t.push("Villageois"),e.includes("Camp Loup")&&t.push("Camp Loup"),e.includes("Loup")&&t.push("Loup"),e.includes("Tra√Ætre")&&t.push("Tra√Ætre"),e.includes("Louveteau")&&t.push("Louveteau"),e.includes("R√¥les sp√©ciaux")&&t.push("R√¥les sp√©ciaux");const n=["Camp Villageois","Camp Loup","R√¥les sp√©ciaux"],T=[...["Camp Villageois","Villageois","Chasseur","Alchimiste","Camp Loup","Loup","Tra√Ætre","Louveteau"],...n],N=e.filter(W=>!T.includes(W)).sort();return[...t,...N]},[M]),{campPlayPercentageData:O,topPlayPercentageData:I,totalPlayPercentagePlayers:k}=V.useMemo(()=>{if(!M?.playerPerformance||s!=="playPercentage")return{campPlayPercentageData:[],topPlayPercentageData:[],totalPlayPercentagePlayers:0};const{playerPerformance:e}=M,t=[],n=[],u=new Map;for(const h of e){const w=h.campPerformance.reduce((g,F)=>g+F.games,0);for(const g of h.campPerformance)if(g.games>=A){const F=g.games/w*100,f=`${h.player}-${g.camp}`,x={player:h.player,camp:g.camp,games:g.games,wins:g.wins,winRate:g.winRate,performance:g.performance,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),totalGames:w,playPercentage:F,isHighlightedAddition:!1,uniqueKey:f,playerCamp:f},L=u.get(h.player);(!L||x.playPercentage>L.playPercentage)&&u.set(h.player,x),a!=="Tous les camps"&&g.camp===a&&t.push(x)}}n.push(...u.values());const T=(h,w,g=!1)=>{if(!o.highlightedPlayer||h.some(C=>C.player===o.highlightedPlayer&&(!w||C.camp===w)))return h;const f=e.find(C=>C.player===o.highlightedPlayer);if(!f)return h;const x=f.campPerformance.reduce((C,b)=>C+b.games,0);if(g){let C=null;for(const b of f.campPerformance)if(b.games>=1){const E=b.games/x*100,Y=`${f.player}-${b.camp}`,Q={player:f.player,camp:b.camp,games:b.games,wins:b.wins,winRate:b.winRate,performance:b.performance,winRateNum:parseFloat(b.winRate),performanceNum:parseFloat(b.performance),campAvgWinRateNum:parseFloat(b.campAvgWinRate),totalGames:x,playPercentage:E,isHighlightedAddition:!0,uniqueKey:Y,playerCamp:Y};(!C||Q.playPercentage>C.playPercentage)&&(C=Q)}return C?[...h,C]:h}const L=[];for(const C of f.campPerformance)if((!w||C.camp===w)&&C.games>=1){const b=C.games/x*100,E=`${f.player}-${C.camp}`;L.push({player:f.player,camp:C.camp,games:C.games,wins:C.wins,winRate:C.winRate,performance:C.performance,winRateNum:parseFloat(C.winRate),performanceNum:parseFloat(C.performance),campAvgWinRateNum:parseFloat(C.campAvgWinRate),totalGames:x,playPercentage:b,isHighlightedAddition:!0,uniqueKey:E,playerCamp:E})}return[...h,...L]},N=a!=="Tous les camps"?T(t,a,!1):[],W=T(n,void 0,!0);s==="playPercentage"&&console.log("PlayPercentage Debug:",{selectedCamp:a,minGames:A,campPlayersCount:t.length,allPercentagesCount:n.length,sampleCampPlayer:t[0],sampleAllPercentage:n[0]});const D=N.sort((h,w)=>w.playPercentage-h.playPercentage),J=W.sort((h,w)=>w.playPercentage-h.playPercentage),$=(h,w)=>{const g=h.slice(0,w);if(g.some(x=>x.player===o.highlightedPlayer)||!o.highlightedPlayer)return g;const f=h.find(x=>x.player===o.highlightedPlayer);if(f){const x={...f,isHighlightedAddition:!0};return[...g,x]}return g};let G=0;a==="Tous les camps"?G=u.size:G=t.length;const v=$(D,15),P=$(J,15);return console.log("PlayPercentage Final Data:",{selectedCamp:a,finalCampDataLength:v.length,finalTopDataLength:P.length,sampleCampData:v[0],sampleTopData:P[0]}),{campPlayPercentageData:v,topPlayPercentageData:P,totalPlayPercentagePlayers:G}},[M,a,A,o.highlightedPlayer,s]),{campPlayerData:U,topPerformersData:X,totalMatchingPlayers:H}=V.useMemo(()=>{if(!M?.playerPerformance||s!=="performance")return{campPlayerData:[],topPerformersData:[],totalMatchingPlayers:0};const{playerPerformance:e}=M,t=[],n=[],u=new Map;for(const v of e)for(const P of v.campPerformance)if(P.games>=A){const h=`${v.player}-${P.camp}`,w={player:v.player,camp:P.camp,games:P.games,wins:P.wins,winRate:P.winRate,performance:P.performance,winRateNum:parseFloat(P.winRate),performanceNum:parseFloat(P.performance),campAvgWinRateNum:parseFloat(P.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h},g=u.get(v.player);(!g||w.performanceNum>g.performanceNum)&&u.set(v.player,w),a!=="Tous les camps"&&P.camp===a&&t.push({player:v.player,...P,winRateNum:parseFloat(P.winRate),performanceNum:parseFloat(P.performance),campAvgWinRateNum:parseFloat(P.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h})}n.push(...u.values());const T=(v,P,h=!1)=>{if(!o.highlightedPlayer||v.some(f=>f.player===o.highlightedPlayer&&(!P||f.camp===P)))return v;const g=e.find(f=>f.player===o.highlightedPlayer);if(!g)return v;if(h){let f=null;for(const x of g.campPerformance)if(x.games>=1){const L=`${g.player}-${x.camp}`,C={player:g.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:L,playerCamp:L};(!f||C.performanceNum>f.performanceNum)&&(f=C)}return f?[...v,f]:v}const F=[];for(const f of g.campPerformance)if((!P||f.camp===P)&&f.games>=1){const x=`${g.player}-${f.camp}`;F.push({player:g.player,camp:f.camp,games:f.games,wins:f.wins,winRate:f.winRate,performance:f.performance,winRateNum:parseFloat(f.winRate),performanceNum:parseFloat(f.performance),campAvgWinRateNum:parseFloat(f.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:x,playerCamp:x})}return[...v,...F]},N=a!=="Tous les camps"?T(t,a,!1):[],W=T(n,void 0,!0),D=N.sort((v,P)=>P.performanceNum-v.performanceNum),J=W.sort((v,P)=>P.performanceNum-v.performanceNum),$=(v,P)=>{const h=v.slice(0,P);if(h.some(F=>F.player===o.highlightedPlayer)||!o.highlightedPlayer)return h;const g=v.find(F=>F.player===o.highlightedPlayer);if(g){const F={...g,isHighlightedAddition:!0};return[...h,F]}return h};let G=0;return a==="Tous les camps"?G=u.size:G=t.length,{campPlayerData:$(D,15),topPerformersData:$(J,15),totalMatchingPlayers:G}},[M,a,A,o.highlightedPlayer,s]),me=e=>{e&&e.player&&(a!=="Tous les camps"?l(a==="Camp Loup"?{selectedPlayer:e.player,campFilter:{selectedCamp:"Camp Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:`Performance des Joueurs - ${a}`}:a==="Camp Villageois"?{selectedPlayer:e.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeVillagers:!1},fromComponent:`Performance des Joueurs - ${a}`}:a==="R√¥les sp√©ciaux"?{selectedPlayer:e.player,fromComponent:`Performance des Joueurs - ${a}`}:{selectedPlayer:e.player,campFilter:{selectedCamp:a,campFilterMode:"wins-only",excludeWolfSubRoles:a==="Tra√Ætre"||a==="Louveteau",excludeVillagers:a==="Chasseur"||a==="Alchimiste"},fromComponent:`Performance des Joueurs - ${a}`}):e.camp==="Camp Loup"?l({selectedPlayer:e.player,campFilter:{selectedCamp:"Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:"Performance des Joueurs - Tous les camps"}):e.camp==="Camp Villageois"?l({selectedPlayer:e.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeWolfSubRoles:!0},fromComponent:"Performance des Joueurs - Tous les camps"}):e.camp==="R√¥les sp√©ciaux"?l({selectedPlayer:e.player,fromComponent:"Performance des Joueurs - Tous les camps"}):l({selectedPlayer:e.player,campFilter:{selectedCamp:e.camp,campFilterMode:"wins-only",excludeWolfSubRoles:e.camp==="Tra√Ætre"||e.camp==="Louveteau",excludeVillagers:e.camp==="Chasseur"||e.camp==="Alchimiste"},fromComponent:"Performance des Joueurs - Tous les camps"}))};return ne?r.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):K?r.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",K]}):M?r.jsxs("div",{className:"lycans-player-camp-performance",children:[r.jsx("h2",{children:s==="performance"?"Meilleures Performances par Camp":"Pourcentage de Parties Jou√©es par R√¥le"}),r.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Affichage:"}),r.jsxs("select",{id:"view-mode-select",value:s,onChange:e=>{const t=e.target.value;p(t),c({campPerformanceState:{viewMode:t,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:A}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:[r.jsx("option",{value:"performance",children:"üèÜ Meilleures performances"}),r.jsx("option",{value:"playPercentage",children:"üìä % parties jou√©es"})]})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),r.jsx("select",{id:"camp-select",value:a,onChange:e=>{const t=e.target.value;j(t),c({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:t,selectedCampPerformanceMinGames:A}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:ce.map(e=>{let t=e,n=!1,u=!1,T=!1;return e==="Tous les camps"?(t="üìä Tous les camps",T=!0):e==="Camp Villageois"?(t="   üèòÔ∏è Camp Villageois",n=!0,u=!0):e==="Villageois"?(t="   Villageois",n=!0):e==="Chasseur"?(t="     Chasseur",n=!0):e==="Alchimiste"?(t="     Alchimiste",n=!0):e==="Camp Loup"?(t="   üê∫ Camp Loup",n=!0,u=!0):e==="Loup"?(t="     Loup",n=!0):e==="Tra√Ætre"?(t="     Tra√Ætre",n=!0):e==="Louveteau"?(t="     Louveteau",n=!0):e==="R√¥les sp√©ciaux"?(t="   ‚≠ê R√¥les sp√©ciaux",n=!0,u=!0):(t=`     ${e}`,n=!0),r.jsx("option",{value:e,style:{fontFamily:"monospace",fontSize:n?"0.85rem":"0.9rem",fontWeight:u?"bold":"normal",color:u?"var(--accent-primary)":T?"var(--accent-secondary)":"inherit"},children:t},e)})})]}),r.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[r.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),r.jsx("select",{id:"min-games-select",value:A,onChange:e=>{const t=Number(e.target.value);R(t),c({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:t}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ye.map(e=>r.jsx("option",{value:e,children:e},e))})]})]}),r.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:r.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontWeight:"500"},children:[s==="performance"?H:k," joueur",(s==="performance"?H:k)!==1?"s":""," ",(s==="performance"?H:k)!==1?"correspondent":"correspond"," aux crit√®res"]})}),r.jsxs("div",{className:"lycans-graphiques-groupe",children:[r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsx("h3",{children:s==="performance"?a==="Tous les camps"?"Meilleures performances - Tous les camps":`Meilleurs joueurs en ${a}`:a==="Tous les camps"?"Plus grand % de parties - Tous les camps":`Plus grand % de parties en ${a}`}),r.jsx(Z,{title:s==="performance"?a==="Tous les camps"?"Meilleures Performances - Tous les camps":`Meilleurs Joueurs - ${a}`:a==="Tous les camps"?"Pourcentage de Parties Jou√©es - Tous les camps":`Pourcentage de Parties Jou√©es - ${a}`,children:r.jsx("div",{style:{height:500},children:(()=>{const e=s==="performance"?a==="Tous les camps"?X:U:a==="Tous les camps"?I:O;return console.log("BarChart Data Debug:",{viewMode:s,selectedCamp:a,dataLength:e.length,firstItem:e[0],lastItem:e[e.length-1],allData:e}),r.jsx(re,{width:"100%",height:"100%",children:r.jsxs(xe,{data:e,margin:{top:20,right:30,left:20,bottom:0},children:[r.jsx(_,{strokeDasharray:"3 3"}),r.jsx(ee,{dataKey:a==="Tous les camps"?"uniqueKey":"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:t,y:n,payload:u,index:T})=>{const N=e[T],W=N?.player||u.value,D=o.highlightedPlayer===(N?.player||u.value);return r.jsx("text",{x:t,y:n,dy:16,textAnchor:"end",fill:D?"var(--accent-primary)":"var(--text-secondary)",fontSize:D?14:13,fontWeight:D?"bold":"italic",transform:`rotate(-45 ${t} ${n})`,children:W})}}),r.jsx(ae,{domain:s==="playPercentage"?[0,100]:["auto","auto"],label:{value:s==="performance"?"Performance vs moyenne (%)":"Pourcentage de parties jou√©es (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(se,{content:({active:t,payload:n})=>{if(t&&n&&n.length>0){const u=n[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:a==="Tous les camps"?`${u.player} - ${u.camp}`:u.player})}),s==="performance"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Parties: ",u.games]}),r.jsxs("div",{children:["Victoires: ",u.wins]}),r.jsxs("div",{children:["Taux personnel: ",u.winRate,"%"]}),a!=="Tous les camps"&&r.jsxs("div",{children:["Moyenne camp: ",u.campAvgWinRate,"%"]}),r.jsxs("div",{children:["Performance: ",u.performance>0?"+":"",u.performance]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Parties dans ce r√¥le: ",u.games]}),r.jsxs("div",{children:["Total parties: ",u.totalGames]}),r.jsxs("div",{children:["Pourcentage: ",u.playPercentage.toFixed(1),"%"]}),r.jsxs("div",{children:["Victoires: ",u.wins]}),r.jsxs("div",{children:["Taux de victoire: ",u.winRate,"%"]})]}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),r.jsx(Ce,{dataKey:s==="performance"?"performanceNum":"playPercentage",style:{cursor:"pointer"},onClick:me,children:e.map((t,n)=>{const u=o.highlightedPlayer===t.player,T=t.isHighlightedAddition;let N;return a==="Tous les camps"?N=d[t.camp]||`var(--chart-color-${n%6+1})`:N=y[t.player]||"var(--accent-primary)",r.jsx(Pe,{fill:N,stroke:u?"var(--accent-primary)":"transparent",strokeWidth:u?3:0,strokeDasharray:T?"5,5":"none",opacity:T?.8:1},`cell-${n}`)})})]})})})()})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsx("h3",{children:s==="performance"?a==="Tous les camps"?"Performances sur nombre de parties jou√©es - Tous les camps":`Performances en ${a} sur nombre de parties jou√©es`:a==="Tous les camps"?"Pourcentage de parties jou√©es - Tous les camps":`Pourcentage de parties en ${a}`}),r.jsx(Z,{title:s==="performance"?a==="Tous les camps"?"Performances vs Parties Jou√©es - Tous les camps":`Performances vs Parties Jou√©es - ${a}`:a==="Tous les camps"?"Pourcentage vs Total Parties - Tous les camps":`Pourcentage vs Total Parties - ${a}`,children:r.jsx("div",{style:{height:400},children:r.jsx(re,{width:"100%",height:"100%",children:r.jsxs(ve,{data:s==="performance"?a==="Tous les camps"?X:U:a==="Tous les camps"?I:O,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(_,{strokeDasharray:"3 3"}),r.jsx(ee,{dataKey:s==="performance"?"games":"totalGames",type:"number",label:{value:s==="performance"?"Parties jou√©es dans ce r√¥le":"Total parties jou√©es",position:"insideBottom",offset:-10}}),r.jsx(ae,{dataKey:s==="performance"?"performanceNum":"playPercentage",type:"number",label:{value:s==="performance"?"Performance (%)":"Pourcentage parties (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(se,{content:({active:e,payload:t})=>{if(e&&t&&t.length>0){const n=t[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:n.player})}),a==="Tous les camps"&&r.jsxs("div",{children:["Camp: ",n.camp]}),s==="performance"?r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Parties: ",n.games]}),r.jsxs("div",{children:["Performance: ",n.performance>0?"+":"",n.performance]})]}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{children:["Parties dans ce r√¥le: ",n.games]}),r.jsxs("div",{children:["Total parties: ",n.totalGames]}),r.jsxs("div",{children:["Pourcentage: ",n.playPercentage.toFixed(1),"%"]})]}),r.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),r.jsx(Re,{dataKey:s==="performance"?"performanceNum":"playPercentage",name:s==="performance"?"Performance":"Pourcentage",onClick:e=>{e&&e.player&&(a==="Tous les camps"?e.camp==="Camp Loup"?l({selectedPlayer:e.player,campFilter:{selectedCamp:"Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:"Relation Parties Jou√©es vs Performance - Tous les camps"}):e.camp==="R√¥les sp√©ciaux"?l({selectedPlayer:e.player,fromComponent:"Relation Parties Jou√©es vs Performance - Tous les camps"}):l({selectedPlayer:e.player,campFilter:{selectedCamp:e.camp,campFilterMode:"wins-only",excludeWolfSubRoles:e.camp==="Tra√Ætre"||e.camp==="Louveteau"},fromComponent:"Relation Parties Jou√©es vs Performance - Tous les camps"}):l(a==="Camp Loup"?{selectedPlayer:e.player,campFilter:{selectedCamp:"Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:`Relation Parties Jou√©es vs Performance - ${a}`}:a==="R√¥les sp√©ciaux"?{selectedPlayer:e.player,fromComponent:`Relation Parties Jou√©es vs Performance - ${a}`}:{selectedPlayer:e.player,campFilter:{selectedCamp:a,campFilterMode:"wins-only",excludeWolfSubRoles:a==="Tra√Ætre"||a==="Louveteau"},fromComponent:`Relation Parties Jou√©es vs Performance - ${a}`}))},shape:e=>{const t=o.highlightedPlayer===e.payload?.player,n=e.payload?.isHighlightedAddition;return r.jsxs("g",{style:{cursor:"pointer"},children:[r.jsx("circle",{cx:e.cx,cy:e.cy,r:t?15:12,fill:a==="Tous les camps"?d[e.payload?.camp]||"var(--accent-primary)":y[e.payload?.player]||"var(--accent-primary)",stroke:t?"var(--accent-primary)":"#222",strokeWidth:t?3:1,strokeDasharray:n?"5,5":"none",opacity:n?.8:1}),r.jsx("text",{x:e.cx,y:e.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:t?"12":"10",fontWeight:"bold",pointerEvents:"none",children:e.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})]})]}):r.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e de performance par camp disponible"})}export{Se as PlayerCampPerformanceChart};
