import{r as p,u as pe,j as n}from"./index-BRWYUqqK.js";import{b as me,s as H,g as U,d as ue,a as fe,u as ye}from"./baseStatsHook-DU6SRasN.js";import{m as ve,p as $,a as he}from"./api-beq3FXpM.js";import{S as J,u as xe,b as L,G as ge,d as Pe,e as be,f as je,g as Ae,h as Ce,F as V,B as q,C as K,X as F,Y as k,a as Z}from"./FullscreenChart-cgT0x7EA.js";import{m as E,u as we,n as Ie,o as Ee,S as Se,p as Q,q as Oe,t as ee,v as ae,w as Te,x as Re,y as re,b as te,z as _e,A as Ne,B as ze,C as ne,D as De,d as ie,E as Ke,G as Fe,i as ke,L as R,F as O,H as D,I as X,J as Me,K as Ge,M as z,N as Le,O as se,P as We,Q as Be,U as $e,V as Je,h as Ve,W as qe,X as Ze,Y as Xe,R as M,T as G}from"./CategoricalChart-BKlsqax-.js";function oe(e,a,t){return(a=Ye(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ye(e){var a=He(e,"string");return typeof a=="symbol"?a:a+""}function He(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ue(e){var a=we();return p.useEffect(()=>(a(Ie(e)),()=>{a(Ee(e))}),[e,a]),null}class B extends p.Component{render(){return p.createElement(Ue,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:E.allowDuplicatedCategory,allowDataOverflow:E.allowDataOverflow,reversed:E.reversed,includeHidden:E.includeHidden})}}oe(B,"displayName","ZAxis");oe(B,"defaultProps",{zAxisId:0,range:E.range,scale:E.scale,type:E.type});var Qe=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(null,arguments)}function ea(e,a){if(e==null)return{};var t,r,s=aa(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function aa(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function ra(e){var{option:a,isActive:t}=e,r=ea(e,Qe);return typeof a=="string"?p.createElement(J,T({option:p.createElement(Se,T({type:a},r)),isActive:t,shapeType:"symbols"},r)):p.createElement(J,T({option:a,isActive:t,shapeType:"symbols"},r))}var ta=(e,a,t,r,s,i,d)=>ee(e,"xAxis",a,d),na=(e,a,t,r,s,i,d)=>ae(e,"xAxis",a,d),ia=(e,a,t,r,s,i,d)=>ee(e,"yAxis",t,d),sa=(e,a,t,r,s,i,d)=>ae(e,"yAxis",t,d),oa=(e,a,t,r)=>Te(e,"zAxis",r,!1),la=(e,a,t,r,s)=>s,ca=(e,a,t,r,s,i)=>i,da=(e,a,t,r,s,i,d)=>Oe(e,a,t,d),pa=Q([Re,la],(e,a)=>e.filter(t=>t.type==="scatter").find(t=>t.id===a)),ma=Q([da,ta,na,ia,sa,oa,pa,ca],(e,a,t,r,s,i,d,f)=>{var{chartData:y,dataStartIndex:c,dataEndIndex:m}=e;if(d!=null){var v;if(d?.data!=null&&d.data.length>0?v=d.data:v=y?.slice(c,m+1),!(v==null||a==null||r==null||t==null||s==null||t?.length===0||s?.length===0))return wa({displayedData:v,xAxis:a,yAxis:r,zAxis:i,scatterSettings:d,xAxisTicks:t,yAxisTicks:s,cells:f})}}),ua=["onMouseEnter","onClick","onMouseLeave"],fa=["id"],ya=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function W(e,a){if(e==null)return{};var t,r,s=va(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function va(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S.apply(null,arguments)}function Y(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Y(Object(t),!0).forEach(function(r){ha(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ha(e,a,t){return(a=xa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function xa(e){var a=ga(e,"string");return typeof a=="symbol"?a:a+""}function ga(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Pa=e=>{var{dataKey:a,name:t,fill:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:a,type:s,color:r,value:ne(t,a),payload:e}]};function ba(e){var{points:a,props:t}=e,{line:r,lineType:s,lineJointType:i}=t;if(!r)return null;var d=se(t),f=Ve(r,!1),y,c;if(s==="joint")y=a.map(h=>({x:h.cx,y:h.cy}));else if(s==="fitting"){var{xmin:m,xmax:v,a:P,b:j}=qe(a),g=h=>P*h+j;y=[{x:m,y:g(m)},{x:v,y:g(v)}]}var A=C(C(C({},d),{},{fill:"none",stroke:d&&d.fill},f),{},{points:y});return p.isValidElement(r)?c=p.cloneElement(r,A):typeof r=="function"?c=r(A):c=p.createElement(Ze,S({},A,{type:i})),p.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function le(e){var{points:a,showLabels:t,allOtherScatterProps:r}=e,{shape:s,activeShape:i,dataKey:d}=r,f=ie(Le),{onMouseEnter:y,onClick:c,onMouseLeave:m}=r,v=W(r,ua),P=be(y,r.dataKey),j=je(m),g=Ae(c,r.dataKey);if(a==null)return null;var{id:A}=r,h=W(r,fa),o=se(h);return p.createElement(p.Fragment,null,p.createElement(ba,{points:a,props:h}),a.map((l,u)=>{var w=i&&f===String(u),I=w?i:s,b=C(C(C({key:"symbol-".concat(u)},o),l),{},{[Be]:u,[We]:String(d)});return p.createElement(R,S({className:"recharts-scatter-symbol"},$e(v,l,u),{onMouseEnter:P(l,u),onMouseLeave:j(l,u),onClick:g(l,u),key:"symbol-".concat(l?.cx,"-").concat(l?.cy,"-").concat(l?.size,"-").concat(u)}),p.createElement(ra,S({option:I,isActive:w},b)))}),t&&Je.renderCallByParent(h,a))}function ja(e){var{previousPointsRef:a,props:t}=e,{points:r,isAnimationActive:s,animationBegin:i,animationDuration:d,animationEasing:f}=t,y=a.current,c=Me(t,"recharts-scatter-"),[m,v]=p.useState(!1),P=p.useCallback(()=>{v(!1)},[]),j=p.useCallback(()=>{v(!0)},[]);return p.createElement(Ge,{begin:i,duration:d,isActive:s,easing:f,onAnimationEnd:P,onAnimationStart:j,key:c},g=>{var A=g===1?r:r.map((h,o)=>{var l=y&&y[o];if(l){var u=z(l.cx,h.cx),w=z(l.cy,h.cy),I=z(l.size,h.size);return C(C({},h),{},{cx:u(g),cy:w(g),size:I(g)})}var b=z(0,h.size);return C(C({},h),{},{size:b(g)})});return g>0&&(a.current=A),p.createElement(R,null,p.createElement(le,{points:A,allOtherScatterProps:t,showLabels:!m}))})}function Aa(e){var{points:a,isAnimationActive:t}=e,r=p.useRef(null),s=r.current;return t&&a&&a.length&&(!s||s!==a)?p.createElement(ja,{props:e,previousPointsRef:r}):p.createElement(le,{points:a,allOtherScatterProps:e,showLabels:!0})}function Ca(e){var{dataKey:a,points:t,stroke:r,strokeWidth:s,fill:i,name:d,hide:f,tooltipType:y}=e;return{dataDefinedOnItem:t?.map(c=>c.tooltipPayload),positions:t?.map(c=>c.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:i,nameKey:void 0,dataKey:a,name:ne(d,a),hide:f,type:y,color:i,unit:""}}}function wa(e){var{displayedData:a,xAxis:t,yAxis:r,zAxis:s,scatterSettings:i,xAxisTicks:d,yAxisTicks:f,cells:y}=e,c=O(t.dataKey)?i.dataKey:t.dataKey,m=O(r.dataKey)?i.dataKey:r.dataKey,v=s&&s.dataKey,P=s?s.range:B.defaultProps.range,j=P&&P[0],g=t.scale.bandwidth?t.scale.bandwidth():0,A=r.scale.bandwidth?r.scale.bandwidth():0;return a.map((h,o)=>{var l=D(h,c),u=D(h,m),w=!O(v)&&D(h,v)||"-",I=[{name:O(t.dataKey)?i.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:h,dataKey:c,type:i.tooltipType},{name:O(r.dataKey)?i.name:r.name||r.dataKey,unit:r.unit||"",value:u,payload:h,dataKey:m,type:i.tooltipType}];w!=="-"&&I.push({name:s.name||s.dataKey,unit:s.unit||"",value:w,payload:h,dataKey:v,type:i.tooltipType});var b=X({axis:t,ticks:d,bandSize:g,entry:h,index:o,dataKey:c}),x=X({axis:r,ticks:f,bandSize:A,entry:h,index:o,dataKey:m}),_=w!=="-"?s.scale(w):j,N=Math.sqrt(Math.max(_,0)/Math.PI);return C(C({},h),{},{cx:b,cy:x,x:b-N,y:x-N,width:2*N,height:2*N,size:_,node:{x:l,y:u,z:w},tooltipPayload:I,tooltipPosition:{x:b,y:x},payload:h},y&&y[o]&&y[o].props)})}var Ia=(e,a,t)=>({x:e.cx,y:e.cy,value:t==="x"?+e.node.x:+e.node.y,errorVal:D(e,a)});function Ea(e){var{hide:a,points:t,className:r,needClip:s,xAxisId:i,yAxisId:d,id:f,children:y}=e;if(a)return null;var c=ke("recharts-scatter",r),m=f;return p.createElement(R,{className:c,clipPath:s?"url(#clipPath-".concat(m,")"):null,id:f},s&&p.createElement("defs",null,p.createElement(ge,{clipPathId:m,xAxisId:i,yAxisId:d})),p.createElement(Pe,{xAxisId:i,yAxisId:d,data:t,dataPointFormatter:Ia,errorBarOffset:0},y),p.createElement(R,{key:"recharts-scatter-symbols"},p.createElement(Aa,e)))}var ce={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Fe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Sa(e){var a=re(e,ce),{animationBegin:t,animationDuration:r,animationEasing:s,hide:i,isAnimationActive:d,legendType:f,lineJointType:y,lineType:c,shape:m,xAxisId:v,yAxisId:P,zAxisId:j}=a,g=W(a,ya),{needClip:A}=xe(v,P),h=p.useMemo(()=>De(e.children,L),[e.children]),o=te(),l=ie(u=>ma(u,v,P,j,e.id,h,o));return A==null?null:p.createElement(p.Fragment,null,p.createElement(Ke,{fn:Ca,args:C(C({},e),{},{points:l})}),p.createElement(Ea,S({},g,{xAxisId:v,yAxisId:P,zAxisId:j,lineType:c,lineJointType:y,legendType:f,shape:m,hide:i,isAnimationActive:d,animationBegin:t,animationDuration:r,animationEasing:s,points:l,needClip:A})))}function de(e){var a=re(e,ce),t=te();return p.createElement(_e,{id:a.id,type:"scatter"},r=>p.createElement(p.Fragment,null,p.createElement(Ne,{legendPayload:Pa(a)}),p.createElement(ze,{type:"scatter",id:r,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:a.zAxisId,dataKey:a.dataKey,hide:a.hide,name:a.name,tooltipType:a.tooltipType,isPanorama:t}),p.createElement(Sa,S({},a,{id:r}))))}de.displayName="Scatter";var Oa=["item"],Ta=p.forwardRef((e,a)=>p.createElement(Ce,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Oa,tooltipPayloadSearcher:Xe,categoricalChartProps:e,ref:a}));function Ra(e,a){const t={};return e.forEach(r=>{const s=r.Game.toString(),i=r["Liste des joueurs"],d=r["Camp victorieux"];if(s&&i&&d){const f=H(i),y=new Set;f.forEach(c=>{const m=c.trim();if(m){const v=U(a,s,m);y.add(v)}}),y.forEach(c=>{t[c]||(t[c]={totalGames:0,wins:0,winRate:0,players:{}}),t[c].totalGames++}),y.forEach(c=>{ue(c,d)&&t[c].wins++})}}),t}function _a(e,a,t){const r={};return e.forEach(s=>{const i=s.Game.toString(),d=s["Liste des joueurs"],f=s["Liste des gagnants"];i&&d&&f&&H(d).forEach(c=>{const m=c.trim();if(m){const v=U(a,i,m);t[v].players[m]||(t[v].players[m]={games:0,wins:0,winRate:0}),t[v].players[m].games++;const P=fe(m,f);P&&t[v].players[m].wins++,r[m]||(r[m]={totalGames:0,camps:{}}),r[m].camps[v]||(r[m].camps[v]={games:0,wins:0,winRate:0,performance:0}),r[m].totalGames++,r[m].camps[v].games++,P&&r[m].camps[v].wins++}})}),r}function Na(e){Object.keys(e).forEach(a=>{e[a].totalGames>0&&(e[a].winRate=parseFloat((e[a].wins/e[a].totalGames*100).toFixed(2))),Object.keys(e[a].players).forEach(t=>{const r=e[a].players[t];r.games>0&&(r.winRate=parseFloat((r.wins/r.games*100).toFixed(2)))})})}function za(e,a){Object.keys(e).forEach(t=>{Object.keys(e[t].camps).forEach(r=>{const s=e[t].camps[r];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),a[r]&&a[r].winRate&&(s.performance=parseFloat((s.winRate-a[r].winRate).toFixed(2))))})})}function Da(e,a,t){const r=[];return Object.keys(e).forEach(i=>{const d=e[i],f=[];Object.keys(d.camps).forEach(y=>{const c=d.camps[y];c.games>=t&&f.push({camp:y,games:c.games,wins:c.wins,winRate:c.winRate.toFixed(2),campAvgWinRate:a[y].winRate.toFixed(2),performance:c.performance.toFixed(2)})}),f.sort((y,c)=>parseFloat(c.performance)-parseFloat(y.performance)),f.length>0&&r.push({player:i,totalGames:d.totalGames,campPerformance:f})}),r.sort((i,d)=>d.totalGames-i.totalGames),{campAverages:Object.keys(a).map(i=>({camp:i,totalGames:a[i].totalGames,winRate:a[i].winRate.toFixed(2)})),playerPerformanceArray:r}}function Ka(e,a){if(e.length===0||a.length===0)return null;const t=me(a),r=Ra(e,t),s=_a(e,t,r);Na(r),za(s,r);const i=5,{campAverages:d,playerPerformanceArray:f}=Da(s,r,i);return{campAverages:d,playerPerformance:f,minGamesRequired:i}}function Fa(){const{data:e,isLoading:a,error:t}=ye(Ka);return{playerCampPerformance:e,isLoading:a,error:t}}function Ba(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:t}=pe(),[r,s]=p.useState(a.selectedCampPerformanceView||"player-performance"),[i,d]=p.useState(a.selectedCampPerformanceCamp||"Villageois"),[f,y]=p.useState(a.selectedCampPerformanceMinGames||5),{playerCampPerformance:c,isLoading:m,error:v}=Fa();p.useEffect(()=>{a.selectedCampPerformanceView||t({selectedCampPerformanceView:r,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:f})},[r,i,f,a.selectedCampPerformanceView,t]);const P=p.useMemo(()=>c?.campAverages?c.campAverages.map(o=>o.camp).sort():[],[c]),{campPlayerData:j,topPerformersData:g}=p.useMemo(()=>{if(!c?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=c,l=[],u=[];for(const b of o)for(const x of b.campPerformance)if(x.games>=f){const _={player:b.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)};u.push(_),x.camp===i&&l.push({player:b.player,...x,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)})}const w=l.sort((b,x)=>x.performanceNum-b.performanceNum),I=u.sort((b,x)=>x.performanceNum-b.performanceNum).slice(0,20);return{campPlayerData:w,topPerformersData:I}},[c,i,f]),A=o=>{o&&o.player&&e({selectedPlayer:o.player,selectedCamp:i,fromComponent:`Performance des Joueurs - ${i}`})},h=o=>{o&&o.player&&o.camp&&e({selectedPlayer:o.player,selectedCamp:o.camp,fromComponent:`Top 20 des Performances (Min. ${f} parties dans ce camp)`})};return m?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):v?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",v]}):c?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:r,onChange:o=>{const l=o.target.value;s(l),t({selectedCampPerformanceView:l})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),r==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:i,onChange:o=>{const l=o.target.value;d(l),t({selectedCampPerformanceCamp:l})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(o=>n.jsx("option",{value:o,children:o},o))})]}),(r==="player-performance"||r==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:f,onChange:o=>{const l=Number(o.target.value);y(l),t({selectedCampPerformanceMinGames:l})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ve.map(o=>n.jsx("option",{value:o,children:o},o))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[r==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",i]}),n.jsx(V,{title:`Performance des Joueurs - ${i}`,children:n.jsx("div",{style:{height:500},children:n.jsx(M,{width:"100%",height:"100%",children:n.jsxs(q,{data:j.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(k,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const u=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:u.player})}),n.jsxs("div",{children:["Parties: ",u.games]}),n.jsxs("div",{children:["Victoires: ",u.wins]}),n.jsxs("div",{children:["Taux personnel: ",u.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",u.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",u.performance>0?"+":"",u.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:A,children:j.slice(0,15).map((o,l)=>n.jsx(L,{fill:$[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${l}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",i]}),n.jsx(V,{title:`Relation Parties Jouées vs Performance - ${i}`,children:n.jsx("div",{style:{height:400},children:n.jsx(M,{width:"100%",height:"100%",children:n.jsxs(Ta,{data:j,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(k,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const u=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:u.player})}),n.jsxs("div",{children:["Parties: ",u.games]}),n.jsxs("div",{children:["Performance: ",u.performance>0?"+":"",u.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(de,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&e({selectedPlayer:o.player,selectedCamp:i,fromComponent:`Relation Parties Jouées vs Performance - ${i}`})},shape:o=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:o.cx,cy:o.cy,r:12,fill:$[o.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),r==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${f} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(M,{width:"100%",height:"100%",children:n.jsxs(q,{data:g,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(K,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(k,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const u=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:u.player})}),n.jsxs("div",{children:["Camp: ",u.camp]}),n.jsxs("div",{children:["Parties: ",u.games]}),n.jsxs("div",{children:["Taux personnel: ",u.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",u.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:g.map((o,l)=>n.jsx(L,{fill:he[o.camp]||`var(--chart-color-${l%6+1})`},`cell-${l}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ba as PlayerCampPerformanceChart};
