import{r as d,b as de,s as H,g as U,d as pe,a as ue,u as fe,j as n}from"./index-C2TgH62M.js";import{u as ye}from"./baseStatsHook-Du6gAC_B.js";import{m as ve,p as $,a as he}from"./api-beq3FXpM.js";import{S as J,u as xe,b as L,G as ge,d as Pe,e as be,f as je,g as Ae,h as Ce,F as V,B as q,C as D,X as M,Y as K,a as Z}from"./FullscreenChart-CHzNkrE3.js";import{m as E,u as we,n as Ie,o as Ee,S as Se,p as Q,q as Oe,t as ee,v as ae,w as Te,x as Re,y as re,b as te,z as _e,A as Ne,B as Fe,C as ne,D as ze,d as ie,E as De,G as Me,i as Ke,L as R,F as O,H as z,I as X,J as ke,K as Ge,M as F,N as Le,O as se,P as We,Q as Be,U as $e,V as Je,h as Ve,W as qe,X as Ze,Y as Xe,R as k,T as G}from"./CategoricalChart-DvmA6bFb.js";function oe(e,a,t){return(a=Ye(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ye(e){var a=He(e,"string");return typeof a=="symbol"?a:a+""}function He(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ue(e){var a=we();return d.useEffect(()=>(a(Ie(e)),()=>{a(Ee(e))}),[e,a]),null}class B extends d.Component{render(){return d.createElement(Ue,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:E.allowDuplicatedCategory,allowDataOverflow:E.allowDataOverflow,reversed:E.reversed,includeHidden:E.includeHidden})}}oe(B,"displayName","ZAxis");oe(B,"defaultProps",{zAxisId:0,range:E.range,scale:E.scale,type:E.type});var Qe=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},T.apply(null,arguments)}function ea(e,a){if(e==null)return{};var t,r,s=aa(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function aa(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function ra(e){var{option:a,isActive:t}=e,r=ea(e,Qe);return typeof a=="string"?d.createElement(J,T({option:d.createElement(Se,T({type:a},r)),isActive:t,shapeType:"symbols"},r)):d.createElement(J,T({option:a,isActive:t,shapeType:"symbols"},r))}var ta=(e,a,t,r,s,i,m)=>ee(e,"xAxis",a,m),na=(e,a,t,r,s,i,m)=>ae(e,"xAxis",a,m),ia=(e,a,t,r,s,i,m)=>ee(e,"yAxis",t,m),sa=(e,a,t,r,s,i,m)=>ae(e,"yAxis",t,m),oa=(e,a,t,r)=>Te(e,"zAxis",r,!1),la=(e,a,t,r,s)=>s,ca=(e,a,t,r,s,i)=>i,ma=(e,a,t,r,s,i,m)=>Oe(e,a,t,m),da=Q([Re,la],(e,a)=>e.filter(t=>t.type==="scatter").find(t=>t.id===a)),pa=Q([ma,ta,na,ia,sa,oa,da,ca],(e,a,t,r,s,i,m,p)=>{var{chartData:y,dataStartIndex:c,dataEndIndex:u}=e;if(m!=null){var v;if(m?.data!=null&&m.data.length>0?v=m.data:v=y?.slice(c,u+1),!(v==null||a==null||r==null||t==null||s==null||t?.length===0||s?.length===0))return wa({displayedData:v,xAxis:a,yAxis:r,zAxis:i,scatterSettings:m,xAxisTicks:t,yAxisTicks:s,cells:p})}}),ua=["onMouseEnter","onClick","onMouseLeave"],fa=["id"],ya=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function W(e,a){if(e==null)return{};var t,r,s=va(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}function va(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function S(){return S=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},S.apply(null,arguments)}function Y(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),t.push.apply(t,r)}return t}function C(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?Y(Object(t),!0).forEach(function(r){ha(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function ha(e,a,t){return(a=xa(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function xa(e){var a=ga(e,"string");return typeof a=="symbol"?a:a+""}function ga(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Pa=e=>{var{dataKey:a,name:t,fill:r,legendType:s,hide:i}=e;return[{inactive:i,dataKey:a,type:s,color:r,value:ne(t,a),payload:e}]};function ba(e){var{points:a,props:t}=e,{line:r,lineType:s,lineJointType:i}=t;if(!r)return null;var m=se(t),p=Ve(r,!1),y,c;if(s==="joint")y=a.map(h=>({x:h.cx,y:h.cy}));else if(s==="fitting"){var{xmin:u,xmax:v,a:P,b:j}=qe(a),g=h=>P*h+j;y=[{x:u,y:g(u)},{x:v,y:g(v)}]}var A=C(C(C({},m),{},{fill:"none",stroke:m&&m.fill},p),{},{points:y});return d.isValidElement(r)?c=d.cloneElement(r,A):typeof r=="function"?c=r(A):c=d.createElement(Ze,S({},A,{type:i})),d.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function le(e){var{points:a,showLabels:t,allOtherScatterProps:r}=e,{shape:s,activeShape:i,dataKey:m}=r,p=ie(Le),{onMouseEnter:y,onClick:c,onMouseLeave:u}=r,v=W(r,ua),P=be(y,r.dataKey),j=je(u),g=Ae(c,r.dataKey);if(a==null)return null;var{id:A}=r,h=W(r,fa),o=se(h);return d.createElement(d.Fragment,null,d.createElement(ba,{points:a,props:h}),a.map((l,f)=>{var w=i&&p===String(f),I=w?i:s,b=C(C(C({key:"symbol-".concat(f)},o),l),{},{[Be]:f,[We]:String(m)});return d.createElement(R,S({className:"recharts-scatter-symbol"},$e(v,l,f),{onMouseEnter:P(l,f),onMouseLeave:j(l,f),onClick:g(l,f),key:"symbol-".concat(l?.cx,"-").concat(l?.cy,"-").concat(l?.size,"-").concat(f)}),d.createElement(ra,S({option:I,isActive:w},b)))}),t&&Je.renderCallByParent(h,a))}function ja(e){var{previousPointsRef:a,props:t}=e,{points:r,isAnimationActive:s,animationBegin:i,animationDuration:m,animationEasing:p}=t,y=a.current,c=ke(t,"recharts-scatter-"),[u,v]=d.useState(!1),P=d.useCallback(()=>{v(!1)},[]),j=d.useCallback(()=>{v(!0)},[]);return d.createElement(Ge,{begin:i,duration:m,isActive:s,easing:p,onAnimationEnd:P,onAnimationStart:j,key:c},g=>{var A=g===1?r:r.map((h,o)=>{var l=y&&y[o];if(l){var f=F(l.cx,h.cx),w=F(l.cy,h.cy),I=F(l.size,h.size);return C(C({},h),{},{cx:f(g),cy:w(g),size:I(g)})}var b=F(0,h.size);return C(C({},h),{},{size:b(g)})});return g>0&&(a.current=A),d.createElement(R,null,d.createElement(le,{points:A,allOtherScatterProps:t,showLabels:!u}))})}function Aa(e){var{points:a,isAnimationActive:t}=e,r=d.useRef(null),s=r.current;return t&&a&&a.length&&(!s||s!==a)?d.createElement(ja,{props:e,previousPointsRef:r}):d.createElement(le,{points:a,allOtherScatterProps:e,showLabels:!0})}function Ca(e){var{dataKey:a,points:t,stroke:r,strokeWidth:s,fill:i,name:m,hide:p,tooltipType:y}=e;return{dataDefinedOnItem:t?.map(c=>c.tooltipPayload),positions:t?.map(c=>c.tooltipPosition),settings:{stroke:r,strokeWidth:s,fill:i,nameKey:void 0,dataKey:a,name:ne(m,a),hide:p,type:y,color:i,unit:""}}}function wa(e){var{displayedData:a,xAxis:t,yAxis:r,zAxis:s,scatterSettings:i,xAxisTicks:m,yAxisTicks:p,cells:y}=e,c=O(t.dataKey)?i.dataKey:t.dataKey,u=O(r.dataKey)?i.dataKey:r.dataKey,v=s&&s.dataKey,P=s?s.range:B.defaultProps.range,j=P&&P[0],g=t.scale.bandwidth?t.scale.bandwidth():0,A=r.scale.bandwidth?r.scale.bandwidth():0;return a.map((h,o)=>{var l=z(h,c),f=z(h,u),w=!O(v)&&z(h,v)||"-",I=[{name:O(t.dataKey)?i.name:t.name||t.dataKey,unit:t.unit||"",value:l,payload:h,dataKey:c,type:i.tooltipType},{name:O(r.dataKey)?i.name:r.name||r.dataKey,unit:r.unit||"",value:f,payload:h,dataKey:u,type:i.tooltipType}];w!=="-"&&I.push({name:s.name||s.dataKey,unit:s.unit||"",value:w,payload:h,dataKey:v,type:i.tooltipType});var b=X({axis:t,ticks:m,bandSize:g,entry:h,index:o,dataKey:c}),x=X({axis:r,ticks:p,bandSize:A,entry:h,index:o,dataKey:u}),_=w!=="-"?s.scale(w):j,N=Math.sqrt(Math.max(_,0)/Math.PI);return C(C({},h),{},{cx:b,cy:x,x:b-N,y:x-N,width:2*N,height:2*N,size:_,node:{x:l,y:f,z:w},tooltipPayload:I,tooltipPosition:{x:b,y:x},payload:h},y&&y[o]&&y[o].props)})}var Ia=(e,a,t)=>({x:e.cx,y:e.cy,value:t==="x"?+e.node.x:+e.node.y,errorVal:z(e,a)});function Ea(e){var{hide:a,points:t,className:r,needClip:s,xAxisId:i,yAxisId:m,id:p,children:y}=e;if(a)return null;var c=Ke("recharts-scatter",r),u=p;return d.createElement(R,{className:c,clipPath:s?"url(#clipPath-".concat(u,")"):null,id:p},s&&d.createElement("defs",null,d.createElement(ge,{clipPathId:u,xAxisId:i,yAxisId:m})),d.createElement(Pe,{xAxisId:i,yAxisId:m,data:t,dataPointFormatter:Ia,errorBarOffset:0},y),d.createElement(R,{key:"recharts-scatter-symbols"},d.createElement(Aa,e)))}var ce={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Me.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Sa(e){var a=re(e,ce),{animationBegin:t,animationDuration:r,animationEasing:s,hide:i,isAnimationActive:m,legendType:p,lineJointType:y,lineType:c,shape:u,xAxisId:v,yAxisId:P,zAxisId:j}=a,g=W(a,ya),{needClip:A}=xe(v,P),h=d.useMemo(()=>ze(e.children,L),[e.children]),o=te(),l=ie(f=>pa(f,v,P,j,e.id,h,o));return A==null?null:d.createElement(d.Fragment,null,d.createElement(De,{fn:Ca,args:C(C({},e),{},{points:l})}),d.createElement(Ea,S({},g,{xAxisId:v,yAxisId:P,zAxisId:j,lineType:c,lineJointType:y,legendType:p,shape:u,hide:i,isAnimationActive:m,animationBegin:t,animationDuration:r,animationEasing:s,points:l,needClip:A})))}function me(e){var a=re(e,ce),t=te();return d.createElement(_e,{id:a.id,type:"scatter"},r=>d.createElement(d.Fragment,null,d.createElement(Ne,{legendPayload:Pa(a)}),d.createElement(Fe,{type:"scatter",id:r,data:a.data,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:a.zAxisId,dataKey:a.dataKey,hide:a.hide,name:a.name,tooltipType:a.tooltipType,isPanorama:t}),d.createElement(Sa,S({},a,{id:r}))))}me.displayName="Scatter";var Oa=["item"],Ta=d.forwardRef((e,a)=>d.createElement(Ce,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Oa,tooltipPayloadSearcher:Xe,categoricalChartProps:e,ref:a}));function Ra(e,a){const t={};return e.forEach(r=>{const s=r.Game.toString(),i=r["Liste des joueurs"],m=r["Camp victorieux"];if(s&&i&&m){const p=H(i),y=new Set;p.forEach(c=>{const u=c.trim();if(u){const v=U(a,s,u);y.add(v)}}),y.forEach(c=>{t[c]||(t[c]={totalGames:0,wins:0,winRate:0,players:{}}),t[c].totalGames++}),y.forEach(c=>{pe(c,m)&&t[c].wins++})}}),t}function _a(e,a,t){const r={};return e.forEach(s=>{const i=s.Game.toString(),m=s["Liste des joueurs"],p=s["Liste des gagnants"];i&&m&&p&&H(m).forEach(c=>{const u=c.trim();if(u){const v=U(a,i,u);t[v].players[u]||(t[v].players[u]={games:0,wins:0,winRate:0}),t[v].players[u].games++;const P=ue(u,p);P&&t[v].players[u].wins++,r[u]||(r[u]={totalGames:0,camps:{}}),r[u].camps[v]||(r[u].camps[v]={games:0,wins:0,winRate:0,performance:0}),r[u].totalGames++,r[u].camps[v].games++,P&&r[u].camps[v].wins++}})}),r}function Na(e){Object.keys(e).forEach(a=>{e[a].totalGames>0&&(e[a].winRate=parseFloat((e[a].wins/e[a].totalGames*100).toFixed(2))),Object.keys(e[a].players).forEach(t=>{const r=e[a].players[t];r.games>0&&(r.winRate=parseFloat((r.wins/r.games*100).toFixed(2)))})})}function Fa(e,a){Object.keys(e).forEach(t=>{Object.keys(e[t].camps).forEach(r=>{const s=e[t].camps[r];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),a[r]&&a[r].winRate&&(s.performance=parseFloat((s.winRate-a[r].winRate).toFixed(2))))})})}function za(e,a,t){const r=[];return Object.keys(e).forEach(i=>{const m=e[i],p=[];Object.keys(m.camps).forEach(y=>{const c=m.camps[y];c.games>=t&&p.push({camp:y,games:c.games,wins:c.wins,winRate:c.winRate.toFixed(2),campAvgWinRate:a[y].winRate.toFixed(2),performance:c.performance.toFixed(2)})}),p.sort((y,c)=>parseFloat(c.performance)-parseFloat(y.performance)),p.length>0&&r.push({player:i,totalGames:m.totalGames,campPerformance:p})}),r.sort((i,m)=>m.totalGames-i.totalGames),{campAverages:Object.keys(a).map(i=>({camp:i,totalGames:a[i].totalGames,wins:a[i].wins,winRate:a[i].winRate.toFixed(2)})),playerPerformanceArray:r}}function Da(e,a){if(e.length===0||a.length===0)return null;const t=de(a),r=Ra(e,t),s=_a(e,t,r);Na(r),Fa(s,r);const i=5,{campAverages:m,playerPerformanceArray:p}=za(s,r,i);return{campAverages:m,playerPerformance:p,minGamesRequired:i}}function Ma(){const{data:e,isLoading:a,error:t}=ye(Da);return{playerCampPerformance:e,isLoading:a,error:t}}function Ba(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:t}=fe(),[r,s]=d.useState(a.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[i,m]=d.useState(a.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[p,y]=d.useState(a.campPerformanceState?.selectedCampPerformanceMinGames||5),{playerCampPerformance:c,isLoading:u,error:v}=Ma();d.useEffect(()=>{a.campPerformanceState||t({campPerformanceState:{selectedCampPerformanceView:r,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:p}})},[r,i,p,a.campPerformanceState,t]);const P=d.useMemo(()=>c?.campAverages?c.campAverages.map(o=>o.camp).sort():[],[c]),{campPlayerData:j,topPerformersData:g}=d.useMemo(()=>{if(!c?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=c,l=[],f=[];for(const b of o)for(const x of b.campPerformance)if(x.games>=p){const _={player:b.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)};f.push(_),x.camp===i&&l.push({player:b.player,...x,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)})}const w=l.sort((b,x)=>x.performanceNum-b.performanceNum),I=f.sort((b,x)=>x.performanceNum-b.performanceNum).slice(0,20);return{campPlayerData:w,topPerformersData:I}},[c,i,p]),A=o=>{o&&o.player&&e({selectedPlayer:o.player,campFilter:{selectedCamp:i,campFilterMode:"wins-only"},fromComponent:`Performance des Joueurs - ${i}`})},h=o=>{o&&o.player&&o.camp&&e({selectedPlayer:o.player,campFilter:{selectedCamp:o.camp,campFilterMode:"wins-only"},fromComponent:`Top 20 des Performances (Min. ${p} parties dans ce camp)`})};return u?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):v?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",v]}):c?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:r,onChange:o=>{const l=o.target.value;s(l),t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),r==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:i,onChange:o=>{const l=o.target.value;m(l),t({campPerformanceState:{selectedCampPerformanceView:r,selectedCampPerformanceCamp:l,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(o=>n.jsx("option",{value:o,children:o},o))})]}),(r==="player-performance"||r==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:p,onChange:o=>{const l=Number(o.target.value);y(l),t({campPerformanceState:{selectedCampPerformanceView:r,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:l}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ve.map(o=>n.jsx("option",{value:o,children:o},o))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[r==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",i]}),n.jsx(V,{title:`Performance des Joueurs - ${i}`,children:n.jsx("div",{style:{height:500},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(q,{data:j.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const f=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:f.player})}),n.jsxs("div",{children:["Parties: ",f.games]}),n.jsxs("div",{children:["Victoires: ",f.wins]}),n.jsxs("div",{children:["Taux personnel: ",f.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",f.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",f.performance>0?"+":"",f.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:A,children:j.slice(0,15).map((o,l)=>n.jsx(L,{fill:$[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${l}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",i]}),n.jsx(V,{title:`Relation Parties Jouées vs Performance - ${i}`,children:n.jsx("div",{style:{height:400},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Ta,{data:j,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(K,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const f=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:f.player})}),n.jsxs("div",{children:["Parties: ",f.games]}),n.jsxs("div",{children:["Performance: ",f.performance>0?"+":"",f.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(me,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&e({selectedPlayer:o.player,campFilter:{selectedCamp:i,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${i}`})},shape:o=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:o.cx,cy:o.cy,r:12,fill:$[o.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),r==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${p} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(q,{data:g,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:o,payload:l})=>{if(o&&l&&l.length>0){const f=l[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:f.player})}),n.jsxs("div",{children:["Camp: ",f.camp]}),n.jsxs("div",{children:["Parties: ",f.games]}),n.jsxs("div",{children:["Taux personnel: ",f.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",f.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:g.map((o,l)=>n.jsx(L,{fill:he[o.camp]||`var(--chart-color-${l%6+1})`},`cell-${l}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ba as PlayerCampPerformanceChart};
