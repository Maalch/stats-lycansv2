import{a as c}from"./baseStatsHook-Dw23yAEM.js";import{a as P}from"./datasyncExport-BirWLS1z.js";import{g as y}from"./index-D6mZLxAt.js";function g(i){if(i.length===0)return null;const e={};let n=0;i.forEach(a=>{const s=a.PlayerStats;s.length>0&&(n++,s.forEach(r=>{const t=y(r),l=r.Username;if(t){e[t]||(e[t]={gamesPlayed:0,gamesPlayedPercent:"0",wins:0,winPercent:"0",camps:{},displayName:l}),e[t].displayName=l,e[t].gamesPlayed++;const o=P(r.MainRoleInitial,r.MainRoleChanges||[]);o&&(o in e[t].camps||(e[t].camps[o]=0),e[t].camps[o]++),r.Victorious&&e[t].wins++}}))}),Object.keys(e).forEach(a=>{const s=e[a];s.gamesPlayedPercent=(s.gamesPlayed/n*100).toFixed(2),s.winPercent=(s.wins/s.gamesPlayed*100).toFixed(2)});const m=Object.keys(e).map(a=>({player:e[a].displayName,gamesPlayed:e[a].gamesPlayed,gamesPlayedPercent:e[a].gamesPlayedPercent,wins:e[a].wins,winPercent:e[a].winPercent,camps:e[a].camps}));return m.sort((a,s)=>s.gamesPlayed-a.gamesPlayed),{totalGames:n,playerStats:m}}function u(){const{data:i,isLoading:e,error:n}=c(m=>g(m));return{data:i,isLoading:e,error:n}}export{u};
