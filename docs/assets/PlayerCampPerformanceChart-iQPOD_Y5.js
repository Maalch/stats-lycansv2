import{r as c,u as me,j as n}from"./index-wLxie2Tw.js";import{u as de}from"./baseStatsHook-Coc8JtXS.js";import{g as W}from"./gameUtils-BuNbDi0M.js";import{a as pe,u as ue,m as fe}from"./api-DO1V1yoU.js";import{S as $,u as ye,b as B,G as ve,d as he,e as xe,f as ge,g as Pe,h as be,F as J,B as q,C as z,X as M,Y as K,a as Z}from"./FullscreenChart-CDBAiSWQ.js";import{m as S,u as je,n as Ae,o as Ce,S as we,p as Y,q as Ie,t as H,v as Q,w as Ee,x as Se,y as ee,b as ae,z as Te,A as Oe,B as Re,C as re,D as _e,d as te,E as Ne,G as Fe,i as De,L as N,F as R,H as D,I as U,J as ze,K as Me,M as F,N as Ke,O as ne,P as ke,Q as Ge,U as We,V as Be,h as Le,W as Ve,X as $e,Y as Je,R as k,T as G}from"./CategoricalChart-Dr3OlTN-.js";function ie(a,e,r){return(e=qe(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function qe(a){var e=Ze(a,"string");return typeof e=="symbol"?e:e+""}function Ze(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Ue(a){var e=je();return c.useEffect(()=>(e(Ae(a)),()=>{e(Ce(a))}),[a,e]),null}class V extends c.Component{render(){return c.createElement(Ue,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:S.allowDuplicatedCategory,allowDataOverflow:S.allowDataOverflow,reversed:S.reversed,includeHidden:S.includeHidden})}}ie(V,"displayName","ZAxis");ie(V,"defaultProps",{zAxisId:0,range:S.range,scale:S.scale,type:S.type});var Xe=["option","isActive"];function _(){return _=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},_.apply(null,arguments)}function Ye(a,e){if(a==null)return{};var r,t,s=He(a,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function He(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function Qe(a){var{option:e,isActive:r}=a,t=Ye(a,Xe);return typeof e=="string"?c.createElement($,_({option:c.createElement(we,_({type:e},t)),isActive:r,shapeType:"symbols"},t)):c.createElement($,_({option:e,isActive:r,shapeType:"symbols"},t))}var ea=(a,e,r,t,s,i,l)=>H(a,"xAxis",e,l),aa=(a,e,r,t,s,i,l)=>Q(a,"xAxis",e,l),ra=(a,e,r,t,s,i,l)=>H(a,"yAxis",r,l),ta=(a,e,r,t,s,i,l)=>Q(a,"yAxis",r,l),na=(a,e,r,t)=>Ee(a,"zAxis",t,!1),ia=(a,e,r,t,s)=>s,sa=(a,e,r,t,s,i)=>i,oa=(a,e,r,t,s,i,l)=>Ie(a,e,r,l),la=Y([Se,ia],(a,e)=>a.filter(r=>r.type==="scatter").find(r=>r.id===e)),ca=Y([oa,ea,aa,ra,ta,na,la,sa],(a,e,r,t,s,i,l,p)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:g}=a;if(l!=null){var y;if(l?.data!=null&&l.data.length>0?y=l.data:y=f?.slice(m,g+1),!(y==null||e==null||t==null||r==null||s==null||r?.length===0||s?.length===0))return ja({displayedData:y,xAxis:e,yAxis:t,zAxis:i,scatterSettings:l,xAxisTicks:r,yAxisTicks:s,cells:p})}}),ma=["onMouseEnter","onClick","onMouseLeave"],da=["id"],pa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function L(a,e){if(a==null)return{};var r,t,s=ua(a,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);for(t=0;t<i.length;t++)r=i[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function ua(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function T(){return T=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},T.apply(null,arguments)}function X(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),r.push.apply(r,t)}return r}function A(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X(Object(r),!0).forEach(function(t){fa(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):X(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}function fa(a,e,r){return(e=ya(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function ya(a){var e=va(a,"string");return typeof e=="symbol"?e:e+""}function va(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var ha=a=>{var{dataKey:e,name:r,fill:t,legendType:s,hide:i}=a;return[{inactive:i,dataKey:e,type:s,color:t,value:re(r,e),payload:a}]};function xa(a){var{points:e,props:r}=a,{line:t,lineType:s,lineJointType:i}=r;if(!t)return null;var l=ne(r),p=Le(t,!1),f,m;if(s==="joint")f=e.map(u=>({x:u.cx,y:u.cy}));else if(s==="fitting"){var{xmin:g,xmax:y,a:j,b:C}=Ve(e),P=u=>j*u+C;f=[{x:g,y:P(g)},{x:y,y:P(y)}]}var b=A(A(A({},l),{},{fill:"none",stroke:l&&l.fill},p),{},{points:f});return c.isValidElement(t)?m=c.cloneElement(t,b):typeof t=="function"?m=t(b):m=c.createElement($e,T({},b,{type:i})),c.createElement(N,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function se(a){var{points:e,showLabels:r,allOtherScatterProps:t}=a,{shape:s,activeShape:i,dataKey:l}=t,p=te(Ke),{onMouseEnter:f,onClick:m,onMouseLeave:g}=t,y=L(t,ma),j=xe(f,t.dataKey),C=ge(g),P=Pe(m,t.dataKey);if(e==null)return null;var{id:b}=t,u=L(t,da),w=ne(u);return c.createElement(c.Fragment,null,c.createElement(xa,{points:e,props:u}),e.map((h,o)=>{var d=i&&p===String(o),v=d?i:s,E=A(A(A({key:"symbol-".concat(o)},w),h),{},{[Ge]:o,[ke]:String(l)});return c.createElement(N,T({className:"recharts-scatter-symbol"},We(y,h,o),{onMouseEnter:j(h,o),onMouseLeave:C(h,o),onClick:P(h,o),key:"symbol-".concat(h?.cx,"-").concat(h?.cy,"-").concat(h?.size,"-").concat(o)}),c.createElement(Qe,T({option:v,isActive:d},E)))}),r&&Be.renderCallByParent(u,e))}function ga(a){var{previousPointsRef:e,props:r}=a,{points:t,isAnimationActive:s,animationBegin:i,animationDuration:l,animationEasing:p}=r,f=e.current,m=ze(r,"recharts-scatter-"),[g,y]=c.useState(!1),j=c.useCallback(()=>{y(!1)},[]),C=c.useCallback(()=>{y(!0)},[]);return c.createElement(Me,{begin:i,duration:l,isActive:s,easing:p,onAnimationEnd:j,onAnimationStart:C,key:m},P=>{var b=P===1?t:t.map((u,w)=>{var h=f&&f[w];if(h){var o=F(h.cx,u.cx),d=F(h.cy,u.cy),v=F(h.size,u.size);return A(A({},u),{},{cx:o(P),cy:d(P),size:v(P)})}var E=F(0,u.size);return A(A({},u),{},{size:E(P)})});return P>0&&(e.current=b),c.createElement(N,null,c.createElement(se,{points:b,allOtherScatterProps:r,showLabels:!g}))})}function Pa(a){var{points:e,isAnimationActive:r}=a,t=c.useRef(null),s=t.current;return r&&e&&e.length&&(!s||s!==e)?c.createElement(ga,{props:a,previousPointsRef:t}):c.createElement(se,{points:e,allOtherScatterProps:a,showLabels:!0})}function ba(a){var{dataKey:e,points:r,stroke:t,strokeWidth:s,fill:i,name:l,hide:p,tooltipType:f}=a;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:t,strokeWidth:s,fill:i,nameKey:void 0,dataKey:e,name:re(l,e),hide:p,type:f,color:i,unit:""}}}function ja(a){var{displayedData:e,xAxis:r,yAxis:t,zAxis:s,scatterSettings:i,xAxisTicks:l,yAxisTicks:p,cells:f}=a,m=R(r.dataKey)?i.dataKey:r.dataKey,g=R(t.dataKey)?i.dataKey:t.dataKey,y=s&&s.dataKey,j=s?s.range:V.defaultProps.range,C=j&&j[0],P=r.scale.bandwidth?r.scale.bandwidth():0,b=t.scale.bandwidth?t.scale.bandwidth():0;return e.map((u,w)=>{var h=D(u,m),o=D(u,g),d=!R(y)&&D(u,y)||"-",v=[{name:R(r.dataKey)?i.name:r.name||r.dataKey,unit:r.unit||"",value:h,payload:u,dataKey:m,type:i.tooltipType},{name:R(t.dataKey)?i.name:t.name||t.dataKey,unit:t.unit||"",value:o,payload:u,dataKey:g,type:i.tooltipType}];d!=="-"&&v.push({name:s.name||s.dataKey,unit:s.unit||"",value:d,payload:u,dataKey:y,type:i.tooltipType});var E=U({axis:r,ticks:l,bandSize:P,entry:u,index:w,dataKey:m}),O=U({axis:t,ticks:p,bandSize:b,entry:u,index:w,dataKey:g}),I=d!=="-"?s.scale(d):C,x=Math.sqrt(Math.max(I,0)/Math.PI);return A(A({},u),{},{cx:E,cy:O,x:E-x,y:O-x,width:2*x,height:2*x,size:I,node:{x:h,y:o,z:d},tooltipPayload:v,tooltipPosition:{x:E,y:O},payload:u},f&&f[w]&&f[w].props)})}var Aa=(a,e,r)=>({x:a.cx,y:a.cy,value:r==="x"?+a.node.x:+a.node.y,errorVal:D(a,e)});function Ca(a){var{hide:e,points:r,className:t,needClip:s,xAxisId:i,yAxisId:l,id:p,children:f}=a;if(e)return null;var m=De("recharts-scatter",t),g=p;return c.createElement(N,{className:m,clipPath:s?"url(#clipPath-".concat(g,")"):null,id:p},s&&c.createElement("defs",null,c.createElement(ve,{clipPathId:g,xAxisId:i,yAxisId:l})),c.createElement(he,{xAxisId:i,yAxisId:l,data:r,dataPointFormatter:Aa,errorBarOffset:0},f),c.createElement(N,{key:"recharts-scatter-symbols"},c.createElement(Pa,a)))}var oe={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Fe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function wa(a){var e=ee(a,oe),{animationBegin:r,animationDuration:t,animationEasing:s,hide:i,isAnimationActive:l,legendType:p,lineJointType:f,lineType:m,shape:g,xAxisId:y,yAxisId:j,zAxisId:C}=e,P=L(e,pa),{needClip:b}=ye(y,j),u=c.useMemo(()=>_e(a.children,B),[a.children]),w=ae(),h=te(o=>ca(o,y,j,C,a.id,u,w));return b==null?null:c.createElement(c.Fragment,null,c.createElement(Ne,{fn:ba,args:A(A({},a),{},{points:h})}),c.createElement(Ca,T({},P,{xAxisId:y,yAxisId:j,zAxisId:C,lineType:m,lineJointType:f,legendType:p,shape:g,hide:i,isAnimationActive:l,animationBegin:r,animationDuration:t,animationEasing:s,points:h,needClip:b})))}function le(a){var e=ee(a,oe),r=ae();return c.createElement(Te,{id:e.id,type:"scatter"},t=>c.createElement(c.Fragment,null,c.createElement(Oe,{legendPayload:ha(e)}),c.createElement(Re,{type:"scatter",id:t,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:r}),c.createElement(wa,T({},e,{id:t}))))}le.displayName="Scatter";var Ia=["item"],Ea=c.forwardRef((a,e)=>c.createElement(be,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ia,tooltipPayloadSearcher:Je,categoricalChartProps:a,ref:e}));function Sa(a){const e={};return a.forEach(r=>{const t=new Set;r.PlayerStats.forEach(i=>{const l=W(i.MainRoleInitial);t.add(l)}),t.forEach(i=>{e[i]||(e[i]={totalGames:0,wins:0,winRate:0,players:{}}),e[i].totalGames++});const s=new Set;r.PlayerStats.forEach(i=>{if(i.Victorious){const l=W(i.MainRoleInitial);s.add(l)}}),s.forEach(i=>{e[i]&&e[i].wins++})}),e}function Ta(a,e){const r={};return a.forEach(t=>{t.PlayerStats.forEach(s=>{const i=s.Username.trim();if(!i)return;const l=W(s.MainRoleInitial);e[l].players[i]||(e[l].players[i]={games:0,wins:0,winRate:0}),e[l].players[i].games++,s.Victorious&&e[l].players[i].wins++,r[i]||(r[i]={totalGames:0,camps:{}}),r[i].camps[l]||(r[i].camps[l]={games:0,wins:0,winRate:0,performance:0}),r[i].totalGames++,r[i].camps[l].games++,s.Victorious&&r[i].camps[l].wins++})}),r}function Oa(a){Object.keys(a).forEach(e=>{a[e].totalGames>0&&(a[e].winRate=parseFloat((a[e].wins/a[e].totalGames*100).toFixed(2))),Object.keys(a[e].players).forEach(r=>{const t=a[e].players[r];t.games>0&&(t.winRate=parseFloat((t.wins/t.games*100).toFixed(2)))})})}function Ra(a,e){Object.keys(a).forEach(r=>{Object.keys(a[r].camps).forEach(t=>{const s=a[r].camps[t];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),e[t]&&e[t].winRate&&(s.performance=parseFloat((s.winRate-e[t].winRate).toFixed(2))))})})}function _a(a,e,r){const t=[];return Object.keys(a).forEach(i=>{const l=a[i],p=[];Object.keys(l.camps).forEach(f=>{const m=l.camps[f];m.games>=r&&p.push({camp:f,games:m.games,wins:m.wins,winRate:m.winRate.toFixed(2),campAvgWinRate:e[f].winRate.toFixed(2),performance:m.performance.toFixed(2)})}),p.sort((f,m)=>parseFloat(m.performance)-parseFloat(f.performance)),p.length>0&&t.push({player:i,totalGames:l.totalGames,campPerformance:p})}),t.sort((i,l)=>l.totalGames-i.totalGames),{campAverages:Object.keys(e).map(i=>({camp:i,totalGames:e[i].totalGames,wins:e[i].wins,winRate:e[i].winRate.toFixed(2)})),playerPerformanceArray:t}}function Na(a){if(a.length===0)return null;const e=Sa(a),r=Ta(a,e);Oa(e),Ra(r,e);const t=3,{campAverages:s,playerPerformanceArray:i}=_a(r,e,t);return{campAverages:s,playerPerformance:i,minGamesRequired:t}}function Fa(){const{data:a,isLoading:e,error:r}=de(Na);return{playerCampPerformance:a,isLoading:e,error:r}}function Wa(){const{navigateToGameDetails:a,navigationState:e,updateNavigationState:r}=me(),t=pe(),s=ue(),[i,l]=c.useState(e.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[p,f]=c.useState(e.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[m,g]=c.useState(e.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:y,isLoading:j,error:C}=Fa();c.useEffect(()=>{e.campPerformanceState||r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:m}})},[i,p,m,e.campPerformanceState,r]);const P=c.useMemo(()=>y?.campAverages?y.campAverages.map(o=>o.camp).sort():[],[y]),{campPlayerData:b,topPerformersData:u}=c.useMemo(()=>{if(!y?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=y,d=[],v=[];for(const I of o)for(const x of I.campPerformance)if(x.games>=m){const ce={player:I.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)};v.push(ce),x.camp===p&&d.push({player:I.player,...x,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)})}const E=d.sort((I,x)=>x.performanceNum-I.performanceNum),O=v.sort((I,x)=>x.performanceNum-I.performanceNum).slice(0,20);return{campPlayerData:E,topPerformersData:O}},[y,p,m]),w=o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:p,campFilterMode:"wins-only",excludeTraitor:p==="Traître"},fromComponent:`Performance des Joueurs - ${p}`})},h=o=>{o&&o.player&&o.camp&&a({selectedPlayer:o.player,campFilter:{selectedCamp:o.camp,campFilterMode:"wins-only",excludeTraitor:o.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${m} parties dans ce camp)`})};return j?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):C?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",C]}):y?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:i,onChange:o=>{const d=o.target.value;l(d),r({campPerformanceState:{selectedCampPerformanceView:d,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),i==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:p,onChange:o=>{const d=o.target.value;f(d),r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(o=>n.jsx("option",{value:o,children:o},o))})]}),(i==="player-performance"||i==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:m,onChange:o=>{const d=Number(o.target.value);g(d),r({campPerformanceState:{selectedCampPerformanceView:i,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:d}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:fe.map(o=>n.jsx("option",{value:o,children:o},o))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:y.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:y.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[i==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Meilleurs joueurs en ",p]}),n.jsx(J,{title:`Meilleurs Joueurs - ${p}`,children:n.jsx("div",{style:{height:500},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(q,{data:b.slice(0,15),margin:{top:20,right:30,left:20,bottom:0},children:[n.jsx(z,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15}),n.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Victoires: ",v.wins]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",v.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:w,children:b.slice(0,15).map((o,d)=>n.jsx(B,{fill:s[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${d}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",p]}),n.jsx(J,{title:`Relation Parties Jouées vs Performance - ${p}`,children:n.jsx("div",{style:{height:400},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Ea,{data:b,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(z,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(K,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Performance: ",v.performance>0?"+":"",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(le,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:p,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${p}`})},shape:o=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:o.cx,cy:o.cy,r:12,fill:s[o.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),i==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${m} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(q,{data:u,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(z,{strokeDasharray:"3 3"}),n.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15}),n.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),n.jsx(G,{content:({active:o,payload:d})=>{if(o&&d&&d.length>0){const v=d[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:v.player})}),n.jsxs("div",{children:["Camp: ",v.camp]}),n.jsxs("div",{children:["Parties: ",v.games]}),n.jsxs("div",{children:["Taux personnel: ",v.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",v.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:u.map((o,d)=>n.jsx(B,{fill:t[o.camp]||`var(--chart-color-${d%6+1})`},`cell-${d}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Wa as PlayerCampPerformanceChart};
