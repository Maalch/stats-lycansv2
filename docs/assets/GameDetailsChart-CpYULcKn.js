import{u as k,r as j,j as e}from"./index-cDfRqOA6.js";import{s as d,i as $}from"./baseStatsHook-BYOrLSBm.js";import{a as P}from"./api-beq3FXpM.js";function M(s,n){return null}function H(s,n){return null}function J(s,n){const i=s.toLowerCase();return n.Loups&&n.Loups.toLowerCase().includes(i)||n.Traître&&n.Traître.toLowerCase().includes(i)?"Loups":n["Idiot du village"]&&n["Idiot du village"].toLowerCase().includes(i)?"Idiot du Village":n.Cannibale&&n.Cannibale.toLowerCase().includes(i)?"Cannibale":n.Agent&&n.Agent.toLowerCase().includes(i)?"Agent":n.Espion&&n.Espion.toLowerCase().includes(i)?"Espion":n.Scientifique&&n.Scientifique.toLowerCase().includes(i)?"Scientifique":n.Amoureux&&n.Amoureux.toLowerCase().includes(i)?"Amoureux":n["La Bête"]&&n["La Bête"].toLowerCase().includes(i)?"La Bête":n["Chasseur de primes"]&&n["Chasseur de primes"].toLowerCase().includes(i)?"Chasseur de primes":n.Vaudou&&n.Vaudou.toLowerCase().includes(i)?"Vaudou":"Villageois"}function U(s,n,i,c){const r=s.toLowerCase();switch(n){case"Traître":return!!(i.Traître&&i.Traître.toLowerCase().includes(r));case"Idiot du Village":return!!(i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(r));case"Cannibale":return!!(i.Cannibale&&i.Cannibale.toLowerCase().includes(r));case"Agent":return!!(i.Agent&&i.Agent.toLowerCase().includes(r));case"Espion":return!!(i.Espion&&i.Espion.toLowerCase().includes(r));case"Scientifique":return!!(i.Scientifique&&i.Scientifique.toLowerCase().includes(r));case"Amoureux":return!!(i.Amoureux&&i.Amoureux.toLowerCase().includes(r));case"La Bête":return!!(i["La Bête"]&&i["La Bête"].toLowerCase().includes(r));case"Chasseur de primes":return!!(i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(r));case"Vaudou":return!!(i.Vaudou&&i.Vaudou.toLowerCase().includes(r));case"Villageois":const a=c["Liste des joueurs"].toLowerCase().includes(r),u=[...i.Loups?d(i.Loups):[],...i.Traître?[i.Traître.trim()]:[],...i["Idiot du village"]?[i["Idiot du village"].trim()]:[],...i.Cannibale?[i.Cannibale.trim()]:[],...i.Agent?d(i.Agent):[],...i.Espion?[i.Espion.trim()]:[],...i.Scientifique?[i.Scientifique.trim()]:[],...i.Amoureux?d(i.Amoureux):[],...i["La Bête"]?[i["La Bête"].trim()]:[],...i["Chasseur de primes"]?[i["Chasseur de primes"].trim()]:[],...i.Vaudou?[i.Vaudou.trim()]:[]].map(t=>t.toLowerCase());return a&&!u.includes(r);default:return!1}}function O(s,n){return s.filter(i=>i["Liste des joueurs"].toLowerCase().includes(n.toLowerCase()))}function Y(s,n){return s.filter(i=>i.Game===n)}function K(s,n){return s.filter(i=>i["Type de victoire"]===n)}function _(s,n){return s.filter(i=>{const c=i.Date;if(n.includes("/")&&n.split("/").length===2){const[r,a]=n.split("/"),u=c.split("/");if(u.length===3){const[,t,p]=u;return t===r&&p===a}}else return c===n;return!1})}function z(s,n){return s.filter(i=>{const c=i["Pourcentage de récolte"];if(c==null)return!1;const r=c*100;switch(n){case"0-25%":return r>=0&&r<=25;case"26-50%":return r>25&&r<=50;case"51-75%":return r>50&&r<=75;case"76-99%":return r>75&&r<=99;case"100%":return r>=100;default:return!0}})}function Q(s,n){return s.filter(i=>i["Nombre de journées"]===n)}function W(s,n,i,c,r="wins-only",a){return s.filter(u=>{const t=n.find(p=>p.Game===u.Game);if(!t)return!1;if(c){if(i==="Autres"&&a)return a.some(v=>U(c,v,t,u));const p=J(c,t);return p==="Agent"&&i==="Agent"&&u["Camp victorieux"]==="Agent"?d(u["Liste des gagnants"]?.toString()||"").some(x=>x.toLowerCase()===c.toLowerCase()):p===i}else{if(r==="wins-only")return i==="Autres"&&a?a.includes(u["Camp victorieux"]):u["Camp victorieux"]===i;if(i==="Autres"&&a)return a.some(p=>{switch(p){case"Traître":return!!(t.Traître&&t.Traître.trim());case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());case"Villageois":return d(u["Liste des joueurs"]).length>0;default:return!1}});switch(i){case"Loups":return!!(t.Loups&&t.Loups.trim());case"Traître":return!!(t.Traître&&t.Traître.trim());case"Villageois":const p=d(u["Liste des joueurs"]),v=[...d(t.Loups||""),...t.Traître?[t.Traître.trim()]:[],...t["Idiot du village"]?[t["Idiot du village"].trim()]:[],...t.Cannibale?[t.Cannibale.trim()]:[],...t.Agent?d(t.Agent):[],...t.Espion?[t.Espion.trim()]:[],...t.Scientifique?[t.Scientifique.trim()]:[],...d(t.Amoureux||""),...t["La Bête"]?[t["La Bête"].trim()]:[],...t["Chasseur de primes"]?[t["Chasseur de primes"].trim()]:[],...t.Vaudou?[t.Vaudou.trim()]:[]];return p.some(x=>!v.includes(x));case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());default:return u["Camp victorieux"]===i}}})}function X(s,n,i){if(!i)return s;let c=[...s];return i.selectedPlayer&&(c=O(c,i.selectedPlayer)),i.selectedGame&&(c=Y(c,i.selectedGame)),i.selectedCamp&&(c=W(c,n,i.selectedCamp,i.selectedPlayer,i.campFilterMode,i._smallCamps)),i.selectedVictoryType&&(c=K(c,i.selectedVictoryType)),i.selectedDate&&(c=_(c,i.selectedDate)),i.selectedHarvestRange&&(c=z(c,i.selectedHarvestRange)),i.selectedGameDuration&&(c=Q(c,i.selectedGameDuration)),c}function Z(s){const n={};return s&&(s.Loups&&(n.wolves=d(s.Loups)),s.Traître&&(n.traitor=s.Traître),s["Idiot du village"]&&(n.villageIdiot=s["Idiot du village"]),s.Cannibale&&(n.cannibal=s.Cannibale),s.Agent&&(n.agent=d(s.Agent)),s.Espion&&(n.spy=s.Espion),s.Scientifique&&(n.scientist=s.Scientifique),s.Amoureux&&(n.lovers=d(s.Amoureux)),s["La Bête"]&&(n.beast=s["La Bête"]),s["Chasseur de primes"]&&(n.bountyHunter=s["Chasseur de primes"]),s.Vaudou&&(n.voodoo=s.Vaudou)),n}function G(s,n){const i=[];return d(s["Liste des joueurs"]).forEach(r=>{let a="Villageois",u="Villageois";n&&(n.Loups&&d(n.Loups).includes(r)?(a="Loups",u="Loups"):n.Traître&&d(n.Traître).includes(r)?(a="Traître",u="Loups"):n["Idiot du village"]&&d(n["Idiot du village"]).includes(r)?(a="Idiot du Village",u="Idiot du Village"):n.Cannibale&&d(n.Cannibale).includes(r)?(a="Cannibale",u="Cannibale"):n.Agent&&d(n.Agent).includes(r)?(a="Agent",u="Agent"):n.Espion&&d(n.Espion).includes(r)?(a="Espion",u="Espion"):n.Scientifique&&d(n.Scientifique).includes(r)?(a="Scientifique",u="Scientifique"):n["La Bête"]&&d(n["La Bête"]).includes(r)?(a="La Bête",u="La Bête"):n["Chasseur de primes"]&&d(n["Chasseur de primes"]).includes(r)?(a="Chasseur de primes",u="Chasseur de primes"):n.Vaudou&&d(n.Vaudou).includes(r)?(a="Vaudou",u="Vaudou"):n.Amoureux&&d(n.Amoureux).includes(r)&&(a="Amoureux",u="Amoureux")),i.push({player:r,role:a,camp:u})}),i}function F(s){return s.map(n=>({player:"Ponce",camp:n.Camp||"Unknown",isTraitor:n.Traître||!1,secondaryRole:n["Rôle secondaire"]==="N/A"?null:n["Rôle secondaire"],wolfPower:n["Pouvoir de loup"]==="N/A"?null:n["Pouvoir de loup"],villagerJob:n["Métier villageois"]==="N/A"?null:n["Métier villageois"],playersKilled:n["Joueurs tués"],deathDay:n["Jour de mort"],deathType:n["Type de mort"],killers:n["Joueurs tueurs"]}))}function D(s,n,i,c){return s.length===0?null:X(s,n,c).map(a=>{const u=n.find(o=>o.Game===a.Game),t=i.filter(o=>o.Game===a.Game),p=Z(u),v=G(a,u),x=F(t);return{gameId:a.Game,date:a.Date,isModded:a["Game Moddée"],playerCount:a["Nombre de joueurs"],wolfCount:a["Nombre de loups"],hasTraitor:a["Rôle Traître"],hasLovers:a["Rôle Amoureux"],soloRoles:a["Rôles solo"],winningCamp:a["Camp victorieux"],victoryType:a["Type de victoire"],dayCount:a["Nombre de journées"],villagerSurvivors:a["Survivants villageois"],wolfSurvivors:a["Survivants loups (traître inclus)"],loverSurvivors:a["Survivants amoureux"],soloSurvivors:a["Survivants solo"],winners:a["Liste des gagnants"],harvest:a.Récolte,totalHarvest:a["Total récolte"],harvestPercentage:a["Pourcentage de récolte"],playersList:a["Liste des joueurs"],versions:a.Versions,map:a.Map,youtubeEmbedUrl:M(a.Début,a.Fin),gameDuration:H(a.Début,a.Fin),roles:p,playerRoles:v,playerDetails:x}})}function ee(s){const{data:n,isLoading:i,error:c}=$((r,a,u)=>D(r,a,u,s));return{data:n||[],isLoading:i,error:c}}function le(){const{navigationFilters:s,navigateBack:n}=k(),{data:i,isLoading:c,error:r}=ee(s),[a,u]=j.useState("date"),[t,p]=j.useState("desc"),[v,x]=j.useState(null),[o,w]=j.useState(1),[A,E]=j.useState(25),L=j.useRef(!1),C=j.useMemo(()=>i?[...i].sort((l,h)=>{let m,f;switch(a){case"date":m=new Date(l.date.split("/").reverse().join("-")).getTime(),f=new Date(h.date.split("/").reverse().join("-")).getTime();break;case"gameId":m=l.gameId,f=h.gameId;break;case"playerCount":m=l.playerCount,f=h.playerCount;break;case"dayCount":m=l.dayCount,f=h.dayCount;break;case"winningCamp":m=l.winningCamp,f=h.winningCamp;break;case"victoryType":m=l.victoryType,f=h.victoryType;break;default:return 0}let S;return t==="asc"?S=m>f?1:m<f?-1:0:S=m<f?1:m>f?-1:0,S===0?t==="asc"?l.gameId-h.gameId:h.gameId-l.gameId:S}):[],[i,a,t]),y=Math.ceil(C.length/A),T=(o-1)*A,I=T+A,R=C.slice(T,I);j.useEffect(()=>{if(L.current){L.current=!1;return}w(1),x(null)},[i]),j.useEffect(()=>{w(1),x(null)},[a,t]);const g=l=>{L.current=!0,w(l),x(null)},q=l=>{L.current=!0,E(l),w(1),x(null)},B=l=>{L.current=!0,x(v===l?null:l)},N=l=>{a===l?p(t==="asc"?"desc":"asc"):(u(l),p("desc"))},b=l=>a!==l?"↕️":t==="asc"?"↗️":"↘️",V=()=>{const l=[];if(s.selectedPlayer&&s.selectedCamp)l.push(`${s.selectedPlayer} jouant ${s.selectedCamp}`);else if(s.selectedPlayer&&l.push(`Joueur: ${s.selectedPlayer}`),s.selectedCamp){const h=`Camp: ${s.selectedCamp}`,m=s.campFilterMode==="wins-only"?" (victoires uniquement)":s.campFilterMode==="all-assignments"?" (toutes assignations)":"";l.push(h+m)}if(s.selectedPlayerPair&&s.selectedPairRole){const h=s.selectedPlayerPair.join(" & "),m=s.selectedPairRole==="wolves"?"loups":"amoureux";l.push(`Paire ${m}: ${h}`)}if(s.selectedPlayers&&s.playersFilterMode){const h=s.selectedPlayers.join(" & ");let m="";s.playersFilterMode==="all-common-games"?m="toutes les parties communes":s.playersFilterMode==="opposing-camps"?m="affrontements uniquement":s.playersFilterMode==="same-camp"&&(m="parties en équipe (même camp)");const f=s.winnerPlayer?` (victoires de ${s.winnerPlayer})`:"";l.push(`${h} (${m}${f})`)}return s.selectedVictoryType&&l.push(`Victoire: ${s.selectedVictoryType}`),s.selectedHarvestRange&&l.push(`Récolte: ${s.selectedHarvestRange}`),s.selectedGameDuration&&l.push(`Durée: ${s.selectedGameDuration} jour${s.selectedGameDuration>1?"s":""}`),s.selectedGame&&l.push(`Partie #${s.selectedGame}`),s.selectedDate&&(s.selectedDate.includes("/")&&s.selectedDate.split("/").length===2?l.push(`Mois: ${s.selectedDate}`):l.push(`Date: ${s.selectedDate}`)),l};return c?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):r?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",r]}):!i||i.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouvée"}),e.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),s.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",s.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[s.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",s.fromComponent]}),e.jsxs("h2",{children:["Détails des Parties (",i.length," partie",i.length>1?"s":"",")"]})]}),V().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",V().join(", ")]})]}),y>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(I,C.length)," sur ",C.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:A,onChange:l=>q(Number(l.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>g(1),disabled:o===1,className:"lycans-pagination-btn",children:"««"}),e.jsx("button",{onClick:()=>g(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"‹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",y]}),e.jsx("button",{onClick:()=>g(o+1),disabled:o===y,className:"lycans-pagination-btn",children:"›"}),e.jsx("button",{onClick:()=>g(y),disabled:o===y,className:"lycans-pagination-btn",children:"»»"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>N("gameId"),className:"sortable",children:["Partie ",b("gameId")]}),e.jsxs("th",{onClick:()=>N("date"),className:"sortable",children:["Date ",b("date")]}),e.jsxs("th",{onClick:()=>N("playerCount"),className:"sortable",children:["Joueurs ",b("playerCount")]}),e.jsxs("th",{onClick:()=>N("dayCount"),className:"sortable",children:["Jours ",b("dayCount")]}),e.jsxs("th",{onClick:()=>N("winningCamp"),className:"sortable",children:["Camp Vainqueur ",b("winningCamp")]}),e.jsxs("th",{onClick:()=>N("victoryType"),className:"sortable",children:["Type de Victoire ",b("victoryType")]}),e.jsx("th",{children:"Détails"})]})}),e.jsx("tbody",{children:R.map(l=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:v===l.gameId?"selected":"",children:[e.jsxs("td",{children:["#",l.gameId]}),e.jsx("td",{children:l.date}),e.jsx("td",{children:l.playerCount}),e.jsx("td",{children:l.dayCount}),e.jsx("td",{style:{color:P[l.winningCamp]||"#fff"},children:l.winningCamp}),e.jsx("td",{children:l.victoryType}),e.jsx("td",{children:e.jsx("button",{onClick:()=>B(l.gameId),className:"lycans-details-btn",children:v===l.gameId?"Masquer":"Voir"})})]},l.gameId),v===l.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:7,children:e.jsx(ie,{game:l})})},`${l.gameId}-details`)]}))})]})}),y>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(I,C.length)," sur ",C.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>g(1),disabled:o===1,className:"lycans-pagination-btn",children:"««"}),e.jsx("button",{onClick:()=>g(o-1),disabled:o===1,className:"lycans-pagination-btn",children:"‹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",o," sur ",y]}),e.jsx("button",{onClick:()=>g(o+1),disabled:o===y,className:"lycans-pagination-btn",children:"›"}),e.jsx("button",{onClick:()=>g(y),disabled:o===y,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function se(s){if(s===null||s<=0)return"N/A";const n=Math.floor(s/60),i=s%60;return n===0?`${i}s`:i===0?`${n}m`:`${n}m ${i}s`}function ie({game:s}){const[n,i]=j.useState(!1);return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Générales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:s.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:s.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Traître:"}),e.jsx("span",{className:"value",children:s.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:s.hasLovers?"Oui":"Non"})]}),s.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Rôles solo:"}),e.jsx("span",{className:"value",children:s.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Supplémentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[s.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Durée de la partie:"}),e.jsx("span",{className:"value",children:se(s.gameDuration)})]}),s.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[s.versions,s.isModded?" (moddée)":""]})]}),s.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:s.map})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Résultats"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Camp vainqueur:"}),e.jsx("span",{className:"value",children:s.winningCamp})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Type de victoire:"}),e.jsx("span",{className:"value",children:s.victoryType})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants villageois:"}),e.jsx("span",{className:"value",children:s.villagerSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants loups:"}),e.jsx("span",{className:"value",children:s.wolfSurvivors})]}),s.loverSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants amoureux:"}),e.jsx("span",{className:"value",children:s.loverSurvivors})]}),s.soloSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants solo:"}),e.jsx("span",{className:"value",children:s.soloSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Gagnants:"}),e.jsx("span",{className:"value",children:s.winners})]})]})]}),s.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Récolte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Récolte:"}),e.jsx("span",{className:"value",children:s.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:s.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof s.harvestPercentage=="number"?(s.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Rôles des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:s.playerRoles.map((c,r)=>{let a=c.role===c.camp?c.camp:`${c.camp} (${c.role})`;return e.jsxs("div",{className:"lycans-player-role-item",children:[e.jsx("div",{className:"lycans-player-name",style:{color:P[c.camp]||"#fff",textAlign:"left"},children:c.player}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:a})]},r)})})]}),s.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>i(!n),className:"lycans-video-toggle-btn",children:n?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),s.youtubeEmbedUrl&&n&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Vidéo de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:s.youtubeEmbedUrl,title:`Partie Lycans #${s.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{le as GameDetailsChart};
