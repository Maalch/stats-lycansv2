import{u as $,r as j,j as s}from"./index-DjbrqSyy.js";import{s as o,i as M}from"./baseStatsHook-CnXMOq42.js";import{a as B}from"./api-beq3FXpM.js";function G(e,i){return null}function H(e,i){return null}function E(e,i){const n=e.toLowerCase();return i.Loups&&i.Loups.toLowerCase().includes(n)||i.Traître&&i.Traître.toLowerCase().includes(n)?"Loups":i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(n)?"Idiot du Village":i.Cannibale&&i.Cannibale.toLowerCase().includes(n)?"Cannibale":i.Agent&&i.Agent.toLowerCase().includes(n)?"Agent":i.Espion&&i.Espion.toLowerCase().includes(n)?"Espion":i.Scientifique&&i.Scientifique.toLowerCase().includes(n)?"Scientifique":i.Amoureux&&i.Amoureux.toLowerCase().includes(n)?"Amoureux":i["La Bête"]&&i["La Bête"].toLowerCase().includes(n)?"La Bête":i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(n)?"Chasseur de primes":i.Vaudou&&i.Vaudou.toLowerCase().includes(n)?"Vaudou":"Villageois"}function J(e,i,n,l){const r=e.toLowerCase();switch(i){case"Traître":return!!(n.Traître&&n.Traître.toLowerCase().includes(r));case"Idiot du Village":return!!(n["Idiot du village"]&&n["Idiot du village"].toLowerCase().includes(r));case"Cannibale":return!!(n.Cannibale&&n.Cannibale.toLowerCase().includes(r));case"Agent":return!!(n.Agent&&n.Agent.toLowerCase().includes(r));case"Espion":return!!(n.Espion&&n.Espion.toLowerCase().includes(r));case"Scientifique":return!!(n.Scientifique&&n.Scientifique.toLowerCase().includes(r));case"Amoureux":return!!(n.Amoureux&&n.Amoureux.toLowerCase().includes(r));case"La Bête":return!!(n["La Bête"]&&n["La Bête"].toLowerCase().includes(r));case"Chasseur de primes":return!!(n["Chasseur de primes"]&&n["Chasseur de primes"].toLowerCase().includes(r));case"Vaudou":return!!(n.Vaudou&&n.Vaudou.toLowerCase().includes(r));case"Villageois":const a=l["Liste des joueurs"].toLowerCase().includes(r),u=[...n.Loups?o(n.Loups):[],...n.Traître?[n.Traître.trim()]:[],...n["Idiot du village"]?[n["Idiot du village"].trim()]:[],...n.Cannibale?[n.Cannibale.trim()]:[],...n.Agent?o(n.Agent):[],...n.Espion?[n.Espion.trim()]:[],...n.Scientifique?[n.Scientifique.trim()]:[],...n.Amoureux?o(n.Amoureux):[],...n["La Bête"]?[n["La Bête"].trim()]:[],...n["Chasseur de primes"]?[n["Chasseur de primes"].trim()]:[],...n.Vaudou?[n.Vaudou.trim()]:[]].map(t=>t.toLowerCase());return a&&!u.includes(r);default:return!1}}function U(e,i){return e.filter(n=>n["Liste des joueurs"].toLowerCase().includes(i.toLowerCase()))}function O(e,i){return e.filter(n=>n.Game===i)}function z(e,i){return e.filter(n=>n["Type de victoire"]===i)}function W(e,i){return e.filter(n=>{const l=n.Date;if(i.includes("/")&&i.split("/").length===2){const[r,a]=i.split("/"),u=l.split("/");if(u.length===3){const[,t,m]=u;return t===r&&m===a}}else return l===i;return!1})}function Y(e,i){return e.filter(n=>{const l=n["Pourcentage de récolte"];if(l==null)return!1;const r=l*100;switch(i){case"0-25%":return r>=0&&r<=25;case"26-50%":return r>25&&r<=50;case"51-75%":return r>50&&r<=75;case"76-99%":return r>75&&r<=99;case"100%":return r>=100;default:return!0}})}function K(e,i){return e.filter(n=>n["Nombre de journées"]===i)}function _(e,i,n,l,r="wins-only",a){return e.filter(u=>{const t=i.find(m=>m.Game===u.Game);if(!t)return!1;if(l){if(n==="Autres"&&a)return a.some(f=>J(l,f,t,u));const m=E(l,t);return m==="Agent"&&n==="Agent"&&u["Camp victorieux"]==="Agent"?o(u["Liste des gagnants"]?.toString()||"").some(p=>p.toLowerCase()===l.toLowerCase()):m===n}else{if(r==="wins-only")return n==="Autres"&&a?a.includes(u["Camp victorieux"]):u["Camp victorieux"]===n;if(n==="Autres"&&a)return a.some(m=>{switch(m){case"Traître":return!!(t.Traître&&t.Traître.trim());case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());case"Villageois":return o(u["Liste des joueurs"]).length>0;default:return!1}});switch(n){case"Loups":return!!(t.Loups&&t.Loups.trim());case"Traître":return!!(t.Traître&&t.Traître.trim());case"Villageois":const m=o(u["Liste des joueurs"]),f=[...o(t.Loups||""),...t.Traître?[t.Traître.trim()]:[],...t["Idiot du village"]?[t["Idiot du village"].trim()]:[],...t.Cannibale?[t.Cannibale.trim()]:[],...t.Agent?o(t.Agent):[],...t.Espion?[t.Espion.trim()]:[],...t.Scientifique?[t.Scientifique.trim()]:[],...o(t.Amoureux||""),...t["La Bête"]?[t["La Bête"].trim()]:[],...t["Chasseur de primes"]?[t["Chasseur de primes"].trim()]:[],...t.Vaudou?[t.Vaudou.trim()]:[]];return m.some(p=>!f.includes(p));case"Idiot du Village":return!!(t["Idiot du village"]&&t["Idiot du village"].trim());case"Cannibale":return!!(t.Cannibale&&t.Cannibale.trim());case"Agent":return!!(t.Agent&&t.Agent.trim());case"Espion":return!!(t.Espion&&t.Espion.trim());case"Scientifique":return!!(t.Scientifique&&t.Scientifique.trim());case"Amoureux":return!!(t.Amoureux&&t.Amoureux.trim());case"La Bête":return!!(t["La Bête"]&&t["La Bête"].trim());case"Chasseur de primes":return!!(t["Chasseur de primes"]&&t["Chasseur de primes"].trim());case"Vaudou":return!!(t.Vaudou&&t.Vaudou.trim());default:return u["Camp victorieux"]===n}}})}function Q(e,i,n,l,r){return l?e.filter(a=>{const u=o(a["Liste des joueurs"]);if(!n.every(p=>u.some(d=>d.toLowerCase()===p.toLowerCase())))return!1;const m=i.find(p=>p.Game===a.Game);if(!m)return!1;const f=n.map(p=>E(p,m));switch(l){case"all-common-games":return r?o(a["Liste des gagnants"]?.toString()||"").some(h=>h.toLowerCase()===r.toLowerCase()):!0;case"opposing-camps":const p=f.map(v=>v==="Traître"?"Loups":v);if(!([...new Set(p)].length>1))return!1;if(r){const v=n.findIndex(h=>h.toLowerCase()===r.toLowerCase());if(v!==-1){const h=p[v],g=a["Camp victorieux"]==="Traître"?"Loups":a["Camp victorieux"];return h==="Agent"&&g==="Agent"?o(a["Liste des gagnants"]?.toString()||"").some(I=>I.toLowerCase()===r.toLowerCase()):h===g}}return!0;case"same-camp":const L=f.map(v=>v==="Traître"?"Loups":v);if(!([...new Set(L)].length===1))return!1;if(r){const v=L[0],h=a["Camp victorieux"]==="Traître"?"Loups":a["Camp victorieux"];if(v==="Agent"&&h==="Agent"){const g=o(a["Liste des gagnants"]?.toString()||"");return n.every(w=>g.some(I=>I.toLowerCase()===w.toLowerCase()))}return v===h}return!0;default:return!0}}):e}function X(e,i,n,l){return!l||n.length!==2?e:e.filter(r=>{const a=o(r["Liste des joueurs"]);if(!n.every(m=>a.some(f=>f.toLowerCase()===m.toLowerCase())))return!1;const t=i.find(m=>m.Game===r.Game);if(!t)return!1;switch(l){case"wolves":const m=o(t.Loups||"");return n.every(p=>m.some(d=>d.toLowerCase()===p.toLowerCase()));case"lovers":const f=o(t.Amoureux||"");return n.every(p=>f.some(d=>d.toLowerCase()===p.toLowerCase()));default:return!0}})}function Z(e,i,n){if(!n)return e;let l=[...e];return n.selectedPlayer&&(l=U(l,n.selectedPlayer)),n.selectedGame&&(l=O(l,n.selectedGame)),n.selectedCamp&&(l=_(l,i,n.selectedCamp,n.selectedPlayer,n.campFilterMode,n._smallCamps)),n.selectedVictoryType&&(l=z(l,n.selectedVictoryType)),n.selectedDate&&(l=W(l,n.selectedDate)),n.selectedHarvestRange&&(l=Y(l,n.selectedHarvestRange)),n.selectedGameDuration&&(l=K(l,n.selectedGameDuration)),n.selectedPlayers&&n.selectedPlayers.length>=2&&(l=Q(l,i,n.selectedPlayers,n.playersFilterMode,n.winnerPlayer)),n.selectedPlayerPair&&n.selectedPlayerPair.length===2&&(l=X(l,i,n.selectedPlayerPair,n.selectedPairRole)),l}function F(e){const i={};return e&&(e.Loups&&(i.wolves=o(e.Loups)),e.Traître&&(i.traitor=e.Traître),e["Idiot du village"]&&(i.villageIdiot=e["Idiot du village"]),e.Cannibale&&(i.cannibal=e.Cannibale),e.Agent&&(i.agent=o(e.Agent)),e.Espion&&(i.spy=e.Espion),e.Scientifique&&(i.scientist=e.Scientifique),e.Amoureux&&(i.lovers=o(e.Amoureux)),e["La Bête"]&&(i.beast=e["La Bête"]),e["Chasseur de primes"]&&(i.bountyHunter=e["Chasseur de primes"]),e.Vaudou&&(i.voodoo=e.Vaudou)),i}function D(e,i){const n=[];return o(e["Liste des joueurs"]).forEach(r=>{let a="Villageois",u="Villageois";i&&(i.Loups&&o(i.Loups).includes(r)?(a="Loups",u="Loups"):i.Traître&&o(i.Traître).includes(r)?(a="Traître",u="Loups"):i["Idiot du village"]&&o(i["Idiot du village"]).includes(r)?(a="Idiot du Village",u="Idiot du Village"):i.Cannibale&&o(i.Cannibale).includes(r)?(a="Cannibale",u="Cannibale"):i.Agent&&o(i.Agent).includes(r)?(a="Agent",u="Agent"):i.Espion&&o(i.Espion).includes(r)?(a="Espion",u="Espion"):i.Scientifique&&o(i.Scientifique).includes(r)?(a="Scientifique",u="Scientifique"):i["La Bête"]&&o(i["La Bête"]).includes(r)?(a="La Bête",u="La Bête"):i["Chasseur de primes"]&&o(i["Chasseur de primes"]).includes(r)?(a="Chasseur de primes",u="Chasseur de primes"):i.Vaudou&&o(i.Vaudou).includes(r)?(a="Vaudou",u="Vaudou"):i.Amoureux&&o(i.Amoureux).includes(r)&&(a="Amoureux",u="Amoureux")),n.push({player:r,role:a,camp:u})}),n}function ee(e){return e.map(i=>({player:"Ponce",camp:i.Camp||"Unknown",isTraitor:i.Traître||!1,secondaryRole:i["Rôle secondaire"]==="N/A"?null:i["Rôle secondaire"],wolfPower:i["Pouvoir de loup"]==="N/A"?null:i["Pouvoir de loup"],villagerJob:i["Métier villageois"]==="N/A"?null:i["Métier villageois"],playersKilled:i["Joueurs tués"],deathDay:i["Jour de mort"],deathType:i["Type de mort"],killers:i["Joueurs tueurs"]}))}function se(e,i,n,l){return e.length===0?null:Z(e,i,l).map(a=>{const u=i.find(d=>d.Game===a.Game),t=n.filter(d=>d.Game===a.Game),m=F(u),f=D(a,u),p=ee(t);return{gameId:a.Game,date:a.Date,isModded:a["Game Moddée"],playerCount:a["Nombre de joueurs"],wolfCount:a["Nombre de loups"],hasTraitor:a["Rôle Traître"],hasLovers:a["Rôle Amoureux"],soloRoles:a["Rôles solo"],winningCamp:a["Camp victorieux"],victoryType:a["Type de victoire"],dayCount:a["Nombre de journées"],villagerSurvivors:a["Survivants villageois"],wolfSurvivors:a["Survivants loups (traître inclus)"],loverSurvivors:a["Survivants amoureux"],soloSurvivors:a["Survivants solo"],winners:a["Liste des gagnants"],harvest:a.Récolte,totalHarvest:a["Total récolte"],harvestPercentage:a["Pourcentage de récolte"],playersList:a["Liste des joueurs"],versions:a.Versions,map:a.Map,youtubeEmbedUrl:G(a.Début,a.Fin),gameDuration:H(a.Début,a.Fin),roles:m,playerRoles:f,playerDetails:p}})}function ne(e){const{data:i,isLoading:n,error:l}=M((r,a,u)=>se(r,a,u,e));return{data:i||[],isLoading:n,error:l}}function ce(){const{navigationFilters:e,navigateBack:i}=$(),{data:n,isLoading:l,error:r}=ne(e),[a,u]=j.useState("date"),[t,m]=j.useState("desc"),[f,p]=j.useState(null),[d,T]=j.useState(1),[L,V]=j.useState(25),b=j.useRef(!1),v=j.useMemo(()=>n?[...n].sort((c,y)=>{let x,C;switch(a){case"date":x=new Date(c.date.split("/").reverse().join("-")).getTime(),C=new Date(y.date.split("/").reverse().join("-")).getTime();break;case"gameId":x=c.gameId,C=y.gameId;break;case"playerCount":x=c.playerCount,C=y.playerCount;break;case"dayCount":x=c.dayCount,C=y.dayCount;break;case"winningCamp":x=c.winningCamp,C=y.winningCamp;break;case"victoryType":x=c.victoryType,C=y.victoryType;break;default:return 0}let P;return t==="asc"?P=x>C?1:x<C?-1:0:P=x<C?1:x>C?-1:0,P===0?t==="asc"?c.gameId-y.gameId:y.gameId-c.gameId:P}):[],[n,a,t]),h=Math.ceil(v.length/L),g=(d-1)*L,w=g+L,I=v.slice(g,w);j.useEffect(()=>{if(b.current){b.current=!1;return}T(1),p(null)},[n]),j.useEffect(()=>{T(1),p(null)},[a,t]);const N=c=>{b.current=!0,T(c),p(null)},R=c=>{b.current=!0,V(c),T(1),p(null)},k=c=>{b.current=!0,p(f===c?null:c)},A=c=>{a===c?m(t==="asc"?"desc":"asc"):(u(c),m("desc"))},S=c=>a!==c?"↕️":t==="asc"?"↗️":"↘️",q=()=>{const c=[];if(e.selectedPlayer&&e.selectedCamp)c.push(`${e.selectedPlayer} jouant ${e.selectedCamp}`);else if(e.selectedPlayer&&c.push(`Joueur: ${e.selectedPlayer}`),e.selectedCamp){const y=`Camp: ${e.selectedCamp}`,x=e.campFilterMode==="wins-only"?" (victoires uniquement)":e.campFilterMode==="all-assignments"?" (toutes assignations)":"";c.push(y+x)}if(e.selectedPlayerPair&&e.selectedPairRole){const y=e.selectedPlayerPair.join(" & "),x=e.selectedPairRole==="wolves"?"loups":"amoureux";c.push(`Paire ${x}: ${y}`)}if(e.selectedPlayers&&e.playersFilterMode){const y=e.selectedPlayers.join(" & ");let x="";e.playersFilterMode==="all-common-games"?x="toutes les parties communes":e.playersFilterMode==="opposing-camps"?x="affrontements uniquement":e.playersFilterMode==="same-camp"&&(x="parties en équipe (même camp)");const C=e.winnerPlayer?` (victoires de ${e.winnerPlayer})`:"";c.push(`${y} (${x}${C})`)}return e.selectedVictoryType&&c.push(`Victoire: ${e.selectedVictoryType}`),e.selectedHarvestRange&&c.push(`Récolte: ${e.selectedHarvestRange}`),e.selectedGameDuration&&c.push(`Durée: ${e.selectedGameDuration} jour${e.selectedGameDuration>1?"s":""}`),e.selectedGame&&c.push(`Partie #${e.selectedGame}`),e.selectedDate&&(e.selectedDate.includes("/")&&e.selectedDate.split("/").length===2?c.push(`Mois: ${e.selectedDate}`):c.push(`Date: ${e.selectedDate}`)),c};return l?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):r?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",r]}):!n||n.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvée"}),s.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),e.fromComponent&&s.jsxs("button",{onClick:i,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",e.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[e.fromComponent&&s.jsxs("button",{onClick:i,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",e.fromComponent]}),s.jsxs("h2",{children:["Détails des Parties (",n.length," partie",n.length>1?"s":"",")"]})]}),q().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",q().join(", ")]})]}),h>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",g+1," à ",Math.min(w,v.length)," sur ",v.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:L,onChange:c=>R(Number(c.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>N(1),disabled:d===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>N(d-1),disabled:d===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",d," sur ",h]}),s.jsx("button",{onClick:()=>N(d+1),disabled:d===h,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>N(h),disabled:d===h,className:"lycans-pagination-btn",children:"»»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>A("gameId"),className:"sortable",children:["Partie ",S("gameId")]}),s.jsxs("th",{onClick:()=>A("date"),className:"sortable",children:["Date ",S("date")]}),s.jsxs("th",{onClick:()=>A("playerCount"),className:"sortable",children:["Joueurs ",S("playerCount")]}),s.jsxs("th",{onClick:()=>A("dayCount"),className:"sortable",children:["Jours ",S("dayCount")]}),s.jsxs("th",{onClick:()=>A("winningCamp"),className:"sortable",children:["Camp Vainqueur ",S("winningCamp")]}),s.jsxs("th",{onClick:()=>A("victoryType"),className:"sortable",children:["Type de Victoire ",S("victoryType")]}),s.jsx("th",{children:"Détails"})]})}),s.jsx("tbody",{children:I.map(c=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:f===c.gameId?"selected":"",children:[s.jsxs("td",{children:["#",c.gameId]}),s.jsx("td",{children:c.date}),s.jsx("td",{children:c.playerCount}),s.jsx("td",{children:c.dayCount}),s.jsx("td",{style:{color:B[c.winningCamp]||"#fff"},children:c.winningCamp}),s.jsx("td",{children:c.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>k(c.gameId),className:"lycans-details-btn",children:f===c.gameId?"Masquer":"Voir"})})]},c.gameId),f===c.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(te,{game:c})})},`${c.gameId}-details`)]}))})]})}),h>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",g+1," à ",Math.min(w,v.length)," sur ",v.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>N(1),disabled:d===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>N(d-1),disabled:d===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",d," sur ",h]}),s.jsx("button",{onClick:()=>N(d+1),disabled:d===h,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>N(h),disabled:d===h,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function ie(e){if(e===null||e<=0)return"N/A";const i=Math.floor(e/60),n=e%60;return i===0?`${n}s`:n===0?`${i}m`:`${i}m ${n}s`}function te({game:e}){const[i,n]=j.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Générales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:e.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:e.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Traître:"}),s.jsx("span",{className:"value",children:e.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:e.hasLovers?"Oui":"Non"})]}),e.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Rôles solo:"}),s.jsx("span",{className:"value",children:e.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Supplémentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[e.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Durée de la partie:"}),s.jsx("span",{className:"value",children:ie(e.gameDuration)})]}),e.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[e.versions,e.isModded?" (moddée)":""]})]}),e.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:e.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Résultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:e.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:e.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:e.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:e.wolfSurvivors})]}),e.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:e.loverSurvivors})]}),e.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:e.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:e.winners})]})]})]}),e.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Récolte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Récolte:"}),s.jsx("span",{className:"value",children:e.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:e.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof e.harvestPercentage=="number"?(e.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Rôles des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:e.playerRoles.map((l,r)=>{let a=l.role===l.camp?l.camp:`${l.camp} (${l.role})`;return s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:B[l.camp]||"#fff",textAlign:"left"},children:l.player}),s.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:a})]},r)})})]}),e.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>n(!i),className:"lycans-video-toggle-btn",children:i?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),e.youtubeEmbedUrl&&i&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Vidéo de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:e.youtubeEmbedUrl,title:`Partie Lycans #${e.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{ce as GameDetailsChart};
