import{r as c,u as ge,a as xe,j as i}from"./index-FN_7z9qz.js";import{u as Pe}from"./baseStatsHook-C8GYUG0z.js";import{g as J}from"./gameUtils-BuNbDi0M.js";import{a as Ae,u as be,m as je}from"./api-CboprFYb.js";import{S as Y,u as we,b as q,G as Ce,d as Ie,e as Ee,f as Se,g as Te,h as Re,F as Q,B as ee,C as B,X as L,Y as H,a as ae}from"./FullscreenChart-CEfgpHvq.js";import{m as O,u as Oe,n as _e,o as Ne,S as De,p as ie,q as Fe,t as ne,v as se,w as ke,x as ze,y as oe,b as le,z as Me,A as Ke,B as We,C as ce,D as Ge,d as de,E as Be,G as Le,i as He,L as z,F,H as G,I as re,J as Ve,K as $e,M as W,N as Je,O as me,P as qe,Q as Ze,U as Ue,V as Xe,h as Ye,W as Qe,X as ea,Y as aa,R as V,T as $}from"./CategoricalChart-glf7jx6m.js";function pe(a,e,r){return(e=ra(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function ra(a){var e=ta(a,"string");return typeof e=="symbol"?e:e+""}function ta(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function ia(a){var e=Oe();return c.useEffect(()=>(e(_e(a)),()=>{e(Ne(a))}),[a,e]),null}class U extends c.Component{render(){return c.createElement(ia,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:O.allowDuplicatedCategory,allowDataOverflow:O.allowDataOverflow,reversed:O.reversed,includeHidden:O.includeHidden})}}pe(U,"displayName","ZAxis");pe(U,"defaultProps",{zAxisId:0,range:O.range,scale:O.scale,type:O.type});var na=["option","isActive"];function k(){return k=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},k.apply(null,arguments)}function sa(a,e){if(a==null)return{};var r,t,s=oa(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(t=0;t<n.length;t++)r=n[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function oa(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function la(a){var{option:e,isActive:r}=a,t=sa(a,na);return typeof e=="string"?c.createElement(Y,k({option:c.createElement(De,k({type:e},t)),isActive:r,shapeType:"symbols"},t)):c.createElement(Y,k({option:e,isActive:r,shapeType:"symbols"},t))}var ca=(a,e,r,t,s,n,l)=>ne(a,"xAxis",e,l),da=(a,e,r,t,s,n,l)=>se(a,"xAxis",e,l),ma=(a,e,r,t,s,n,l)=>ne(a,"yAxis",r,l),pa=(a,e,r,t,s,n,l)=>se(a,"yAxis",r,l),ua=(a,e,r,t)=>ke(a,"zAxis",t,!1),ha=(a,e,r,t,s)=>s,fa=(a,e,r,t,s,n)=>n,ya=(a,e,r,t,s,n,l)=>Fe(a,e,r,l),va=ie([ze,ha],(a,e)=>a.filter(r=>r.type==="scatter").find(r=>r.id===e)),ga=ie([ya,ca,da,ma,pa,ua,va,fa],(a,e,r,t,s,n,l,g)=>{var{chartData:d,dataStartIndex:u,dataEndIndex:f}=a;if(l!=null){var x;if(l?.data!=null&&l.data.length>0?x=l.data:x=d?.slice(u,f+1),!(x==null||e==null||t==null||r==null||s==null||r?.length===0||s?.length===0))return Oa({displayedData:x,xAxis:e,yAxis:t,zAxis:n,scatterSettings:l,xAxisTicks:r,yAxisTicks:s,cells:g})}}),xa=["onMouseEnter","onClick","onMouseLeave"],Pa=["id"],Aa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function Z(a,e){if(a==null)return{};var r,t,s=ba(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(t=0;t<n.length;t++)r=n[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function ba(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function _(){return _=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},_.apply(null,arguments)}function te(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),r.push.apply(r,t)}return r}function I(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?te(Object(r),!0).forEach(function(t){ja(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}function ja(a,e,r){return(e=wa(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function wa(a){var e=Ca(a,"string");return typeof e=="symbol"?e:e+""}function Ca(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var Ia=a=>{var{dataKey:e,name:r,fill:t,legendType:s,hide:n}=a;return[{inactive:n,dataKey:e,type:s,color:t,value:ce(r,e),payload:a}]};function Ea(a){var{points:e,props:r}=a,{line:t,lineType:s,lineJointType:n}=r;if(!t)return null;var l=me(r),g=Ye(t,!1),d,u;if(s==="joint")d=e.map(h=>({x:h.cx,y:h.cy}));else if(s==="fitting"){var{xmin:f,xmax:x,a:P,b:S}=Qe(e),b=h=>P*h+S;d=[{x:f,y:b(f)},{x,y:b(x)}]}var C=I(I(I({},l),{},{fill:"none",stroke:l&&l.fill},g),{},{points:d});return c.isValidElement(t)?u=c.cloneElement(t,C):typeof t=="function"?u=t(C):u=c.createElement(ea,_({},C,{type:n})),c.createElement(z,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function ue(a){var{points:e,showLabels:r,allOtherScatterProps:t}=a,{shape:s,activeShape:n,dataKey:l}=t,g=de(Je),{onMouseEnter:d,onClick:u,onMouseLeave:f}=t,x=Z(t,xa),P=Ee(d,t.dataKey),S=Se(f),b=Te(u,t.dataKey);if(e==null)return null;var{id:C}=t,h=Z(t,Pa),E=me(h);return c.createElement(c.Fragment,null,c.createElement(Ea,{points:e,props:h}),e.map((y,j)=>{var o=n&&g===String(j),m=o?n:s,p=I(I(I({key:"symbol-".concat(j)},E),y),{},{[Ze]:j,[qe]:String(l)});return c.createElement(z,_({className:"recharts-scatter-symbol"},Ue(x,y,j),{onMouseEnter:P(y,j),onMouseLeave:S(y,j),onClick:b(y,j),key:"symbol-".concat(y?.cx,"-").concat(y?.cy,"-").concat(y?.size,"-").concat(j)}),c.createElement(la,_({option:m,isActive:o},p)))}),r&&Xe.renderCallByParent(h,e))}function Sa(a){var{previousPointsRef:e,props:r}=a,{points:t,isAnimationActive:s,animationBegin:n,animationDuration:l,animationEasing:g}=r,d=e.current,u=Ve(r,"recharts-scatter-"),[f,x]=c.useState(!1),P=c.useCallback(()=>{x(!1)},[]),S=c.useCallback(()=>{x(!0)},[]);return c.createElement($e,{begin:n,duration:l,isActive:s,easing:g,onAnimationEnd:P,onAnimationStart:S,key:u},b=>{var C=b===1?t:t.map((h,E)=>{var y=d&&d[E];if(y){var j=W(y.cx,h.cx),o=W(y.cy,h.cy),m=W(y.size,h.size);return I(I({},h),{},{cx:j(b),cy:o(b),size:m(b)})}var p=W(0,h.size);return I(I({},h),{},{size:p(b)})});return b>0&&(e.current=C),c.createElement(z,null,c.createElement(ue,{points:C,allOtherScatterProps:r,showLabels:!f}))})}function Ta(a){var{points:e,isAnimationActive:r}=a,t=c.useRef(null),s=t.current;return r&&e&&e.length&&(!s||s!==e)?c.createElement(Sa,{props:a,previousPointsRef:t}):c.createElement(ue,{points:e,allOtherScatterProps:a,showLabels:!0})}function Ra(a){var{dataKey:e,points:r,stroke:t,strokeWidth:s,fill:n,name:l,hide:g,tooltipType:d}=a;return{dataDefinedOnItem:r?.map(u=>u.tooltipPayload),positions:r?.map(u=>u.tooltipPosition),settings:{stroke:t,strokeWidth:s,fill:n,nameKey:void 0,dataKey:e,name:ce(l,e),hide:g,type:d,color:n,unit:""}}}function Oa(a){var{displayedData:e,xAxis:r,yAxis:t,zAxis:s,scatterSettings:n,xAxisTicks:l,yAxisTicks:g,cells:d}=a,u=F(r.dataKey)?n.dataKey:r.dataKey,f=F(t.dataKey)?n.dataKey:t.dataKey,x=s&&s.dataKey,P=s?s.range:U.defaultProps.range,S=P&&P[0],b=r.scale.bandwidth?r.scale.bandwidth():0,C=t.scale.bandwidth?t.scale.bandwidth():0;return e.map((h,E)=>{var y=G(h,u),j=G(h,f),o=!F(x)&&G(h,x)||"-",m=[{name:F(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:y,payload:h,dataKey:u,type:n.tooltipType},{name:F(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:j,payload:h,dataKey:f,type:n.tooltipType}];o!=="-"&&m.push({name:s.name||s.dataKey,unit:s.unit||"",value:o,payload:h,dataKey:x,type:n.tooltipType});var p=re({axis:r,ticks:l,bandSize:b,entry:h,index:E,dataKey:u}),T=re({axis:t,ticks:g,bandSize:C,entry:h,index:E,dataKey:f}),M=o!=="-"?s.scale(o):S,N=Math.sqrt(Math.max(M,0)/Math.PI);return I(I({},h),{},{cx:p,cy:T,x:p-N,y:T-N,width:2*N,height:2*N,size:M,node:{x:y,y:j,z:o},tooltipPayload:m,tooltipPosition:{x:p,y:T},payload:h},d&&d[E]&&d[E].props)})}var _a=(a,e,r)=>({x:a.cx,y:a.cy,value:r==="x"?+a.node.x:+a.node.y,errorVal:G(a,e)});function Na(a){var{hide:e,points:r,className:t,needClip:s,xAxisId:n,yAxisId:l,id:g,children:d}=a;if(e)return null;var u=He("recharts-scatter",t),f=g;return c.createElement(z,{className:u,clipPath:s?"url(#clipPath-".concat(f,")"):null,id:g},s&&c.createElement("defs",null,c.createElement(Ce,{clipPathId:f,xAxisId:n,yAxisId:l})),c.createElement(Ie,{xAxisId:n,yAxisId:l,data:r,dataPointFormatter:_a,errorBarOffset:0},d),c.createElement(z,{key:"recharts-scatter-symbols"},c.createElement(Ta,a)))}var he={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Le.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Da(a){var e=oe(a,he),{animationBegin:r,animationDuration:t,animationEasing:s,hide:n,isAnimationActive:l,legendType:g,lineJointType:d,lineType:u,shape:f,xAxisId:x,yAxisId:P,zAxisId:S}=e,b=Z(e,Aa),{needClip:C}=we(x,P),h=c.useMemo(()=>Ge(a.children,q),[a.children]),E=le(),y=de(j=>ga(j,x,P,S,a.id,h,E));return C==null?null:c.createElement(c.Fragment,null,c.createElement(Be,{fn:Ra,args:I(I({},a),{},{points:y})}),c.createElement(Na,_({},b,{xAxisId:x,yAxisId:P,zAxisId:S,lineType:u,lineJointType:d,legendType:g,shape:f,hide:n,isAnimationActive:l,animationBegin:r,animationDuration:t,animationEasing:s,points:y,needClip:C})))}function fe(a){var e=oe(a,he),r=le();return c.createElement(Me,{id:e.id,type:"scatter"},t=>c.createElement(c.Fragment,null,c.createElement(Ke,{legendPayload:Ia(e)}),c.createElement(We,{type:"scatter",id:t,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:r}),c.createElement(Da,_({},e,{id:t}))))}fe.displayName="Scatter";var Fa=["item"],ka=c.forwardRef((a,e)=>c.createElement(Re,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Fa,tooltipPayloadSearcher:aa,categoricalChartProps:a,ref:e}));function za(a){const e={};return a.forEach(r=>{const t=new Set;r.PlayerStats.forEach(n=>{const l=J(n.MainRoleInitial);t.add(l)}),t.forEach(n=>{e[n]||(e[n]={totalGames:0,wins:0,winRate:0,players:{}}),e[n].totalGames++});const s=new Set;r.PlayerStats.forEach(n=>{if(n.Victorious){const l=J(n.MainRoleInitial);s.add(l)}}),s.forEach(n=>{e[n]&&e[n].wins++})}),e}function Ma(a,e){const r={};return a.forEach(t=>{t.PlayerStats.forEach(s=>{const n=s.Username.trim();if(!n)return;const l=J(s.MainRoleInitial);e[l].players[n]||(e[l].players[n]={games:0,wins:0,winRate:0}),e[l].players[n].games++,s.Victorious&&e[l].players[n].wins++,r[n]||(r[n]={totalGames:0,camps:{}}),r[n].camps[l]||(r[n].camps[l]={games:0,wins:0,winRate:0,performance:0}),r[n].totalGames++,r[n].camps[l].games++,s.Victorious&&r[n].camps[l].wins++})}),r}function Ka(a){Object.keys(a).forEach(e=>{a[e].totalGames>0&&(a[e].winRate=parseFloat((a[e].wins/a[e].totalGames*100).toFixed(2))),Object.keys(a[e].players).forEach(r=>{const t=a[e].players[r];t.games>0&&(t.winRate=parseFloat((t.wins/t.games*100).toFixed(2)))})})}function Wa(a,e){Object.keys(a).forEach(r=>{Object.keys(a[r].camps).forEach(t=>{const s=a[r].camps[t];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),e[t]&&e[t].winRate&&(s.performance=parseFloat((s.winRate-e[t].winRate).toFixed(2))))})})}function Ga(a,e,r){const t=[];return Object.keys(a).forEach(n=>{const l=a[n],g=[];Object.keys(l.camps).forEach(d=>{const u=l.camps[d];u.games>=r&&g.push({camp:d,games:u.games,wins:u.wins,winRate:u.winRate.toFixed(2),campAvgWinRate:e[d].winRate.toFixed(2),performance:u.performance.toFixed(2)})}),g.sort((d,u)=>parseFloat(u.performance)-parseFloat(d.performance)),g.length>0&&t.push({player:n,totalGames:l.totalGames,campPerformance:g})}),t.sort((n,l)=>l.totalGames-n.totalGames),{campAverages:Object.keys(e).map(n=>({camp:n,totalGames:e[n].totalGames,wins:e[n].wins,winRate:e[n].winRate.toFixed(2)})),playerPerformanceArray:t}}function Ba(a){if(a.length===0)return null;const e=za(a),r=Ma(a,e);Ka(e),Wa(r,e);const t=3,{campAverages:s,playerPerformanceArray:n}=Ga(r,e,t);return{campAverages:s,playerPerformance:n,minGamesRequired:t}}function La(){const{data:a,isLoading:e,error:r}=Pe(Ba);return{playerCampPerformance:a,isLoading:e,error:r}}function Ua(){const{navigateToGameDetails:a,navigationState:e,updateNavigationState:r}=ge(),{settings:t}=xe(),s=Ae(),n=be(),[l,g]=c.useState(e.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[d,u]=c.useState(e.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[f,x]=c.useState(e.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:P,isLoading:S,error:b}=La();c.useEffect(()=>{e.campPerformanceState||r({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:f}})},[l,d,f,e.campPerformanceState,r]);const C=c.useMemo(()=>P?.campAverages?P.campAverages.map(o=>o.camp).sort():[],[P]),{campPlayerData:h,topPerformersData:E}=c.useMemo(()=>{if(!P?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=P,m=[],p=[];for(const w of o)for(const v of w.campPerformance)if(v.games>=f){const R={player:w.player,camp:v.camp,games:v.games,wins:v.wins,winRate:v.winRate,performance:v.performance,winRateNum:parseFloat(v.winRate),performanceNum:parseFloat(v.performance),campAvgWinRateNum:parseFloat(v.campAvgWinRate),isHighlightedAddition:!1};p.push(R),v.camp===d&&m.push({player:w.player,...v,winRateNum:parseFloat(v.winRate),performanceNum:parseFloat(v.performance),campAvgWinRateNum:parseFloat(v.campAvgWinRate),isHighlightedAddition:!1})}const T=(w,v)=>{if(!t.highlightedPlayer||w.some(A=>A.player===t.highlightedPlayer&&(!v||A.camp===v)))return w;const K=o.find(A=>A.player===t.highlightedPlayer);if(!K)return w;const D=[];for(const A of K.campPerformance)(!v||A.camp===v)&&A.games>=1&&D.push({player:K.player,camp:A.camp,games:A.games,wins:A.wins,winRate:A.winRate,performance:A.performance,winRateNum:parseFloat(A.winRate),performanceNum:parseFloat(A.performance),campAvgWinRateNum:parseFloat(A.campAvgWinRate),isHighlightedAddition:!0});return[...w,...D]},M=T(m,d),N=T(p),ye=M.sort((w,v)=>v.performanceNum-w.performanceNum),ve=N.sort((w,v)=>v.performanceNum-w.performanceNum),X=(w,v)=>{const R=w.slice(0,v);if(R.some(A=>A.player===t.highlightedPlayer)||!t.highlightedPlayer)return R;const D=w.find(A=>A.player===t.highlightedPlayer);if(D){const A={...D,isHighlightedAddition:!0};return[...R,A]}return R};return{campPlayerData:X(ye,15),topPerformersData:X(ve,20)}},[P,d,f,t.highlightedPlayer]),y=o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:d,campFilterMode:"wins-only",excludeTraitor:d==="Traître"},fromComponent:`Performance des Joueurs - ${d}`})},j=o=>{o&&o.player&&o.camp&&a({selectedPlayer:o.player,campFilter:{selectedCamp:o.camp,campFilterMode:"wins-only",excludeTraitor:o.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${f} parties dans ce camp)`})};return S?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):b?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",b]}):P?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),i.jsxs("select",{id:"view-mode-select",value:l,onChange:o=>{const m=o.target.value;g(m),r({campPerformanceState:{selectedCampPerformanceView:m,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[i.jsx("option",{value:"player-performance",children:"Camp"}),i.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),l==="player-performance"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:d,onChange:o=>{const m=o.target.value;u(m),r({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:C.map(o=>i.jsx("option",{value:o,children:o},o))})]}),(l==="player-performance"||l==="top-performers")&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:f,onChange:o=>{const m=Number(o.target.value);x(m),r({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:je.map(o=>i.jsx("option",{value:o,children:o},o))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[l==="player-performance"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Meilleurs joueurs en ",d]}),i.jsx(Q,{title:`Meilleurs Joueurs - ${d}`,children:i.jsx("div",{style:{height:500},children:i.jsx(V,{width:"100%",height:"100%",children:i.jsxs(ee,{data:h,margin:{top:20,right:30,left:20,bottom:0},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx($,{content:({active:o,payload:m})=>{if(o&&m&&m.length>0){const p=m[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Victoires: ",p.wins]}),i.jsxs("div",{children:["Taux personnel: ",p.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",p.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",p.performance>0?"+":"",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ae,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:y,children:h.map((o,m)=>{const p=t.highlightedPlayer===o.player,T=o.isHighlightedAddition;return i.jsx(q,{fill:n[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:p?"var(--accent-primary)":"transparent",strokeWidth:p?3:0,strokeDasharray:T?"5,5":"none",opacity:T?.8:1},`cell-${m}`)})})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",d]}),i.jsx(Q,{title:`Relation Parties Jouées vs Performance - ${d}`,children:i.jsx("div",{style:{height:400},children:i.jsx(V,{width:"100%",height:"100%",children:i.jsxs(ka,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(H,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx($,{content:({active:o,payload:m})=>{if(o&&m&&m.length>0){const p=m[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Performance: ",p.performance>0?"+":"",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(fe,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:d,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${d}`})},shape:o=>{const m=t.highlightedPlayer===o.payload?.player,p=o.payload?.isHighlightedAddition;return i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:o.cx,cy:o.cy,r:m?15:12,fill:n[o.payload?.player]||"var(--accent-primary)",stroke:m?"var(--accent-primary)":"#222",strokeWidth:m?3:1,strokeDasharray:p?"5,5":"none",opacity:p?.8:1}),i.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:m?"12":"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})]}),l==="top-performers"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances (Min. ${f} parties dans ce camp)`}),i.jsx("div",{style:{height:600},children:i.jsx(V,{width:"100%",height:"100%",children:i.jsxs(ee,{data:E,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx($,{content:({active:o,payload:m})=>{if(o&&m&&m.length>0){const p=m[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Camp: ",p.camp]}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Taux personnel: ",p.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ae,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:j,children:E.map((o,m)=>{const p=t.highlightedPlayer===o.player,T=o.isHighlightedAddition;return i.jsx(q,{fill:s[o.camp]||`var(--chart-color-${m%6+1})`,stroke:p?"var(--accent-primary)":"transparent",strokeWidth:p?3:0,strokeDasharray:T?"5,5":"none",opacity:T?.8:1},`cell-${m}`)})})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ua as PlayerCampPerformanceChart};
