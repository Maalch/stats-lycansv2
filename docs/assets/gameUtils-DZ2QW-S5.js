function a(e){if(!e)return{videoId:null,timestamp:null};try{const t=new URL(e);let s=null,n=null;t.hostname==="youtu.be"?s=t.pathname.slice(1):(t.hostname==="www.youtube.com"||t.hostname==="youtube.com")&&(s=t.searchParams.get("v"));const o=t.searchParams.get("t");if(o)if(/^\d+$/.test(o))n=parseInt(o,10);else{const r=o.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(r){const u=parseInt(r[1]||"0",10),i=parseInt(r[2]||"0",10),l=parseInt(r[3]||"0",10);n=u*3600+i*60+l}}return{videoId:s,timestamp:n}}catch{return console.warn("Failed to parse YouTube URL:",e),{videoId:null,timestamp:null}}}function c(e,t){if(!e||!t)return null;try{const r=new Date(e),u=new Date(t);if(!isNaN(r.getTime())&&!isNaN(u.getTime())){const i=u.getTime()-r.getTime();return i>0?Math.round(i/1e3):null}}catch{}const s=a(e),n=a(t);if(s.timestamp===null||n.timestamp===null)return null;const o=n.timestamp-s.timestamp;return o>0?o:null}function m(e){const t=Math.floor(e/60),s=Math.round(e%60);return`${t}:${s.toString().padStart(2,"0")}`}function f(e){return e?e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e==="Chasseur"||e==="Alchimiste"?"Villageois":e:"Villageois"}function p(e){const t=e.PlayerStats.filter(n=>n.Victorious);let s="";if(t.length>0){const n=t.map(o=>o.MainRoleInitial);if(n.includes("Loup")||n.includes("Traître"))s="Loup";else if(n.includes("Amoureux Loup")||n.includes("Amoureux Villageois")||n.includes("Amoureux"))s="Amoureux";else if(n.includes("Villageois")||n.includes("Chasseur")||n.includes("Alchimiste"))s="Villageois";else{const o=n.filter(r=>!["Villageois","Loup","Traître","Chasseur","Alchimiste","Amoureux Loup","Amoureux Villageois"].includes(r));o.length>0?s=o[0]:s="Villageois"}return s}return"Villageois"}function d(e){if(!e)return"";const t=e.charAt(0),s=e.slice(1),o={J:"Jour",N:"Nuit",M:"Meeting",U:"Journée"}[t]||"Moment inconnu",r=u=>{const i=parseInt(u);return i===1?"1ère":`${i}ème`};return t==="U"?`${r(s)} journée`:`${o} de la ${r(s)} journée`}export{p as a,d as b,c,m as f,f as g};
