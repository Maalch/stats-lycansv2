import{r as s}from"./index-DXlb78Oo.js";import{w as H,bv as le,bw as ce,av as ue,H as F,u as N,ay as Z,L as O,c as q,s as de,aA as pe,aB as me,aC as C,bx as ve,by as I,bz as fe,bA as ye,aG as he,a as Q,a9 as xe,a7 as ee,a8 as te,bB as ge,ac as be,a4 as ae,O as Ae,ad as Pe,ae as Ie,a3 as Ee,V as re,U as Se,Y as T,W as K,aj as $,Z as Oe,_ as we,bC as M,$ as _e,az as Te,a0 as De,aE as je,q as ie,aW as Ce,aX as Me,B as ze,A as Le,bD as Ke,am as Ne,a5 as Re}from"./CategoricalChart-CFenk9hn.js";import{c as ke,j as Fe,h as X,u as Be,f as We,a as Ve,G as Ze,S as $e,d as Xe,e as Ge,g as Ue,b as Ye}from"./FullscreenChart-CsFxlyQX.js";import{g as G}from"./datasyncExport-CjB7UYqV.js";function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?U(Object(a),!0).forEach(function(r){B(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function B(e,t,a){return(t=Je(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Je(e){var t=He(e,"string");return typeof t=="symbol"?t:t+""}function He(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R(){return R=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},R.apply(null,arguments)}var qe=(e,t,a,r,i,n,o)=>{var{x1:u,x2:p,y1:d,y2:v}=o;if(i==null||n==null)return null;var l=ke({x:i,y:n}),h={x:e?l.x.apply(u,{position:"start"}):l.x.rangeMin,y:a?l.y.apply(d,{position:"start"}):l.y.rangeMin},x={x:t?l.x.apply(p,{position:"end"}):l.x.rangeMax,y:r?l.y.apply(v,{position:"end"}):l.y.rangeMax};return o.ifOverflow==="discard"&&(!l.isInRange(h)||!l.isInRange(x))?null:Fe(h,x)},Qe=(e,t)=>{var a;return s.isValidElement(e)?a=s.cloneElement(e,t):typeof e=="function"?a=e(t):a=s.createElement(ve,R({},t,{className:"recharts-reference-area-rect"})),a};function et(e){var t=H();return s.useEffect(()=>(t(le(e)),()=>{t(ce(e))})),null}function tt(e){var{x1:t,x2:a,y1:r,y2:i,className:n,shape:o,xAxisId:u,yAxisId:p}=e,d=ue(),v=F(),l=N(P=>Z(P,"xAxis",u,v)),h=N(P=>Z(P,"yAxis",p,v));if(l==null||!h==null)return null;var x=C(t),A=C(a),f=C(r),m=C(i);if(!x&&!A&&!f&&!m&&!o)return null;var c=qe(x,A,f,m,l,h,e);if(!c&&!o)return null;var y=e.ifOverflow==="hidden",b=y?"url(#".concat(d,")"):void 0;return s.createElement(O,{className:q("recharts-reference-area",n)},Qe(o,Y(Y({clipPath:b},de(e)),c)),s.createElement(pe,c,s.createElement(me,{label:e.label}),e.children))}function at(e){return s.createElement(s.Fragment,null,s.createElement(et,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),s.createElement(tt,e))}class ne extends s.Component{render(){return s.createElement(at,this.props)}}B(ne,"displayName","ReferenceArea");B(ne,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});function se(e,t,a){return(t=rt(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function rt(e){var t=it(e,"string");return typeof t=="symbol"?t:t+""}function it(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nt(e){var t=H();return s.useEffect(()=>(t(fe(e)),()=>{t(ye(e))}),[e,t]),null}class W extends s.Component{render(){return s.createElement(nt,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:I.allowDuplicatedCategory,allowDataOverflow:I.allowDataOverflow,reversed:I.reversed,includeHidden:I.includeHidden})}}se(W,"displayName","ZAxis");se(W,"defaultProps",{zAxisId:0,range:I.range,scale:I.scale,type:I.type});var st=["option","isActive"];function D(){return D=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},D.apply(null,arguments)}function ot(e,t){if(e==null)return{};var a,r,i=lt(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function lt(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ct(e){var{option:t,isActive:a}=e,r=ot(e,st);return typeof t=="string"?s.createElement(X,D({option:s.createElement(he,D({type:t},r)),isActive:a,shapeType:"symbols"},r)):s.createElement(X,D({option:t,isActive:a,shapeType:"symbols"},r))}var ut=(e,t,a,r,i,n,o)=>ee(e,"xAxis",t,o),dt=(e,t,a,r,i,n,o)=>te(e,"xAxis",t,o),pt=(e,t,a,r,i,n,o)=>ee(e,"yAxis",a,o),mt=(e,t,a,r,i,n,o)=>te(e,"yAxis",a,o),vt=(e,t,a,r)=>ge(e,"zAxis",r,!1),ft=(e,t,a,r,i)=>i,yt=(e,t,a,r,i,n)=>n,ht=(e,t,a,r,i,n,o)=>xe(e,t,a,o),xt=Q([be,ft],(e,t)=>e.filter(a=>a.type==="scatter").find(a=>a.id===t)),gt=Q([ht,ut,dt,pt,mt,vt,xt,yt],(e,t,a,r,i,n,o,u)=>{var{chartData:p,dataStartIndex:d,dataEndIndex:v}=e;if(o!=null){var l;if(o?.data!=null&&o.data.length>0?l=o.data:l=p?.slice(d,v+1),!(l==null||t==null||r==null||a==null||i==null||a?.length===0||i?.length===0))return Mt({displayedData:l,xAxis:t,yAxis:r,zAxis:n,scatterSettings:o,xAxisTicks:a,yAxisTicks:i,cells:u})}}),bt=["onMouseEnter","onClick","onMouseLeave"],At=["id"],Pt=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function k(e,t){if(e==null)return{};var a,r,i=It(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)a=n[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function It(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},E.apply(null,arguments)}function J(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?J(Object(a),!0).forEach(function(r){Et(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):J(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Et(e,t,a){return(t=St(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function St(e){var t=Ot(e,"string");return typeof t=="symbol"?t:t+""}function Ot(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var wt=e=>{var{dataKey:t,name:a,fill:r,legendType:i,hide:n}=e;return[{inactive:n,dataKey:t,type:i,color:r,value:re(a,t),payload:e}]};function _t(e){var{points:t,props:a}=e,{line:r,lineType:i,lineJointType:n}=a;if(!r)return null;var o=ie(a),u=Le(r),p,d;if(i==="joint")p=t.map(m=>({x:m.cx,y:m.cy}));else if(i==="fitting"){var{xmin:v,xmax:l,a:h,b:x}=Ke(t),A=m=>h*m+x;p=[{x:v,y:A(v)},{x:l,y:A(l)}]}var f=g(g(g({},o),{},{fill:"none",stroke:o&&o.fill},u),{},{points:p});return s.isValidElement(r)?d=s.cloneElement(r,f):typeof r=="function"?d=r(f):d=s.createElement(Ne,E({},f,{type:n})),s.createElement(O,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}function Tt(e){var{showLabels:t,points:a,children:r}=e,i=Te(),n=s.useMemo(()=>a?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return g(g({},u),{},{value:void 0,payload:o.payload,viewBox:u,parentViewBox:i,fill:void 0})}),[i,a]);return s.createElement(De,{value:t?n:null},r)}function Dt(e){var{points:t,allOtherScatterProps:a}=e,{shape:r,activeShape:i,dataKey:n}=a,o=N(je),{onMouseEnter:u,onClick:p,onMouseLeave:d}=a,v=k(a,bt),l=Xe(u,a.dataKey),h=Ge(d),x=Ue(p,a.dataKey);if(t==null)return null;var{id:A}=a,f=k(a,At),m=ie(f);return s.createElement(s.Fragment,null,s.createElement(_t,{points:t,props:f}),t.map((c,y)=>{var b=i&&o===String(y),P=b?i:r,S=g(g(g({key:"symbol-".concat(y)},m),c),{},{[Me]:y,[Ce]:String(n)});return s.createElement(O,E({key:"symbol-".concat(c?.cx,"-").concat(c?.cy,"-").concat(c?.size,"-").concat(y),className:"recharts-scatter-symbol"},ze(v,c,y),{onMouseEnter:l(c,y),onMouseLeave:h(c,y),onClick:x(c,y)}),s.createElement(ct,E({option:P,isActive:b},S)))}))}function jt(e){var{previousPointsRef:t,props:a}=e,{points:r,isAnimationActive:i,animationBegin:n,animationDuration:o,animationEasing:u}=a,p=t.current,d=Oe(a,"recharts-scatter-"),[v,l]=s.useState(!1),h=s.useCallback(()=>{l(!1)},[]),x=s.useCallback(()=>{l(!0)},[]),A=!v;return s.createElement(Tt,{showLabels:A,points:r},a.children,s.createElement(we,{animationId:d,begin:n,duration:o,isActive:i,easing:u,onAnimationEnd:h,onAnimationStart:x,key:d},f=>{var m=f===1?r:r?.map((c,y)=>{var b=p&&p[y];if(b){var P=M(b.cx,c.cx),S=M(b.cy,c.cy),w=M(b.size,c.size);return g(g({},c),{},{cx:P(f),cy:S(f),size:w(f)})}var _=M(0,c.size);return g(g({},c),{},{size:_(f)})});return f>0&&(t.current=m),s.createElement(O,null,s.createElement(Dt,{points:m,allOtherScatterProps:a,showLabels:A}))}),s.createElement(_e,{label:a.label}))}function Ct(e){var{dataKey:t,points:a,stroke:r,strokeWidth:i,fill:n,name:o,hide:u,tooltipType:p}=e;return{dataDefinedOnItem:a?.map(d=>d.tooltipPayload),positions:a?.map(d=>d.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:n,nameKey:void 0,dataKey:t,name:re(o,t),hide:u,type:p,color:n,unit:""}}}function Mt(e){var{displayedData:t,xAxis:a,yAxis:r,zAxis:i,scatterSettings:n,xAxisTicks:o,yAxisTicks:u,cells:p}=e,d=T(a.dataKey)?n.dataKey:a.dataKey,v=T(r.dataKey)?n.dataKey:r.dataKey,l=i&&i.dataKey,h=i?i.range:W.defaultProps.range,x=h&&h[0],A=a.scale.bandwidth?a.scale.bandwidth():0,f=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((m,c)=>{var y=K(m,d),b=K(m,v),P=!T(l)&&K(m,l)||"-",S=[{name:T(a.dataKey)?n.name:a.name||a.dataKey,unit:a.unit||"",value:y,payload:m,dataKey:d,type:n.tooltipType},{name:T(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:b,payload:m,dataKey:v,type:n.tooltipType}];P!=="-"&&S.push({name:i.name||i.dataKey,unit:i.unit||"",value:P,payload:m,dataKey:l,type:n.tooltipType});var w=$({axis:a,ticks:o,bandSize:A,entry:m,index:c,dataKey:d}),_=$({axis:r,ticks:u,bandSize:f,entry:m,index:c,dataKey:v}),V=P!=="-"?i.scale(P):x,j=Math.sqrt(Math.max(V,0)/Math.PI);return g(g({},m),{},{cx:w,cy:_,x:w-j,y:_-j,width:2*j,height:2*j,size:V,node:{x:y,y:b,z:P},tooltipPayload:S,tooltipPosition:{x:w,y:_},payload:m},p&&p[c]&&p[c].props)})}var zt=(e,t,a)=>({x:e.cx,y:e.cy,value:a==="x"?+e.node.x:+e.node.y,errorVal:K(e,t)});function Lt(e){var{hide:t,points:a,className:r,needClip:i,xAxisId:n,yAxisId:o,id:u}=e,p=s.useRef(null);if(t)return null;var d=q("recharts-scatter",r),v=u;return s.createElement(O,{className:d,clipPath:i?"url(#clipPath-".concat(v,")"):null,id:u},i&&s.createElement("defs",null,s.createElement(Ze,{clipPathId:v,xAxisId:n,yAxisId:o})),s.createElement($e,{xAxisId:n,yAxisId:o,data:a,dataPointFormatter:zt,errorBarOffset:0},s.createElement(O,{key:"recharts-scatter-symbols"},s.createElement(jt,{props:e,previousPointsRef:p}))))}var oe={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ee.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Kt(e){var t=ae(e,oe),{animationBegin:a,animationDuration:r,animationEasing:i,hide:n,isAnimationActive:o,legendType:u,lineJointType:p,lineType:d,shape:v,xAxisId:l,yAxisId:h,zAxisId:x}=t,A=k(t,Pt),{needClip:f}=Be(l,h),m=s.useMemo(()=>We(e.children,Ve),[e.children]),c=F(),y=N(b=>gt(b,l,h,x,e.id,m,c));return f==null||y==null?null:s.createElement(s.Fragment,null,s.createElement(Se,{fn:Ct,args:g(g({},e),{},{points:y})}),s.createElement(Lt,E({},A,{xAxisId:l,yAxisId:h,zAxisId:x,lineType:d,lineJointType:p,legendType:u,shape:v,hide:n,isAnimationActive:o,animationBegin:a,animationDuration:r,animationEasing:i,points:y,needClip:f})))}function Nt(e){var t=ae(e,oe),a=F();return s.createElement(Ae,{id:t.id,type:"scatter"},r=>s.createElement(s.Fragment,null,s.createElement(Pe,{legendPayload:wt(t)}),s.createElement(Ie,{type:"scatter",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:t.zAxisId,dataKey:t.dataKey,hide:t.hide,name:t.name,tooltipType:t.tooltipType,isPanorama:a}),s.createElement(Kt,E({},t,{id:r}))))}var Rt=s.memo(Nt);Rt.displayName="Scatter";var kt=["item"],Gt=s.forwardRef((e,t)=>s.createElement(Ye,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:kt,tooltipPayloadSearcher:Re,categoricalChartProps:e,ref:t}));const Ft={Village:{src:"/Village.webp",zMin:-820,zMax:820,xMin:-461,xMax:461},Château:{src:"/Château.webp",zMin:-820,zMax:820,xMin:-461,xMax:461}},z={x:166.35,z:176.22,multiplier:5.45},L={x:403.32,z:-121.11,multiplier:18.4};function Bt(e,t,a){let r=e,i=t;return a==="Village"?(r=(e-z.x)*z.multiplier,i=(t-z.z)*z.multiplier*-1):a==="Château"&&(r=(e-L.x)*L.multiplier,i=(t-L.z)*L.multiplier*-1),{x:r,z:i}}function Ut(e){return Ft[e]||null}function Wt(e){return e?e==="SURVIVALIST_NOT_SAVED"?"BY_WOLF":e:"UNKNOWN"}function Yt(e,t){if(t===0)return e.map(r=>({centroidX:r.x,centroidZ:r.z,items:[r]}));const a=[];return e.forEach(r=>{let i=!1;for(const n of a)if(Math.sqrt(Math.pow(r.x-n.centroidX,2)+Math.pow(r.z-n.centroidZ,2))<=t){const u=n.items.length;n.centroidX=(n.centroidX*u+r.x)/(u+1),n.centroidZ=(n.centroidZ*u+r.z)/(u+1),n.items.push(r),i=!0;break}i||a.push({centroidX:r.x,centroidZ:r.z,items:[r]})}),a}function Jt(e){if(e.length===0)return null;const t=new Map;e.forEach(i=>{t.set(i.deathType,(t.get(i.deathType)||0)+1)});let a=e[0].deathType,r=0;return t.forEach((i,n)=>{i>r&&(r=i,a=n)}),a}function Ht(e,t){const a=[];return e.forEach(r=>{r.PlayerStats.filter(i=>i.DeathPosition!==null).filter(i=>!t||t==="Tous les camps"?!0:G(i.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!0})===t).forEach(i=>{if(i.DeathPosition){const n=G(i.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!0}),o=Bt(i.DeathPosition.x,i.DeathPosition.z,r.MapName);a.push({x:o.x,z:o.z,playerName:i.Username,deathType:Wt(i.DeathType),mapName:r.MapName,killerName:i.KillerName||null,camp:n,gameId:r.DisplayedId,displayedGameId:r.DisplayedId})}})}),a}function qt(e){const t=new Set;return e.forEach(a=>{a.PlayerStats.some(i=>i.DeathPosition!==null)&&a.MapName&&t.add(a.MapName)}),Array.from(t).sort()}export{ne as R,Gt as S,Yt as a,Jt as b,Ht as c,Ut as d,Rt as e,Bt as f,qt as g};
