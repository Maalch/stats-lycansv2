import{r as b,u as E,a as A,j as s,l as q,k as z}from"./index-D5j6JQ8x.js";import{u as L}from"./useJoueursData-DoE8BKrZ.js";import{f as I}from"./playersUtils-9lTGeWfy.js";import{u as D,g as M}from"./api-DbzQHk77.js";function V(c){const[g,k]=b.useState(null),[x,T]=b.useState(!1),[p,R]=b.useState(null);b.useEffect(()=>{let u=!0;return(async()=>{try{T(!0),R(null);const j=await fetch("/data/playerAchievements.json");if(!j.ok)throw new Error(`Failed to load achievements: ${j.status} ${j.statusText}`);const f=await j.json();u&&k(f)}catch(j){u&&R(j instanceof Error?j.message:"Failed to load achievements")}finally{u&&T(!1)}})(),()=>{u=!1}},[]);const y=c&&g?.achievements[c]||null;return b.useEffect(()=>{if(c&&g){const u=g.achievements[c];u?console.log(`🏆 Achievements for ${c}:`,{allGames:u.allGamesAchievements.length,moddedOnly:u.moddedOnlyAchievements.length,categories:[...new Set([...u.allGamesAchievements.map(C=>C.category),...u.moddedOnlyAchievements.map(C=>C.category)])]}):console.log(`❌ No achievements found for ${c}`)}},[c,g]),{data:y,isLoading:x,error:p,metadata:{generatedAt:g?.generatedAt||null,totalPlayers:g?.totalPlayers||0,totalGames:g?.totalGames||0,totalModdedGames:g?.totalModdedGames||0}}}function H({achievements:c,title:g,emptyMessage:k,achievementType:x="all"}){const{navigateToTab:T,updateNavigationState:p,clearNavigation:R}=E(),{settings:y,updateSettings:u}=A(),{joueursData:C}=L(),j=D(C),f=(e,l)=>{if(l.stopPropagation(),!e.redirectTo)return;R();const n=y.highlightedPlayer;if(u(x==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:n,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:n,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}),e.category==="comparison"&&e.redirectTo.subTab==="comparison"){const t=y.highlightedPlayer||"",r=w(e.description,t);r&&p({playerComparisonState:{selectedPlayer1:t,selectedPlayer2:r,showDetailedStats:!0}})}if(e.category==="comparison"&&e.redirectTo.subTab==="pairing"){const t=e.description.toLowerCase().includes("loup");p({selectedPairingTab:t?"wolves":"lovers"})}if(e.category==="kills"&&e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i);t&&p({deathStatsSelectedCamp:t[1]});let r=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(r=parseInt(i[1],10));let d="totalKills";const m=e.redirectTo.chartSection;m&&(m==="killers-total"?d="totalKills":m==="killers-average"?d="averageKills":m==="deaths-total"?d="totalDeaths":m==="survivors-average"&&(d="survivalRate")),p({deathStatisticsState:{selectedCamp:t?.[1]||"Tous les camps",minGamesForAverage:r,focusChart:d}})}if(e.category==="map"&&e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter||"all";let r=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(r=parseInt(i[1])),u(x==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:n,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:n,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}),p({playersGeneralState:{minGamesForWinRate:r,winRateOrder:"best",focusChart:"winRate"}}),T("players","playersGeneral");return}if(e.category==="history"&&e.redirectTo.subTab==="history"&&p({selectedPlayerName:y.highlightedPlayer||"",groupingMethod:"session"}),e.category==="series"&&e.redirectTo.subTab==="series"){let t="wins";const r=e.title.toLowerCase(),i=e.description.toLowerCase();r.includes("défaite")||i.includes("défaite")?t="losses":r.includes("loup")||i.includes("loup")?t="loup":r.includes("villageois")||i.includes("villageois")?t="villageois":(r.includes("victoire")||i.includes("victoire"))&&(t="wins"),p({selectedSeriesType:t})}if(e.category==="general"&&e.redirectTo.subTab==="playersGeneral"){let t=10;const r=e.description.match(/min\.\s*(\d+)/);r&&(t=parseInt(r[1],10));let i="winRate",d="best";const m=e.title.toLowerCase(),N=e.description.toLowerCase();m.includes("participation")||N.includes("participation")?i="participation":(m.includes("taux de victoire")||N.includes("taux de victoire"))&&(i="winRate",(m.includes("moins bon")||m.includes("mauvais")||N.includes("moins bon")||N.includes("mauvais"))&&(d="worst")),p({playersGeneralState:{minGamesForWinRate:t,winRateOrder:d,focusChart:i}})}if(e.category==="performance"&&e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection;let r="Villageois",i=1;t&&(t==="camp-loup"?r="Loup":t==="camp-villageois"?r="Villageois":t==="camp-idiot"?r="Idiot du Village":t==="camp-amoureux"?r="Amoureux":(t==="solo-roles"||t==="hall-of-fame")&&(r="Villageois"));const d=e.description.match(/min\.\s*(\d+)/);d&&(i=parseInt(d[1],10)),t==="solo-roles"?r="Rôles spéciaux":t==="hall-of-fame"&&(r="Tous les camps"),p({campPerformanceState:{selectedCampPerformanceCamp:r,selectedCampPerformanceMinGames:i}})}T(e.redirectTo.tab,e.redirectTo.subTab)},w=(e,l)=>{const n=[/avec ([^:]+?):/,/contre ([^:]+?):/];for(const t of n){const r=e.match(t);if(r&&r[1]){const i=r[1].trim();if(i!==l)return i}}return null},v=e=>{if(!e.redirectTo)return"Aucune navigation disponible";switch(e.category){case"general":if(e.redirectTo.subTab==="playersGeneral"){const t=e.description.match(/min\.\s*(\d+)/),r=t?parseInt(t[1],10):10,i=e.title.toLowerCase(),d=x==="modded"?" (Filtre parties moddées activé)":" (Filtres réinitialisés)";return i.includes("taux de victoire")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les taux de victoire (min. ${r} parties)${d}`:i.includes("participation")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les participations${d}`:`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir le classement général des joueurs${d}`}break;case"map":if(e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter,r=t==="village"?"Village":t==="chateau"?"Château":"map",i=x==="modded"?" (Filtres parties moddées + map activés)":" (Filtre map activé)";return`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les statistiques générales filtrées sur ${r}${i}`}break;case"history":if(e.redirectTo.subTab==="history")return"Cliquez pour voir l'historique détaillé du joueur par map";break;case"comparison":if(e.redirectTo.subTab==="comparison")return`Cliquez pour comparer avec ${w(e.description,y.highlightedPlayer||"")||"ce joueur"}`;if(e.redirectTo.subTab==="pairing")return"Cliquez pour voir les statistiques de paires";break;case"kills":if(e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i),r=e.description.match(/min\.\s*(\d+)/),i=r?parseInt(r[1],10):10,d=t?.[1]||"Tous les camps",m=e.redirectTo.chartSection;let N="kills et morts";return m==="killers-total"?N="total des kills":m==="killers-average"?N=`moyenne des kills (min. ${i} parties)`:m==="deaths-total"?N="total des morts":m==="survivors-average"&&(N=`taux de survie (min. ${i} parties)`),`Cliquez pour voir les statistiques de ${N} ${d!=="Tous les camps"?`en ${d}`:""}`}break;case"series":if(e.redirectTo.subTab==="series"){const t=e.title.toLowerCase(),r=e.description.toLowerCase();return t.includes("défaite")||r.includes("défaite")?"Cliquez pour voir les séries de défaites":t.includes("loup")||r.includes("loup")?"Cliquez pour voir les séries Loups":t.includes("villageois")||r.includes("villageois")?"Cliquez pour voir les séries Villageois":t.includes("victoire")||r.includes("victoire")?"Cliquez pour voir les séries de victoires":"Cliquez pour voir les séries consécutives"}break;case"performance":if(e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection,r=x==="modded"?" (Filtre parties moddées activé)":" (Filtres réinitialisés)";return t==="camp-loup"?`Cliquez pour voir les performances camp Loup${r}`:t==="camp-villageois"?`Cliquez pour voir les performances camp Villageois${r}`:t==="camp-idiot"?`Cliquez pour voir les performances camp Idiot du Village${r}`:t==="camp-amoureux"?`Cliquez pour voir les performances camp Amoureux${r}`:t==="solo-roles"?`Cliquez pour voir le classement (rôles spéciaux)${r}`:t==="hall-of-fame"?`Cliquez pour voir le Hall of Fame (toutes performances)${r}`:`Cliquez pour voir les performances par camp${r}`}break}return`Cliquez pour voir ${e.redirectTo.subTab}`+(x==="modded"?" (Filtre parties moddées activé)":" (Filtres réinitialisés)")},S=e=>j[e]||M(e),F=e=>{const l=[/avec ([^:]+?):/,/contre ([^:]+?):/];let n=e;return l.forEach(t=>{const r=e.match(t);if(r&&r[1]){const i=r[1].trim(),m=`<span class="player-name-highlight" style="color: ${S(i)};">${i}</span>`;n=n.replace(i,m)}}),n};if(c.length===0)return s.jsxs("div",{className:"achievements-empty",children:[s.jsx("h4",{children:g}),s.jsx("p",{children:k||"Aucun succès dans cette catégorie"})]});const P=e=>e===1?"🥇":e===2?"🥈":e===3?"🥉":"",G=e=>e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":e&&e<=10?"rank-top-10":"",$=c.filter(e=>e.category!=="comparison"&&e.type==="good").sort((e,l)=>(e.rank??999)-(l.rank??999)),a=c.filter(e=>e.category!=="comparison"&&e.type==="bad").sort((e,l)=>(e.rank??999)-(l.rank??999)),o=c.filter(e=>e.category==="comparison"),h=$.filter(e=>e.rank&&e.rank<=3).length;return s.jsxs("div",{className:"achievements-container",children:[s.jsx("h4",{children:g}),h>0&&s.jsxs("div",{className:"top3-showcase",children:[s.jsx("h5",{className:"top3-title",children:"✨ Podium d'Excellence ✨"}),s.jsx("div",{className:"top3-grid",children:$.filter(e=>e.rank&&e.rank<=3).map((e,l)=>s.jsxs("div",{className:`top3-card ${G(e.rank)} animate-slide-in`,style:{animationDelay:`${l*.15}s`},onClick:n=>f(e,n),title:v(e),children:[s.jsx("div",{className:"top3-medal-container",children:s.jsx("span",{className:"top3-medal",children:P(e.rank)})}),s.jsxs("div",{className:"top3-content",children:[s.jsxs("div",{className:"top3-rank-badge",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]}),s.jsx("h6",{className:"top3-achievement-title",children:e.title}),s.jsx("p",{className:"top3-achievement-description",children:e.description})]}),s.jsxs("div",{className:"top3-sparkles",children:[s.jsx("span",{className:"sparkle sparkle-1",children:"✨"}),s.jsx("span",{className:"sparkle sparkle-2",children:"⭐"}),s.jsx("span",{className:"sparkle sparkle-3",children:"✨"})]})]},e.id))})]}),$.length>0&&s.jsxs("div",{className:"achievements-section good-achievements",children:[s.jsx("h5",{children:"🏆 Classements"}),s.jsx("div",{className:"achievements-grid",children:$.filter(e=>!e.rank||e.rank>3).map((e,l)=>s.jsxs("div",{className:`achievement-card good ${G(e.rank)}`,onClick:n=>f(e,n),title:v(e),style:{animationDelay:`${l*.05}s`},children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),a.length>0&&s.jsxs("div",{className:"achievements-section bad-achievements",children:[s.jsx("h5",{children:"💀 Classements (Inversés)"}),s.jsx("div",{className:"achievements-grid",children:a.map(e=>s.jsxs("div",{className:`achievement-card bad rank-${e.rank}`,onClick:l=>f(e,l),title:v(e),children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),o.length>0&&s.jsxs("div",{className:"achievements-section comparison-achievements",children:[s.jsx("h5",{children:"📊 Statistiques Face-à-Face"}),s.jsx("div",{className:"achievements-grid",children:o.map(e=>s.jsxs("div",{className:"achievement-card comparison",onClick:l=>f(e,l),title:v(e),children:[s.jsx("div",{className:"achievement-header",children:s.jsx("span",{className:"achievement-title",children:e.title})}),s.jsx("p",{className:"achievement-description",dangerouslySetInnerHTML:{__html:F(e.description)}})]},e.id))})]})]})}function _(){const{settings:c,updateSettings:g}=A(),{data:k,isLoading:x,error:T}=q(),{joueursData:p,isLoading:R}=L(),{data:y,isLoading:u,error:C}=V(c.highlightedPlayer),j=D(p),[f,w]=b.useState(""),[v,S]=b.useState("all"),F=b.useMemo(()=>{if(!k||!k.GameStats)return[];const a=new Map;return k.GameStats.forEach(o=>{const h=new Date(o.StartDate);o.PlayerStats.forEach(e=>{const l=z(e.Username);a.has(l)||a.set(l,{games:0,wins:0,firstDate:h,lastDate:h});const n=a.get(l);n.games++,e.Victorious&&n.wins++,h<n.firstDate&&(n.firstDate=h),h>n.lastDate&&(n.lastDate=h)})}),Array.from(a.entries()).map(([o,h])=>{const e=p?.Players?I(p.Players,o):null;return{name:o,totalGames:h.games,totalWins:h.wins,winRate:h.games>0?h.wins/h.games*100:0,firstGameDate:h.firstDate.toLocaleDateString("fr-FR"),lastGameDate:h.lastDate.toLocaleDateString("fr-FR"),isHighlighted:o===c.highlightedPlayer,image:e?.Image||null,twitch:e?.Twitch||null,youtube:e?.Youtube||null}})},[k,c.highlightedPlayer,p]),P=b.useMemo(()=>{if(!f.trim())return F;const a=f.toLowerCase();return F.filter(o=>o.name.toLowerCase().includes(a))},[F,f]),G=b.useMemo(()=>[...P].sort((a,o)=>o.totalGames-a.totalGames),[P]),$=a=>{g({highlightedPlayer:a}),w("")};return x||R?s.jsxs("div",{className:"player-selection-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des joueurs..."})]}):T?s.jsxs("div",{className:"player-selection-error",children:[s.jsx("h2",{children:"Erreur"}),s.jsxs("p",{children:["Impossible de charger les données des joueurs: ",T]})]}):!k||F.length===0?s.jsxs("div",{className:"player-selection-empty",children:[s.jsx("h2",{children:"Aucune donnée disponible"}),s.jsx("p",{children:"Aucun joueur trouvé dans les données."})]}):s.jsxs("div",{className:"player-selection-container",children:[!c.highlightedPlayer&&s.jsxs("div",{className:"search-controls-header",children:[s.jsxs("div",{className:"selection-prompt-content",children:[s.jsx("h2",{children:"Sélectionnez un joueur"}),s.jsx("p",{children:"Choisissez un joueur pour le mettre en évidence dans tous les graphiques."})]}),s.jsxs("div",{className:"search-controls",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"Rechercher un joueur...",value:f,onChange:a=>w(a.target.value),className:"search-input"}),s.jsx("span",{className:"search-icon",children:"🔍"})]}),s.jsxs("div",{className:"player-count",children:[P.length," joueur",P.length!==1?"s":"",f&&` (filtré${P.length!==1?"s":""} de ${F.length})`]})]})]}),s.jsx("div",{className:"player-display",children:f?P.length>0?s.jsxs("div",{className:"search-results",children:[s.jsxs("div",{className:"search-results-header",children:[s.jsx("h3",{children:"Résultats de recherche:"}),s.jsx("button",{className:"clear-search-btn",onClick:()=>w(""),children:"Effacer la recherche"})]}),s.jsx("div",{className:"suggestion-list",children:G.map(a=>s.jsxs("button",{className:`suggestion-btn ${a.isHighlighted?"highlighted":""}`,onClick:()=>$(a.name),children:[a.image?s.jsx("img",{src:a.image,alt:a.name,className:"player-avatar"}):s.jsx("div",{className:"player-avatar-placeholder",style:{backgroundColor:j[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"suggestion-btn-content",children:[s.jsxs("div",{className:"suggestion-btn-name",children:[a.name,a.isHighlighted&&s.jsx("span",{className:"highlight-indicator",children:" ★"})]}),s.jsxs("div",{className:"suggestion-btn-stats",children:[a.totalGames," parties • ",a.winRate.toFixed(1),"% victoires"]})]})]},a.name))})]}):s.jsxs("div",{className:"no-results",children:[s.jsxs("p",{children:['Aucun joueur trouvé pour "',f,'"']}),s.jsx("button",{className:"clear-search-btn",onClick:()=>w(""),children:"Effacer la recherche"})]}):c.highlightedPlayer?(()=>{const a=F.find(o=>o.name===c.highlightedPlayer);return a?s.jsxs("div",{className:"single-player-card highlighted",children:[s.jsxs("div",{className:"player-card-header",children:[s.jsx("h3",{className:"player-name",children:a.name}),s.jsx("span",{className:"highlight-badge",children:"★ Mis en évidence"})]}),s.jsxs("div",{className:"player-info-row",children:[a.image?s.jsx("img",{src:a.image,alt:a.name,className:"player-avatar large"}):s.jsx("div",{className:"player-avatar-placeholder large",style:{backgroundColor:j[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"player-info-text",children:[s.jsxs("div",{className:"player-stats-summary",children:[a.totalGames," parties • ",a.totalWins," victoires • ",a.winRate.toFixed(1),"% taux de victoire"]}),(a.twitch||a.youtube)&&s.jsxs("div",{className:"social-links",children:[a.twitch&&s.jsx("a",{href:a.twitch,target:"_blank",rel:"noopener noreferrer",className:"social-link twitch",children:"📺 Twitch"}),a.youtube&&s.jsx("a",{href:a.youtube,target:"_blank",rel:"noopener noreferrer",className:"social-link youtube",children:"🎬 YouTube"})]})]})]}),s.jsxs("div",{className:"player-actions",children:[s.jsxs("div",{className:"achievements-section",children:[u?s.jsxs("div",{className:"achievements-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des classements..."})]}):C?s.jsx("div",{className:"achievements-error",children:s.jsxs("p",{children:["❌ Erreur lors du chargement des classements: ",C]})}):y?s.jsx(H,{achievements:v==="all"?y.allGamesAchievements:y.moddedOnlyAchievements,title:v==="all"?"Classements - Toutes les parties":"Classements - Parties moddées",emptyMessage:"Aucun classement dans cette catégorie",achievementType:v}):s.jsx("div",{className:"achievements-empty",children:s.jsx("p",{children:"Aucun classement disponible pour ce joueur"})}),s.jsxs("div",{className:"achievements-filter",children:[s.jsx("button",{className:`filter-btn ${v==="all"?"active":""}`,onClick:o=>{o.stopPropagation(),S("all")},children:"Toutes les parties"}),s.jsx("button",{className:`filter-btn ${v==="modded"?"active":""}`,onClick:o=>{o.stopPropagation(),S("modded")},children:"Parties moddées"})]}),s.jsx("button",{className:"highlight-btn active",onClick:o=>{o.stopPropagation(),g({highlightedPlayer:null})},children:"★ Retirer la mise en évidence"})]}),s.jsxs("div",{className:"player-period",children:[s.jsx("span",{className:"period-label",children:"Période d'activité:"}),s.jsxs("span",{className:"period-range",children:[a.firstGameDate," - ",a.lastGameDate]})]})]})]}):s.jsxs("div",{className:"no-player-found",children:[s.jsxs("p",{children:['Le joueur "',c.highlightedPlayer,`" n'a pas été trouvé dans les données.`]}),s.jsx("button",{className:"clear-selection-btn",onClick:()=>g({highlightedPlayer:null}),children:"Effacer la sélection"})]})})():s.jsx("div",{className:"player-selection-prompt",children:s.jsx("div",{className:"character-selection-grid",children:G.map(a=>s.jsxs("div",{className:`character-card ${a.isHighlighted?"highlighted":""}`,onClick:()=>$(a.name),title:`${a.name} - ${a.totalGames} parties, ${a.winRate.toFixed(1)}% victoires`,children:[s.jsx("div",{className:"character-avatar-container",children:a.image?s.jsx("img",{src:a.image,alt:a.name,className:"character-avatar"}):s.jsx("div",{className:"character-avatar-placeholder",style:{backgroundColor:j[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"character-name",children:a.name}),(a.twitch||a.youtube)&&s.jsxs("div",{className:"character-social-indicators",children:[a.twitch&&s.jsx("div",{className:"social-indicator twitch",title:"Twitch",children:"T"}),a.youtube&&s.jsx("div",{className:"social-indicator youtube",title:"YouTube",children:"Y"})]})]},a.name))})})})]})}export{_ as PlayerSelectionPage};
