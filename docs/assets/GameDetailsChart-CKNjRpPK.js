import{r as N,u as T,j as t}from"./index-C9ZFYaKO.js";import{u as V,a as D,b as P}from"./useRawGameData-BUhfioUb.js";import{a as A}from"./api-beq3FXpM.js";function g(a){if(!a)return{videoId:null,timestamp:null};try{const c=new URL(a);let u=null,h=null;c.hostname==="youtu.be"?u=c.pathname.slice(1):(c.hostname==="www.youtube.com"||c.hostname==="youtube.com")&&(u=c.searchParams.get("v"));const v=c.searchParams.get("t");if(v)if(/^\d+$/.test(v))h=parseInt(v,10);else{const C=v.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(C){const j=parseInt(C[1]||"0",10),y=parseInt(C[2]||"0",10),b=parseInt(C[3]||"0",10);h=j*3600+y*60+b}}return{videoId:u,timestamp:h}}catch{return console.warn("Failed to parse YouTube URL:",a),{videoId:null,timestamp:null}}}function G(a,c){const u=g(a),h=g(c),v=u.videoId||h.videoId;if(!v)return null;const C=new URLSearchParams;u.timestamp!==null&&C.set("start",u.timestamp.toString()),h.timestamp!==null&&C.set("end",h.timestamp.toString());const j=C.toString();return`https://www.youtube.com/embed/${v}${j?"?"+j:""}`}function E(a,c){const u=g(a),h=g(c);if(u.timestamp===null||h.timestamp===null)return null;const v=h.timestamp-u.timestamp;return v>0?v:null}function R(a){const{data:c,isLoading:u,error:h}=V(),{data:v,isLoading:C,error:j}=D(),{data:y,isLoading:b,error:w}=P();return{data:N.useMemo(()=>{if(!c||!v||!y)return[];let m=[...c];return a&&(a.selectedPlayer&&(m=m.filter(i=>i["Liste des joueurs"].toLowerCase().includes(a.selectedPlayer.toLowerCase()))),a.selectedGame&&(m=m.filter(i=>i.Game===a.selectedGame)),a.selectedCamp&&(m=m.filter(i=>{if(a.selectedPlayer){const e=v.find(p=>p.Game===i.Game);if(!e)return!1;const s=a.selectedPlayer.toLowerCase();if(a.selectedCamp==="Autres"&&a._smallCamps){const p=a._smallCamps;for(const r of p){let d=!1;switch(r){case"Traître":d=!!(e.Traître&&e.Traître.toLowerCase().includes(s));break;case"Idiot du Village":d=!!(e["Idiot du village"]&&e["Idiot du village"].toLowerCase().includes(s));break;case"Cannibale":d=!!(e.Cannibale&&e.Cannibale.toLowerCase().includes(s));break;case"Agent":d=!!(e.Agent&&e.Agent.toLowerCase().includes(s));break;case"Espion":d=!!(e.Espion&&e.Espion.toLowerCase().includes(s));break;case"Scientifique":d=!!(e.Scientifique&&e.Scientifique.toLowerCase().includes(s));break;case"Amoureux":d=!!(e.Amoureux&&e.Amoureux.toLowerCase().includes(s));break;case"La Bête":d=!!(e["La Bête"]&&e["La Bête"].toLowerCase().includes(s));break;case"Chasseur de primes":d=!!(e["Chasseur de primes"]&&e["Chasseur de primes"].toLowerCase().includes(s));break;case"Vaudou":d=!!(e.Vaudou&&e.Vaudou.toLowerCase().includes(s));break;case"Villageois":const n=i["Liste des joueurs"].toLowerCase().includes(s),o=e.Loups&&e.Loups.toLowerCase().includes(s)||e.Traître&&e.Traître.toLowerCase().includes(s)||e["Idiot du village"]&&e["Idiot du village"].toLowerCase().includes(s)||e.Cannibale&&e.Cannibale.toLowerCase().includes(s)||e.Agent&&e.Agent.toLowerCase().includes(s)||e.Espion&&e.Espion.toLowerCase().includes(s)||e.Scientifique&&e.Scientifique.toLowerCase().includes(s)||e.Amoureux&&e.Amoureux.toLowerCase().includes(s)||e["La Bête"]&&e["La Bête"].toLowerCase().includes(s)||e["Chasseur de primes"]&&e["Chasseur de primes"].toLowerCase().includes(s)||e.Vaudou&&e.Vaudou.toLowerCase().includes(s);d=n&&!o;break}if(d)return!0}return!1}return e.Loups&&e.Loups.toLowerCase().includes(s)?a.selectedCamp==="Loups":e.Traître&&e.Traître.toLowerCase().includes(s)?a.selectedCamp==="Traître":e["Idiot du village"]&&e["Idiot du village"].toLowerCase().includes(s)?a.selectedCamp==="Idiot du Village":e.Cannibale&&e.Cannibale.toLowerCase().includes(s)?a.selectedCamp==="Cannibale":e.Agent&&e.Agent.toLowerCase().includes(s)?a.selectedCamp==="Agent":e.Espion&&e.Espion.toLowerCase().includes(s)?a.selectedCamp==="Espion":e.Scientifique&&e.Scientifique.toLowerCase().includes(s)?a.selectedCamp==="Scientifique":e.Amoureux&&e.Amoureux.toLowerCase().includes(s)?a.selectedCamp==="Amoureux":e["La Bête"]&&e["La Bête"].toLowerCase().includes(s)?a.selectedCamp==="La Bête":e["Chasseur de primes"]&&e["Chasseur de primes"].toLowerCase().includes(s)?a.selectedCamp==="Chasseur de primes":e.Vaudou&&e.Vaudou.toLowerCase().includes(s)?a.selectedCamp==="Vaudou":i["Liste des joueurs"].toLowerCase().includes(s)?a.selectedCamp==="Villageois":!1}else{if((a.campFilterMode||"wins-only")==="wins-only")return a.selectedCamp==="Autres"&&a._smallCamps?a._smallCamps.includes(i["Camp victorieux"]):i["Camp victorieux"]===a.selectedCamp;{const s=v.find(l=>l.Game===i.Game);if(!s)return i["Camp victorieux"]===a.selectedCamp;if(a.selectedCamp==="Autres"&&a._smallCamps)return a._smallCamps.some(p=>{switch(p){case"Traître":return!!(s.Traître&&s.Traître.trim());case"Idiot du Village":return!!(s["Idiot du village"]&&s["Idiot du village"].trim());case"Cannibale":return!!(s.Cannibale&&s.Cannibale.trim());case"Agent":return!!(s.Agent&&s.Agent.trim());case"Espion":return!!(s.Espion&&s.Espion.trim());case"Scientifique":return!!(s.Scientifique&&s.Scientifique.trim());case"Amoureux":return!!(s.Amoureux&&s.Amoureux.trim());case"La Bête":return!!(s["La Bête"]&&s["La Bête"].trim());case"Chasseur de primes":return!!(s["Chasseur de primes"]&&s["Chasseur de primes"].trim());case"Vaudou":return!!(s.Vaudou&&s.Vaudou.trim());case"Villageois":const r=i["Liste des joueurs"].split(",").map(n=>n.trim()).filter(n=>n),d=[...s.Loups?s.Loups.split(",").map(n=>n.trim()).filter(n=>n):[],...s.Traître?[s.Traître.trim()].filter(n=>n):[],...s["Idiot du village"]?[s["Idiot du village"].trim()].filter(n=>n):[],...s.Cannibale?[s.Cannibale.trim()].filter(n=>n):[],...s.Agent?[s.Agent.trim()].filter(n=>n):[],...s.Espion?[s.Espion.trim()].filter(n=>n):[],...s.Scientifique?[s.Scientifique.trim()].filter(n=>n):[],...s.Amoureux?s.Amoureux.split(",").map(n=>n.trim()).filter(n=>n):[],...s["La Bête"]?[s["La Bête"].trim()].filter(n=>n):[],...s["Chasseur de primes"]?[s["Chasseur de primes"].trim()].filter(n=>n):[],...s.Vaudou?[s.Vaudou.trim()].filter(n=>n):[]];return r.some(n=>!d.includes(n));default:return!1}});switch(a.selectedCamp){case"Loups":return!!(s.Loups&&s.Loups.trim());case"Traître":return!!(s.Traître&&s.Traître.trim());case"Idiot du Village":return!!(s["Idiot du village"]&&s["Idiot du village"].trim());case"Cannibale":return!!(s.Cannibale&&s.Cannibale.trim());case"Agent":return!!(s.Agent&&s.Agent.trim());case"Espion":return!!(s.Espion&&s.Espion.trim());case"Scientifique":return!!(s.Scientifique&&s.Scientifique.trim());case"Amoureux":return!!(s.Amoureux&&s.Amoureux.trim());case"La Bête":return!!(s["La Bête"]&&s["La Bête"].trim());case"Chasseur de primes":return!!(s["Chasseur de primes"]&&s["Chasseur de primes"].trim());case"Vaudou":return!!(s.Vaudou&&s.Vaudou.trim());case"Villageois":const l=i["Liste des joueurs"].split(",").map(r=>r.trim()).filter(r=>r),p=[...s.Loups?s.Loups.split(",").map(r=>r.trim()).filter(r=>r):[],...s.Traître?[s.Traître.trim()].filter(r=>r):[],...s["Idiot du village"]?[s["Idiot du village"].trim()].filter(r=>r):[],...s.Cannibale?[s.Cannibale.trim()].filter(r=>r):[],...s.Agent?[s.Agent.trim()].filter(r=>r):[],...s.Espion?[s.Espion.trim()].filter(r=>r):[],...s.Scientifique?[s.Scientifique.trim()].filter(r=>r):[],...s.Amoureux?s.Amoureux.split(",").map(r=>r.trim()).filter(r=>r):[],...s["La Bête"]?[s["La Bête"].trim()].filter(r=>r):[],...s["Chasseur de primes"]?[s["Chasseur de primes"].trim()].filter(r=>r):[],...s.Vaudou?[s.Vaudou.trim()].filter(r=>r):[]];return l.some(r=>!p.includes(r));default:return i["Camp victorieux"]===a.selectedCamp}}}})),a.selectedVictoryType&&(m=m.filter(i=>i["Type de victoire"]===a.selectedVictoryType)),a.selectedDate&&(m=m.filter(i=>{const e=i.Date;if(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2){const[s,l]=a.selectedDate.split("/"),p=e.split("/");if(p.length===3){const[,r,d]=p;return r===s&&d===l}}else return e===a.selectedDate;return!1})),a.selectedPlayerPair&&a.selectedPairRole&&(m=m.filter(i=>{const e=v.find(d=>d.Game===i.Game);if(!e)return!1;const[s,l]=a.selectedPlayerPair,p=s.toLowerCase(),r=l.toLowerCase();if(a.selectedPairRole==="wolves"){if(e.Loups){const d=e.Loups.toLowerCase();return d.includes(p)&&d.includes(r)}}else if(a.selectedPairRole==="lovers"&&e.Amoureux){const d=e.Amoureux.toLowerCase();return d.includes(p)&&d.includes(r)}return!1})),a.selectedHarvestRange&&(m=m.filter(i=>{const e=i["Pourcentage de récolte"];if(e==null)return!1;const s=e*100;switch(a.selectedHarvestRange){case"0-25%":return s>=0&&s<=25;case"26-50%":return s>25&&s<=50;case"51-75%":return s>50&&s<=75;case"76-99%":return s>75&&s<=99;case"100%":return s>=100;default:return!0}})),a.selectedGameDuration&&(m=m.filter(i=>i["Nombre de journées"]===a.selectedGameDuration))),m.map(i=>{const e=v.find(o=>o.Game===i.Game),s=y.filter(o=>o.Game===i.Game),l={};e&&(e.Loups&&(l.wolves=e.Loups.split(", ").filter(Boolean)),e.Traître&&(l.traitor=e.Traître),e["Idiot du village"]&&(l.villageIdiot=e["Idiot du village"]),e.Cannibale&&(l.cannibal=e.Cannibale),e.Agent&&(l.agent=e.Agent),e.Espion&&(l.spy=e.Espion),e.Scientifique&&(l.scientist=e.Scientifique),e.Amoureux&&(l.lovers=e.Amoureux.split(", ").filter(Boolean)),e["La Bête"]&&(l.beast=e["La Bête"]),e["Chasseur de primes"]&&(l.bountyHunter=e["Chasseur de primes"]),e.Vaudou&&(l.voodoo=e.Vaudou));const p=s.map(o=>({player:"Ponce",camp:o.Camp||"Unknown",isTraitor:o.Traître||!1,secondaryRole:o["Rôle secondaire"],wolfPower:o["Pouvoir de loup"],villagerJob:o["Métier villageois"],playersKilled:o["Joueurs tués"],deathDay:o["Jour de mort"],deathType:o["Type de mort"],killers:o["Joueurs tueurs"]})),r=[];return i["Liste des joueurs"].split(", ").filter(Boolean).forEach(o=>{let f="Villageois",x="Villageois";e&&(e.Loups&&e.Loups.split(", ").includes(o)?(f="Loups",x="Loups"):e.Traître&&e.Traître===o?(f="Traître",x="Loups"):e["Idiot du village"]&&e["Idiot du village"]===o?(f="Idiot du Village",x="Idiot du Village"):e.Cannibale&&e.Cannibale===o?(f="Cannibale",x="Cannibale"):e.Agent&&e.Agent===o?(f="Agent",x="Agent"):e.Espion&&e.Espion===o?(f="Espion",x="Espion"):e.Scientifique&&e.Scientifique===o?(f="Scientifique",x="Scientifique"):e["La Bête"]&&e["La Bête"]===o?(f="La Bête",x="La Bête"):e["Chasseur de primes"]&&e["Chasseur de primes"]===o?(f="Chasseur de primes",x="Chasseur de primes"):e.Vaudou&&e.Vaudou===o?(f="Vaudou",x="Vaudou"):e.Amoureux&&e.Amoureux.split(", ").includes(o)&&f==="Villageois"&&(f="Amoureux",x="Amoureux")),r.push({player:o,role:f,camp:x})}),{gameId:i.Game,date:i.Date,isModded:i["Game Moddée"],playerCount:i["Nombre de joueurs"],wolfCount:i["Nombre de loups"],hasTraitor:i["Rôle Traître"],hasLovers:i["Rôle Amoureux"],soloRoles:i["Rôles solo"],winningCamp:i["Camp victorieux"],victoryType:i["Type de victoire"],dayCount:i["Nombre de journées"],villagerSurvivors:i["Survivants villageois"],wolfSurvivors:i["Survivants loups (traître inclus)"],loverSurvivors:i["Survivants amoureux"],soloSurvivors:i["Survivants solo"],winners:i["Liste des gagnants"],harvest:i.Récolte,totalHarvest:i["Total récolte"],harvestPercentage:i["Pourcentage de récolte"],playersList:i["Liste des joueurs"],versions:i.Versions,map:i.Map,youtubeEmbedUrl:G(i.Début,i.Fin),gameDuration:E(i.Début,i.Fin),roles:l,playerRoles:r,playerDetails:p}})},[c,v,y,a]),isLoading:u||C||b,error:h||j||w}}function M(){const{navigationFilters:a,navigateBack:c}=T(),{data:u,isLoading:h,error:v}=R(a),[C,j]=N.useState("date"),[y,b]=N.useState("desc"),[w,I]=N.useState(null),S=N.useMemo(()=>u?[...u].sort((e,s)=>{let l,p;switch(C){case"date":l=new Date(e.date.split("/").reverse().join("-")).getTime(),p=new Date(s.date.split("/").reverse().join("-")).getTime();break;case"gameId":l=e.gameId,p=s.gameId;break;case"playerCount":l=e.playerCount,p=s.playerCount;break;case"dayCount":l=e.dayCount,p=s.dayCount;break;case"winningCamp":l=e.winningCamp,p=s.winningCamp;break;case"victoryType":l=e.victoryType,p=s.victoryType;break;default:return 0}return y==="asc"?l>p?1:-1:l<p?1:-1}):[],[u,C,y]),L=e=>{C===e?b(y==="asc"?"desc":"asc"):(j(e),b("desc"))},m=e=>C!==e?"↕️":y==="asc"?"↗️":"↘️",i=()=>{const e=[];if(a.selectedPlayer&&a.selectedCamp)e.push(`${a.selectedPlayer} jouant ${a.selectedCamp}`);else if(a.selectedPlayer&&e.push(`Joueur: ${a.selectedPlayer}`),a.selectedCamp){const s=`Camp: ${a.selectedCamp}`,l=a.campFilterMode==="wins-only"?" (victoires uniquement)":a.campFilterMode==="all-assignments"?" (toutes assignations)":"";e.push(s+l)}if(a.selectedPlayerPair&&a.selectedPairRole){const s=a.selectedPlayerPair.join(" & "),l=a.selectedPairRole==="wolves"?"loups":"amoureux";e.push(`Paire ${l}: ${s}`)}return a.selectedVictoryType&&e.push(`Victoire: ${a.selectedVictoryType}`),a.selectedHarvestRange&&e.push(`Récolte: ${a.selectedHarvestRange}`),a.selectedGameDuration&&e.push(`Durée: ${a.selectedGameDuration} jour${a.selectedGameDuration>1?"s":""}`),a.selectedGame&&e.push(`Partie #${a.selectedGame}`),a.selectedDate&&(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2?e.push(`Mois: ${a.selectedDate}`):e.push(`Date: ${a.selectedDate}`)),e};return h?t.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):v?t.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",v]}):!u||u.length===0?t.jsxs("div",{className:"lycans-empty-section",children:[t.jsx("h2",{children:"Aucune partie trouvée"}),t.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),a.fromComponent&&t.jsxs("button",{onClick:c,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",a.fromComponent]})]}):t.jsxs("div",{className:"lycans-game-details",children:[t.jsxs("div",{className:"lycans-game-details-header",children:[t.jsxs("div",{className:"lycans-game-details-navigation",children:[a.fromComponent&&t.jsxs("button",{onClick:c,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",a.fromComponent]}),t.jsxs("h2",{children:["Détails des Parties (",u.length," partie",u.length>1?"s":"",")"]})]}),i().length>0&&t.jsxs("div",{className:"lycans-active-filters",children:[t.jsx("strong",{children:"Filtres actifs:"})," ",i().join(", ")]})]}),t.jsx("div",{className:"lycans-games-table-container",children:t.jsxs("table",{className:"lycans-games-table",children:[t.jsx("thead",{children:t.jsxs("tr",{children:[t.jsxs("th",{onClick:()=>L("gameId"),className:"sortable",children:["Partie ",m("gameId")]}),t.jsxs("th",{onClick:()=>L("date"),className:"sortable",children:["Date ",m("date")]}),t.jsxs("th",{onClick:()=>L("playerCount"),className:"sortable",children:["Joueurs ",m("playerCount")]}),t.jsxs("th",{onClick:()=>L("dayCount"),className:"sortable",children:["Jours ",m("dayCount")]}),t.jsxs("th",{onClick:()=>L("winningCamp"),className:"sortable",children:["Camp Vainqueur ",m("winningCamp")]}),t.jsxs("th",{onClick:()=>L("victoryType"),className:"sortable",children:["Type de Victoire ",m("victoryType")]}),t.jsx("th",{children:"Détails"})]})}),t.jsx("tbody",{children:S.map(e=>t.jsxs(t.Fragment,{children:[t.jsxs("tr",{className:w===e.gameId?"selected":"",children:[t.jsxs("td",{children:["#",e.gameId]}),t.jsx("td",{children:e.date}),t.jsx("td",{children:e.playerCount}),t.jsx("td",{children:e.dayCount}),t.jsx("td",{style:{color:A[e.winningCamp]||"#fff"},children:e.winningCamp}),t.jsx("td",{children:e.victoryType}),t.jsx("td",{children:t.jsx("button",{onClick:()=>I(w===e.gameId?null:e.gameId),className:"lycans-details-btn",children:w===e.gameId?"Masquer":"Voir"})})]},e.gameId),w===e.gameId&&t.jsx("tr",{className:"game-details-row",children:t.jsx("td",{colSpan:7,children:t.jsx(k,{game:e})})},`${e.gameId}-details`)]}))})]})})]})}function q(a){if(a===null||a<=0)return"N/A";const c=Math.floor(a/60),u=a%60;return c===0?`${u}s`:u===0?`${c}m`:`${c}m ${u}s`}function k({game:a}){const[c,u]=N.useState(!1);return t.jsx("div",{className:"lycans-game-detail-view",children:t.jsxs("div",{className:"lycans-game-detail-grid",children:[t.jsxs("div",{className:"lycans-game-detail-section",children:[t.jsx("h4",{children:"Informations Générales"}),t.jsxs("div",{className:"lycans-game-detail-stats",children:[t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Partie moddée:"}),t.jsx("span",{className:"value",children:a.isModded?"Oui":"Non"})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Nombre de loups:"}),t.jsx("span",{className:"value",children:a.wolfCount})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Traître:"}),t.jsx("span",{className:"value",children:a.hasTraitor?"Oui":"Non"})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Amoureux:"}),t.jsx("span",{className:"value",children:a.hasLovers?"Oui":"Non"})]}),a.soloRoles&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Rôles solo:"}),t.jsx("span",{className:"value",children:a.soloRoles})]})]})]}),t.jsxs("div",{className:"lycans-game-detail-section",children:[t.jsx("h4",{children:"Informations Supplémentaires"}),t.jsxs("div",{className:"lycans-game-detail-stats",children:[a.gameDuration!==null&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Durée de la partie:"}),t.jsx("span",{className:"value",children:q(a.gameDuration)})]}),a.versions&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Version:"}),t.jsx("span",{className:"value",children:a.versions})]}),a.map&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Map:"}),t.jsx("span",{className:"value",children:a.map})]})]})]}),t.jsxs("div",{className:"lycans-game-detail-section",children:[t.jsx("h4",{children:"Résultats"}),t.jsxs("div",{className:"lycans-game-detail-stats",children:[t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Survivants villageois:"}),t.jsx("span",{className:"value",children:a.villagerSurvivors})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Survivants loups:"}),t.jsx("span",{className:"value",children:a.wolfSurvivors})]}),a.loverSurvivors!==null&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Survivants amoureux:"}),t.jsx("span",{className:"value",children:a.loverSurvivors})]}),a.soloSurvivors!==null&&t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Survivants solo:"}),t.jsx("span",{className:"value",children:a.soloSurvivors})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Gagnants:"}),t.jsx("span",{className:"value",children:a.winners})]})]})]}),a.harvest!==null&&t.jsxs("div",{className:"lycans-game-detail-section",children:[t.jsx("h4",{children:"Récolte"}),t.jsxs("div",{className:"lycans-game-detail-stats",children:[t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Récolte:"}),t.jsx("span",{className:"value",children:a.harvest})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Total possible:"}),t.jsx("span",{className:"value",children:a.totalHarvest})]}),t.jsxs("div",{className:"lycans-stat-item",children:[t.jsx("span",{className:"label",children:"Pourcentage:"}),t.jsx("span",{className:"value",children:typeof a.harvestPercentage=="number"?(a.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),t.jsxs("div",{className:"lycans-game-detail-section full-width",children:[t.jsx("h4",{children:"Rôles des Joueurs"}),t.jsx("div",{className:"lycans-player-roles-grid",children:a.playerRoles.map((h,v)=>t.jsxs("div",{className:"lycans-player-role-item",children:[t.jsx("div",{className:"lycans-player-name",style:{color:A[h.camp]||"#fff"},children:h.player}),t.jsx("div",{className:"lycans-player-camp",children:h.role===h.camp?h.camp:`${h.camp} (${h.role})`})]},v))})]}),a.youtubeEmbedUrl&&t.jsx("div",{className:"lycans-game-detail-section full-width",children:t.jsx("button",{onClick:()=>u(!c),className:"lycans-video-toggle-btn",children:c?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),a.youtubeEmbedUrl&&c&&t.jsxs("div",{className:"lycans-game-detail-section full-width",children:[t.jsx("h4",{children:"Vidéo de la Partie"}),t.jsx("div",{className:"lycans-youtube-container",children:t.jsx("iframe",{src:a.youtubeEmbedUrl,title:`Partie Lycans #${a.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{M as GameDetailsChart};
