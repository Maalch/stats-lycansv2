import{r as d,u as de,j as n}from"./index-C_3nOrvJ.js";import{u as pe}from"./baseStatsHook-6Oif1l4P.js";import{b as me,s as q,g as J,d as ue,a as fe}from"./useCombinedRawData-BNqya3Hz.js";import{m as ye,p as Z,a as ve}from"./api-beq3FXpM.js";import{S as H,d as he,u as xe,b as L,G as ge,e as Pe,f as be,g as je,h as Ae,i as Ce,F as U,B as X,C as D,X as k,Y as M,a as Y}from"./FullscreenChart-D_Jgs_0B.js";import{m as w,u as Se,n as we,o as Ie,S as Ee,p as ae,q as Oe,t as re,v as te,w as Te,x as Re,y as _e,z as ne,A as Ne,B as Ke,b as ze,d as se,C as De,G as ke,D as Me,i as Fe,E,L as R,F as z,H as Q,I as Ge,J as Le,K,h as W,M as We,N as Be,O as $e,P as Ve,Q as qe,U as Je,V as Ze,W as He,R as F,T as G}from"./CategoricalChart-DrEZ9IN_.js";function ie(e,r,t){return(r=Ue(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ue(e){var r=Xe(e,"string");return typeof r=="symbol"?r:r+""}function Xe(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ye(e){var r=Se();return d.useEffect(()=>(r(we(e)),()=>{r(Ie(e))}),[e,r]),null}class B extends d.Component{render(){return d.createElement(Ye,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:w.allowDuplicatedCategory,allowDataOverflow:w.allowDataOverflow,reversed:w.reversed,includeHidden:w.includeHidden})}}ie(B,"displayName","ZAxis");ie(B,"defaultProps",{zAxisId:0,range:w.range,scale:w.scale,type:w.type});var Qe=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},T.apply(null,arguments)}function ea(e,r){if(e==null)return{};var t,a,i=aa(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function aa(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function ra(e){var{option:r,isActive:t}=e,a=ea(e,Qe);return typeof r=="string"?d.createElement(H,T({option:d.createElement(Ee,T({type:r},a)),isActive:t,shapeType:"symbols"},a)):d.createElement(H,T({option:r,isActive:t,shapeType:"symbols"},a))}var ta=(e,r,t,a,i,o,u)=>re(e,"xAxis",r,u),na=(e,r,t,a,i,o,u)=>te(e,"xAxis",r,u),sa=(e,r,t,a,i,o,u)=>re(e,"yAxis",t,u),ia=(e,r,t,a,i,o,u)=>te(e,"yAxis",t,u),oa=(e,r,t,a)=>Te(e,"zAxis",a,!1),la=(e,r,t,a,i)=>i,ca=(e,r,t,a,i,o)=>o,da=(e,r,t,a,i,o,u)=>Oe(e,r,t,u),pa=ae([Re,la],(e,r)=>{if(e.some(t=>t.type==="scatter"&&r.dataKey===t.dataKey&&r.data===t.data))return r}),ma=ae([da,ta,na,sa,ia,oa,pa,ca],(e,r,t,a,i,o,u,g)=>{var{chartData:l,dataStartIndex:c,dataEndIndex:m}=e;if(u!=null){var f;if(u?.data!=null&&u.data.length>0?f=u.data:f=l?.slice(c,m+1),!(f==null||r==null||a==null||t==null||i==null||t?.length===0||i?.length===0))return Aa({displayedData:f,xAxis:r,yAxis:a,zAxis:o,scatterSettings:u,xAxisTicks:t,yAxisTicks:i,cells:g})}}),ua=["onMouseEnter","onClick","onMouseLeave"],fa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function oe(e,r){if(e==null)return{};var t,a,i=ya(e,r);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}function ya(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},O.apply(null,arguments)}function ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function A(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?ee(Object(t),!0).forEach(function(a){$(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $(e,r,t){return(r=va(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function va(e){var r=ha(e,"string");return typeof r=="symbol"?r:r+""}function ha(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xa=e=>{var{dataKey:r,name:t,fill:a,legendType:i,hide:o}=e;return[{inactive:o,dataKey:r,type:i,color:a,value:ne(t,r),payload:e}]};function ga(e){var{points:r,props:t}=e,{line:a,lineType:i,lineJointType:o}=t;if(!a)return null;var u=W(t,!1),g=W(a,!1),l,c;if(i==="joint")l=r.map(p=>({x:p.cx,y:p.cy}));else if(i==="fitting"){var{xmin:m,xmax:f,a:P,b:j}=Je(r),v=p=>P*p+j;l=[{x:m,y:v(m)},{x:f,y:v(f)}]}var x=A(A(A({},u),{},{fill:"none",stroke:u&&u.fill},g),{},{points:l});return d.isValidElement(a)?c=d.cloneElement(a,x):typeof a=="function"?c=a(x):c=d.createElement(Ze,O({},x,{type:o})),d.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},c)}function le(e){var{points:r,showLabels:t,allOtherScatterProps:a}=e,{shape:i,activeShape:o,dataKey:u}=a,g=W(a,!1),l=se(We),{onMouseEnter:c,onClick:m,onMouseLeave:f}=a,P=oe(a,ua),j=be(c,a.dataKey),v=je(f),x=Ae(m,a.dataKey);return r==null?null:d.createElement(d.Fragment,null,d.createElement(ga,{points:r,props:a}),r.map((p,s)=>{var y=o&&l===String(s),h=y?o:i,C=A(A(A({key:"symbol-".concat(s)},g),p),{},{[$e]:s,[Be]:String(u)});return d.createElement(R,O({className:"recharts-scatter-symbol"},Ve(P,p,s),{onMouseEnter:j(p,s),onMouseLeave:v(p,s),onClick:x(p,s),key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(s)}),d.createElement(ra,O({option:h,isActive:y},C)))}),t&&qe.renderCallByParent(a,r))}function Pa(e){var{previousPointsRef:r,props:t}=e,{points:a,isAnimationActive:i,animationBegin:o,animationDuration:u,animationEasing:g}=t,l=r.current,c=Ge(t,"recharts-scatter-"),[m,f]=d.useState(!1),P=d.useCallback(()=>{f(!1)},[]),j=d.useCallback(()=>{f(!0)},[]);return d.createElement(Le,{begin:o,duration:u,isActive:i,easing:g,from:{t:0},to:{t:1},onAnimationEnd:P,onAnimationStart:j,key:c},v=>{var{t:x}=v,p=x===1?a:a.map((s,y)=>{var h=l&&l[y];if(h){var C=K(h.cx,s.cx),I=K(h.cy,s.cy),S=K(h.size,s.size);return A(A({},s),{},{cx:C(x),cy:I(x),size:S(x)})}var b=K(0,s.size);return A(A({},s),{},{size:b(x)})});return x>0&&(r.current=p),d.createElement(R,null,d.createElement(le,{points:p,allOtherScatterProps:t,showLabels:!m}))})}function ba(e){var{points:r,isAnimationActive:t}=e,a=d.useRef(null),i=a.current;return t&&r&&r.length&&(!i||i!==r)?d.createElement(Pa,{props:e,previousPointsRef:a}):d.createElement(le,{points:r,allOtherScatterProps:e,showLabels:!0})}function ja(e){var{dataKey:r,points:t,stroke:a,strokeWidth:i,fill:o,name:u,hide:g,tooltipType:l}=e;return{dataDefinedOnItem:t?.map(c=>c.tooltipPayload),positions:t?.map(c=>c.tooltipPosition),settings:{stroke:a,strokeWidth:i,fill:o,nameKey:void 0,dataKey:r,name:ne(u,r),hide:g,type:l,color:o,unit:""}}}function Aa(e){var{displayedData:r,xAxis:t,yAxis:a,zAxis:i,scatterSettings:o,xAxisTicks:u,yAxisTicks:g,cells:l}=e,c=E(t.dataKey)?o.dataKey:t.dataKey,m=E(a.dataKey)?o.dataKey:a.dataKey,f=i&&i.dataKey,P=i?i.range:B.defaultProps.range,j=P&&P[0],v=t.scale.bandwidth?t.scale.bandwidth():0,x=a.scale.bandwidth?a.scale.bandwidth():0;return r.map((p,s)=>{var y=z(p,c),h=z(p,m),C=!E(f)&&z(p,f)||"-",I=[{name:E(t.dataKey)?o.name:t.name||t.dataKey,unit:t.unit||"",value:y,payload:p,dataKey:c,type:o.tooltipType},{name:E(a.dataKey)?o.name:a.name||a.dataKey,unit:a.unit||"",value:h,payload:p,dataKey:m,type:o.tooltipType}];C!=="-"&&I.push({name:i.name||i.dataKey,unit:i.unit||"",value:C,payload:p,dataKey:f,type:o.tooltipType});var S=Q({axis:t,ticks:u,bandSize:v,entry:p,index:s,dataKey:c}),b=Q({axis:a,ticks:g,bandSize:x,entry:p,index:s,dataKey:m}),_=C!=="-"?i.scale(C):j,N=Math.sqrt(Math.max(_,0)/Math.PI);return A(A({},p),{},{cx:S,cy:b,x:S-N,y:b-N,width:2*N,height:2*N,size:_,node:{x:y,y:h,z:C},tooltipPayload:I,tooltipPosition:{x:S,y:b},payload:p},l&&l[s]&&l[s].props)})}var Ca=(e,r,t)=>({x:e.cx,y:e.cy,value:t==="x"?+e.node.x:+e.node.y,errorVal:z(e,r)});function Sa(e){var r=d.useRef(Me("recharts-scatter-")),{hide:t,points:a,className:i,needClip:o,xAxisId:u,yAxisId:g,id:l,children:c}=e;if(t)return null;var m=Fe("recharts-scatter",i),f=E(l)?r.current:l;return d.createElement(R,{className:m,clipPath:o?"url(#clipPath-".concat(f,")"):null},o&&d.createElement("defs",null,d.createElement(ge,{clipPathId:f,xAxisId:u,yAxisId:g})),d.createElement(Pe,{xAxisId:u,yAxisId:g,data:a,dataPointFormatter:Ca,errorBarOffset:0},c),d.createElement(R,{key:"recharts-scatter-symbols"},d.createElement(ba,e)))}var ce={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ke.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function wa(e){var r=Ne(e,ce),{animationBegin:t,animationDuration:a,animationEasing:i,hide:o,isAnimationActive:u,legendType:g,lineJointType:l,lineType:c,shape:m,xAxisId:f,yAxisId:P,zAxisId:j}=r,v=oe(r,fa),{needClip:x}=xe(f,P),p=d.useMemo(()=>Ke(e.children,L),[e.children]),s=d.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),y=ze(),h=se(C=>ma(C,f,P,j,s,p,y));return x==null?null:d.createElement(d.Fragment,null,d.createElement(De,{fn:ja,args:A(A({},e),{},{points:h})}),d.createElement(Sa,O({},v,{xAxisId:f,yAxisId:P,zAxisId:j,lineType:c,lineJointType:l,legendType:g,shape:m,hide:o,isAnimationActive:u,animationBegin:t,animationDuration:a,animationEasing:i,points:h,needClip:x})))}class V extends d.Component{render(){return d.createElement(he,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},d.createElement(_e,{legendPayload:xa(this.props)}),d.createElement(wa,this.props))}}$(V,"displayName","Scatter");$(V,"defaultProps",ce);var Ia=["item"],Ea=d.forwardRef((e,r)=>d.createElement(Ce,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ia,tooltipPayloadSearcher:He,categoricalChartProps:e,ref:r}));function Oa(e,r){if(e.length===0||r.length===0)return null;const t=me(r),a={};e.forEach(l=>{const c=l.Game.toString(),m=l["Liste des joueurs"],f=l["Camp victorieux"];if(c&&m&&f){const P=q(m),j=new Set;P.forEach(v=>{const x=v.trim();if(x){const p=J(t,c,x);j.add(p)}}),j.forEach(v=>{a[v]||(a[v]={totalGames:0,wins:0,winRate:0,players:{}}),a[v].totalGames++}),j.forEach(v=>{ue(v,f)&&a[v].wins++})}});const i={};e.forEach(l=>{const c=l.Game.toString(),m=l["Liste des joueurs"],f=l["Liste des gagnants"];c&&m&&f&&q(m).forEach(j=>{const v=j.trim();if(v){const x=J(t,c,v);a[x].players[v]||(a[x].players[v]={games:0,wins:0,winRate:0}),a[x].players[v].games++;const p=fe(v,f);p&&a[x].players[v].wins++,i[v]||(i[v]={totalGames:0,camps:{}}),i[v].camps[x]||(i[v].camps[x]={games:0,wins:0,winRate:0,performance:0}),i[v].totalGames++,i[v].camps[x].games++,p&&i[v].camps[x].wins++}})}),Object.keys(a).forEach(l=>{a[l].totalGames>0&&(a[l].winRate=parseFloat((a[l].wins/a[l].totalGames*100).toFixed(2))),Object.keys(a[l].players).forEach(c=>{const m=a[l].players[c];m.games>0&&(m.winRate=parseFloat((m.wins/m.games*100).toFixed(2)))})}),Object.keys(i).forEach(l=>{Object.keys(i[l].camps).forEach(c=>{const m=i[l].camps[c];m.games>0&&(m.winRate=parseFloat((m.wins/m.games*100).toFixed(2)),a[c]&&a[c].winRate&&(m.performance=parseFloat((m.winRate-a[c].winRate).toFixed(2))))})});const o=5,u=[];return Object.keys(i).forEach(l=>{const c=i[l],m=[];Object.keys(c.camps).forEach(f=>{const P=c.camps[f];P.games>=o&&m.push({camp:f,games:P.games,wins:P.wins,winRate:P.winRate.toFixed(2),campAvgWinRate:a[f].winRate.toFixed(2),performance:P.performance.toFixed(2)})}),m.sort((f,P)=>parseFloat(P.performance)-parseFloat(f.performance)),m.length>0&&u.push({player:l,totalGames:c.totalGames,campPerformance:m})}),u.sort((l,c)=>c.totalGames-l.totalGames),{campAverages:Object.keys(a).map(l=>({camp:l,totalGames:a[l].totalGames,winRate:a[l].winRate.toFixed(2)})),playerPerformance:u,minGamesRequired:o}}function Ta(){const{data:e,isLoading:r,error:t}=pe(Oa);return{playerCampPerformance:e,isLoading:r,error:t}}function ka(){const{navigateToGameDetails:e,navigationState:r,updateNavigationState:t}=de(),[a,i]=d.useState(r.selectedCampPerformanceView||"player-performance"),[o,u]=d.useState(r.selectedCampPerformanceCamp||"Villageois"),[g,l]=d.useState(r.selectedCampPerformanceMinGames||5),{playerCampPerformance:c,isLoading:m,error:f}=Ta();d.useEffect(()=>{r.selectedCampPerformanceView||t({selectedCampPerformanceView:a,selectedCampPerformanceCamp:o,selectedCampPerformanceMinGames:g})},[a,o,g,r.selectedCampPerformanceView,t]);const P=d.useMemo(()=>c?.campAverages?c.campAverages.map(s=>s.camp).sort():[],[c]),{campPlayerData:j,topPerformersData:v}=d.useMemo(()=>{if(!c?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=c,y=[],h=[];for(const S of s)for(const b of S.campPerformance)if(b.games>=g){const _={player:S.player,camp:b.camp,games:b.games,wins:b.wins,winRate:b.winRate,performance:b.performance,winRateNum:parseFloat(b.winRate),performanceNum:parseFloat(b.performance),campAvgWinRateNum:parseFloat(b.campAvgWinRate)};h.push(_),b.camp===o&&y.push({player:S.player,...b,winRateNum:parseFloat(b.winRate),performanceNum:parseFloat(b.performance),campAvgWinRateNum:parseFloat(b.campAvgWinRate)})}const C=y.sort((S,b)=>b.performanceNum-S.performanceNum),I=h.sort((S,b)=>b.performanceNum-S.performanceNum).slice(0,20);return{campPlayerData:C,topPerformersData:I}},[c,o,g]),x=s=>{s&&s.player&&e({selectedPlayer:s.player,selectedCamp:o,fromComponent:`Performance des Joueurs - ${o}`})},p=s=>{s&&s.player&&s.camp&&e({selectedPlayer:s.player,selectedCamp:s.camp,fromComponent:`Top 20 des Performances (Min. ${g} parties dans ce camp)`})};return m?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):f?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",f]}):c?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:a,onChange:s=>{const y=s.target.value;i(y),t({selectedCampPerformanceView:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),a==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:o,onChange:s=>{const y=s.target.value;u(y),t({selectedCampPerformanceCamp:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(s=>n.jsx("option",{value:s,children:s},s))})]}),(a==="player-performance"||a==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:g,onChange:s=>{const y=Number(s.target.value);l(y),t({selectedCampPerformanceMinGames:y})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ye.map(s=>n.jsx("option",{value:s,children:s},s))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:c.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[a==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",o]}),n.jsx(U,{title:`Performance des Joueurs - ${o}`,children:n.jsx("div",{style:{height:500},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(X,{data:j.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(k,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const h=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Victoires: ",h.wins]}),n.jsxs("div",{children:["Taux personnel: ",h.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",h.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",h.performance>0?"+":"",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(Y,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:x,children:j.slice(0,15).map((s,y)=>n.jsx(L,{fill:Z[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${y}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",o]}),n.jsx(U,{title:`Relation Parties Jouées vs Performance - ${o}`,children:n.jsx("div",{style:{height:400},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(Ea,{data:j,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(k,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(M,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const h=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Performance: ",h.performance>0?"+":"",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(V,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&e({selectedPlayer:s.player,selectedCamp:o,fromComponent:`Relation Parties Jouées vs Performance - ${o}`})},shape:s=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:s.cx,cy:s.cy,r:12,fill:Z[s.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),a==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${g} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(F,{width:"100%",height:"100%",children:n.jsxs(X,{data:v,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(k,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:y})=>{if(s&&y&&y.length>0){const h=y[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Camp: ",h.camp]}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Taux personnel: ",h.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--chart-color-1)",marginTop:"0.25rem",fontStyle:"italic"},children:"Cliquez pour voir les parties"})]})}return null}}),n.jsx(Y,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:p,children:v.map((s,y)=>n.jsx(L,{fill:ve[s.camp]||`var(--chart-color-${y%6+1})`},`cell-${y}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{ka as PlayerCampPerformanceChart};
