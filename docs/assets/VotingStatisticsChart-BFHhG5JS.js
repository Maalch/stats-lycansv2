import{r as m,a as X,u as Y,j as e}from"./index-CelQhd-P.js";import{F as f,B as j,C as b,X as S,Y as P,a as A,b as k}from"./FullscreenChart-6lUPclmS.js";import{u as Q}from"./datasyncExport-DvHWc5I-.js";import{c as U}from"./votingStatsUtils-DoHWBznQ.js";import{u as Z}from"./useJoueursData-6OSwiM1f.js";import{u as _}from"./api-BSUr5ep-.js";import{R as T,T as R}from"./CategoricalChart-CPh_AHfG.js";function W(){return Q(o=>{if(!o||o.length===0)return null;const c=o.filter(N=>N.PlayerStats.some(g=>g.Votes&&g.Votes.length>0));return c.length===0?null:U(c)})}function ee(o=5){const{data:c,isLoading:N,error:g}=W();return{data:m.useMemo(()=>c?{...c,playerBehaviorStats:c.playerBehaviorStats.filter(p=>p.totalMeetings>=o),playerAccuracyStats:c.playerAccuracyStats.filter(p=>p.totalVotes>=Math.ceil(o*.6)),playerTargetStats:c.playerTargetStats.filter(p=>p.totalTimesTargeted>=Math.ceil(o*.3))}:null,[c,o]),isLoading:N,error:g}}function ne(){const{settings:o}=X(),{navigateToGameDetails:c}=Y(),{joueursData:N}=Z(),g=_(N),[y,p]=m.useState("overview"),[d,v]=m.useState("behavior"),[C,I]=m.useState(25),[u,h]=m.useState(null),{data:w,isLoading:$,error:z}=W(),{data:l}=ee(C),x=r=>{r&&r.playerName&&c({selectedPlayer:r.playerName,fromComponent:"Statistiques de Vote"})},{behaviorChartData:H,highlightedPlayerInBehavior:q}=m.useMemo(()=>{if(!l)return{behaviorChartData:[],highlightedPlayerInBehavior:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.aggressivenessScore-a.aggressivenessScore).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{behaviorChartData:t,highlightedPlayerInBehavior:i}},[l,o.highlightedPlayer]),{accuracyChartData:D,highlightedPlayerInAccuracy:E}=m.useMemo(()=>{if(!l)return{accuracyChartData:[],highlightedPlayerInAccuracy:!1};const r=[...l.playerAccuracyStats].sort((a,n)=>n.accuracyRate-a.accuracyRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerAccuracyStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{accuracyChartData:t,highlightedPlayerInAccuracy:i}},[l,o.highlightedPlayer]),{targetChartData:V,highlightedPlayerInTargets:J}=m.useMemo(()=>{if(!l)return{targetChartData:[],highlightedPlayerInTargets:!1};const r=[...l.playerTargetStats].sort((a,n)=>n.survivalRate-a.survivalRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerTargetStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{targetChartData:t,highlightedPlayerInTargets:i}},[l,o.highlightedPlayer]),{voteRateChartData:B,highlightedPlayerInVoteRate:K}=m.useMemo(()=>{if(!l)return{voteRateChartData:[],highlightedPlayerInVoteRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.votingRate-a.votingRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{voteRateChartData:t,highlightedPlayerInVoteRate:i}},[l,o.highlightedPlayer]),{skipRateChartData:F,highlightedPlayerInSkipRate:L}=m.useMemo(()=>{if(!l)return{skipRateChartData:[],highlightedPlayerInSkipRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.skippingRate-a.skippingRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{skipRateChartData:t,highlightedPlayerInSkipRate:i}},[l,o.highlightedPlayer]),{abstentionRateChartData:M,highlightedPlayerInAbstentionRate:O}=m.useMemo(()=>{if(!l)return{abstentionRateChartData:[],highlightedPlayerInAbstentionRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.abstentionRate-a.abstentionRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{abstentionRateChartData:t,highlightedPlayerInAbstentionRate:i}},[l,o.highlightedPlayer]);if($)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de vote..."});if(z)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",z]});if(!w||!l)return e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de vote disponible"});const G=[5,15,25,50,100,200,400];return e.jsxs("div",{className:"lycans-voting-statistics",children:[e.jsx("h2",{children:"ðŸ“Š Statistiques de Vote"}),e.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",flexDirection:"column",gap:"1.5rem",marginBottom:"2rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>{p("overview"),v("behavior")},style:{background:y==="overview"?"var(--accent-primary)":"var(--bg-tertiary)",color:y==="overview"?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:y==="overview"?"bold":"normal",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ“Š Vue d'Ensemble"}),e.jsx("button",{onClick:()=>{p("behavior"),v("voteRate")},style:{background:y==="behavior"?"var(--accent-primary)":"var(--bg-tertiary)",color:y==="behavior"?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:y==="behavior"?"bold":"normal",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ—³ï¸ Comportements de Vote"})]}),e.jsxs("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",flexWrap:"wrap",alignItems:"center"},children:[y==="overview"&&e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>v("behavior"),style:{background:d==="behavior"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="behavior"?"bold":"normal"},children:"Score d'AgressivitÃ©"}),e.jsx("button",{onClick:()=>v("accuracy"),style:{background:d==="accuracy"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="accuracy"?"bold":"normal"},children:"PrÃ©cision des Votes"}),e.jsx("button",{onClick:()=>v("targets"),style:{background:d==="targets"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="targets"?"bold":"normal"},children:"Joueurs CiblÃ©s"})]}),y==="behavior"&&e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>v("voteRate"),style:{background:d==="voteRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="voteRate"?"bold":"normal"},children:"Taux de Vote"}),e.jsx("button",{onClick:()=>v("skipRate"),style:{background:d==="skipRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="skipRate"?"bold":"normal"},children:'Taux de "PassÃ©"'}),e.jsx("button",{onClick:()=>v("abstentionRate"),style:{background:d==="abstentionRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="abstentionRate"?"bold":"normal"},children:"Taux d'Abstention"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"var(--bg-secondary)"},children:[e.jsx("label",{htmlFor:"min-meetings-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. meetings:"}),e.jsx("select",{id:"min-meetings-select",value:C,onChange:r=>I(Number(r.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:G.map(r=>e.jsx("option",{value:r,children:r},r))})]})]})]}),e.jsxs("div",{className:"lycans-graphiques-groupe",children:[d==="behavior"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ—³ï¸ Score d'AgressivitÃ©"}),q&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:`Score basÃ© sur le taux de vote, les abstentions et les "passÃ©s". Plus c'est haut, plus le joueur vote activement.`}),e.jsx(f,{title:"Score d'AgressivitÃ©",children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:H,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:"Score d'AgressivitÃ© (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Votes: ",t.totalVotes," (",t.votingRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["PassÃ©s: ",t.totalSkips," (",t.skippingRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["Absents: ",t.totalAbstentions," (",t.abstentionRate.toFixed(1),"%)"]}),e.jsx("div",{children:e.jsxs("strong",{children:["Score: ",t.aggressivenessScore.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"aggressivenessScore",style:{cursor:"pointer"},onClick:x,children:H.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||(r.aggressivenessScore>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-behavior-${s}`)})})]})})})})]}),d==="accuracy"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸŽ¯ PrÃ©cision des Votes - Taux de Votes Justes"}),E&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de votes dirigÃ©s contre le camp adverse (et non contre son propre camp)."}),e.jsx(f,{title:"PrÃ©cision des Votes - Taux de Votes Justes",children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:D,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:"Taux de PrÃ©cision (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Nombre de meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Total de votes: ",t.totalVotes]}),e.jsxs("div",{children:["Votes justes: ",t.votesForEnemyCamp," (",t.accuracyRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["Feu ami: ",t.votesForOwnCamp," (",t.friendlyFireRate.toFixed(1),"%)"]}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"accuracyRate",style:{cursor:"pointer"},onClick:x,children:D.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||(r.accuracyRate>=50?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-accuracy-${s}`)})})]})})})})]}),d==="targets"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ”» Joueurs CiblÃ©s - Taux de Survie aux Votes"}),J&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de fois oÃ¹ le joueur a survÃ©cu aprÃ¨s avoir Ã©tÃ© ciblÃ© par au moins un vote."}),e.jsx(f,{title:"Joueurs CiblÃ©s - Taux de Survie aux Votes",children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:V,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:"Taux de Survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Fois ciblÃ©: ",t.totalTimesTargeted]}),e.jsxs("div",{children:["Ã‰liminÃ© par vote: ",t.eliminationsByVote]}),e.jsxs("div",{children:["Taux de survie: ",t.survivalRate.toFixed(1),"%"]}),e.jsxs("div",{children:["Par camp ennemi: ",t.timesTargetedByEnemyCamp]}),e.jsxs("div",{children:["Par propre camp: ",t.timesTargetedByOwnCamp]}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"survivalRate",style:{cursor:"pointer"},onClick:x,children:V.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||(r.survivalRate>=50?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-targets-${s}`)})})]})})})})]}),d==="voteRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ“Š Taux de Vote - Top 15"}),K&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:'Pourcentage de meetings oÃ¹ le joueur a votÃ© activement (hors "PassÃ©").'}),e.jsx(f,{title:"Taux de Vote - Top 15",children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:B,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:"Taux de Vote (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Votes: ",t.totalVotes]}),e.jsx("div",{children:e.jsxs("strong",{children:["Taux de vote: ",t.votingRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"votingRate",style:{cursor:"pointer"},onClick:x,children:B.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||"var(--accent-tertiary)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-voterate-${s}`)})})]})})})})]}),d==="skipRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:'â­ï¸ Taux de "PassÃ©" - Top 15'}),L&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:'Pourcentage de meetings oÃ¹ le joueur a votÃ© "PassÃ©".'}),e.jsx(f,{title:'Taux de "PassÃ©" - Top 15',children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:F,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:'Taux de "PassÃ©" (%)',angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:['Votes "PassÃ©": ',t.totalSkips]}),e.jsx("div",{children:e.jsxs("strong",{children:['Taux de "PassÃ©": ',t.skippingRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"skippingRate",style:{cursor:"pointer"},onClick:x,children:F.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||"var(--accent-warning)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-skiprate-${s}`)})})]})})})})]}),d==="abstentionRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸš« Taux d'Abstention - Top 15"}),O&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de meetings oÃ¹ le joueur n'a pas votÃ© du tout."}),e.jsx(f,{title:"Taux d'Abstention - Top 15",children:e.jsx("div",{style:{height:500},children:e.jsx(T,{width:"100%",height:"100%",children:e.jsxs(j,{data:M,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(b,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(P,{label:{value:"Taux d'Abstention (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(R,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Abstentions: ",t.totalAbstentions]}),e.jsx("div",{children:e.jsxs("strong",{children:["Taux d'abstention: ",t.abstentionRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(A,{dataKey:"abstentionRate",style:{cursor:"pointer"},onClick:x,children:M.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=u===r.playerName,a=r.isHighlightedAddition;return e.jsx(k,{fill:g[r.playerName]||"var(--accent-danger)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-abstentionrate-${s}`)})})]})})})})]})]})]})}export{ne as VotingStatisticsChart};
