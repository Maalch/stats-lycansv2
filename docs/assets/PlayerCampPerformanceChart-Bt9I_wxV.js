import{r as c,u as ce,j as i}from"./index-DnCUldaj.js";import{u as me}from"./baseStatsHook-CbwoiWzI.js";import{g as W}from"./gameUtils-ZH6YLU-8.js";import{m as de,p as J,a as pe}from"./api-DmJeUsCZ.js";import{S as Z,d as ue,u as fe,b as L,G as ye,e as ve,f as he,g as xe,h as ge,i as Pe,F as U,B as H,C as K,X as F,Y as M,a as X}from"./FullscreenChart-DFVQdjup.js";import{m as S,u as be,n as je,o as Ae,S as Ce,p as ee,q as we,t as ae,v as re,w as Se,x as Ie,y as Ee,z as te,A as Oe,B as Re,b as Te,d as ne,C as _e,G as Ne,D as ze,i as De,E,L as T,F as D,H as Y,I as Ke,J as Fe,K as z,h as B,M as Me,N as ke,O as Ge,P as We,Q as Le,U as Be,V as Ve,W as $e,R as k,T as G}from"./CategoricalChart-CtFC3BoD.js";function ie(e,a,r){return(a=qe(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function qe(e){var a=Je(e,"string");return typeof a=="symbol"?a:a+""}function Je(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function Ze(e){var a=be();return c.useEffect(()=>(a(je(e)),()=>{a(Ae(e))}),[e,a]),null}class V extends c.Component{render(){return c.createElement(Ze,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:S.allowDuplicatedCategory,allowDataOverflow:S.allowDataOverflow,reversed:S.reversed,includeHidden:S.includeHidden})}}ie(V,"displayName","ZAxis");ie(V,"defaultProps",{zAxisId:0,range:S.range,scale:S.scale,type:S.type});var Ue=["option","isActive"];function R(){return R=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},R.apply(null,arguments)}function He(e,a){if(e==null)return{};var r,t,o=Xe(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Xe(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function Ye(e){var{option:a,isActive:r}=e,t=He(e,Ue);return typeof a=="string"?c.createElement(Z,R({option:c.createElement(Ce,R({type:a},t)),isActive:r,shapeType:"symbols"},t)):c.createElement(Z,R({option:a,isActive:r,shapeType:"symbols"},t))}var Qe=(e,a,r,t,o,n,l)=>ae(e,"xAxis",a,l),ea=(e,a,r,t,o,n,l)=>re(e,"xAxis",a,l),aa=(e,a,r,t,o,n,l)=>ae(e,"yAxis",r,l),ra=(e,a,r,t,o,n,l)=>re(e,"yAxis",r,l),ta=(e,a,r,t)=>Se(e,"zAxis",t,!1),na=(e,a,r,t,o)=>o,ia=(e,a,r,t,o,n)=>n,sa=(e,a,r,t,o,n,l)=>we(e,a,r,l),oa=ee([Ie,na],(e,a)=>{if(e.some(r=>r.type==="scatter"&&a.dataKey===r.dataKey&&a.data===r.data))return a}),la=ee([sa,Qe,ea,aa,ra,ta,oa,ia],(e,a,r,t,o,n,l,f)=>{var{chartData:y,dataStartIndex:m,dataEndIndex:g}=e;if(l!=null){var v;if(l?.data!=null&&l.data.length>0?v=l.data:v=y?.slice(m,g+1),!(v==null||a==null||t==null||r==null||o==null||r?.length===0||o?.length===0))return ga({displayedData:v,xAxis:a,yAxis:t,zAxis:n,scatterSettings:l,xAxisTicks:r,yAxisTicks:o,cells:f})}}),ca=["onMouseEnter","onClick","onMouseLeave"],ma=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function se(e,a){if(e==null)return{};var r,t,o=da(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)r=n[t],a.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function da(e,a){if(e==null)return{};var r={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(a.indexOf(t)!==-1)continue;r[t]=e[t]}return r}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var t in r)({}).hasOwnProperty.call(r,t)&&(e[t]=r[t])}return e},O.apply(null,arguments)}function Q(e,a){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,t)}return r}function j(e){for(var a=1;a<arguments.length;a++){var r=arguments[a]!=null?arguments[a]:{};a%2?Q(Object(r),!0).forEach(function(t){$(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e,a,r){return(a=pa(a))in e?Object.defineProperty(e,a,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[a]=r,e}function pa(e){var a=ua(e,"string");return typeof a=="symbol"?a:a+""}function ua(e,a){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var t=r.call(e,a);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var fa=e=>{var{dataKey:a,name:r,fill:t,legendType:o,hide:n}=e;return[{inactive:n,dataKey:a,type:o,color:t,value:te(r,a),payload:e}]};function ya(e){var{points:a,props:r}=e,{line:t,lineType:o,lineJointType:n}=r;if(!t)return null;var l=B(r,!1),f=B(t,!1),y,m;if(o==="joint")y=a.map(p=>({x:p.cx,y:p.cy}));else if(o==="fitting"){var{xmin:g,xmax:v,a:P,b}=Be(a),A=p=>P*p+b;y=[{x:g,y:A(g)},{x:v,y:A(v)}]}var x=j(j(j({},l),{},{fill:"none",stroke:l&&l.fill},f),{},{points:y});return c.isValidElement(t)?m=c.cloneElement(t,x):typeof t=="function"?m=t(x):m=c.createElement(Ve,O({},x,{type:n})),c.createElement(T,{className:"recharts-scatter-line",key:"recharts-scatter-line"},m)}function oe(e){var{points:a,showLabels:r,allOtherScatterProps:t}=e,{shape:o,activeShape:n,dataKey:l}=t,f=B(t,!1),y=ne(Me),{onMouseEnter:m,onClick:g,onMouseLeave:v}=t,P=se(t,ca),b=he(m,t.dataKey),A=xe(v),x=ge(g,t.dataKey);return a==null?null:c.createElement(c.Fragment,null,c.createElement(ya,{points:a,props:t}),a.map((p,s)=>{var d=n&&y===String(s),u=d?n:o,C=j(j(j({key:"symbol-".concat(s)},f),p),{},{[Ge]:s,[ke]:String(l)});return c.createElement(T,O({className:"recharts-scatter-symbol"},We(P,p,s),{onMouseEnter:b(p,s),onMouseLeave:A(p,s),onClick:x(p,s),key:"symbol-".concat(p?.cx,"-").concat(p?.cy,"-").concat(p?.size,"-").concat(s)}),c.createElement(Ye,O({option:u,isActive:d},C)))}),r&&Le.renderCallByParent(t,a))}function va(e){var{previousPointsRef:a,props:r}=e,{points:t,isAnimationActive:o,animationBegin:n,animationDuration:l,animationEasing:f}=r,y=a.current,m=Ke(r,"recharts-scatter-"),[g,v]=c.useState(!1),P=c.useCallback(()=>{v(!1)},[]),b=c.useCallback(()=>{v(!0)},[]);return c.createElement(Fe,{begin:n,duration:l,isActive:o,easing:f,from:{t:0},to:{t:1},onAnimationEnd:P,onAnimationStart:b,key:m},A=>{var{t:x}=A,p=x===1?t:t.map((s,d)=>{var u=y&&y[d];if(u){var C=z(u.cx,s.cx),I=z(u.cy,s.cy),w=z(u.size,s.size);return j(j({},s),{},{cx:C(x),cy:I(x),size:w(x)})}var h=z(0,s.size);return j(j({},s),{},{size:h(x)})});return x>0&&(a.current=p),c.createElement(T,null,c.createElement(oe,{points:p,allOtherScatterProps:r,showLabels:!g}))})}function ha(e){var{points:a,isAnimationActive:r}=e,t=c.useRef(null),o=t.current;return r&&a&&a.length&&(!o||o!==a)?c.createElement(va,{props:e,previousPointsRef:t}):c.createElement(oe,{points:a,allOtherScatterProps:e,showLabels:!0})}function xa(e){var{dataKey:a,points:r,stroke:t,strokeWidth:o,fill:n,name:l,hide:f,tooltipType:y}=e;return{dataDefinedOnItem:r?.map(m=>m.tooltipPayload),positions:r?.map(m=>m.tooltipPosition),settings:{stroke:t,strokeWidth:o,fill:n,nameKey:void 0,dataKey:a,name:te(l,a),hide:f,type:y,color:n,unit:""}}}function ga(e){var{displayedData:a,xAxis:r,yAxis:t,zAxis:o,scatterSettings:n,xAxisTicks:l,yAxisTicks:f,cells:y}=e,m=E(r.dataKey)?n.dataKey:r.dataKey,g=E(t.dataKey)?n.dataKey:t.dataKey,v=o&&o.dataKey,P=o?o.range:V.defaultProps.range,b=P&&P[0],A=r.scale.bandwidth?r.scale.bandwidth():0,x=t.scale.bandwidth?t.scale.bandwidth():0;return a.map((p,s)=>{var d=D(p,m),u=D(p,g),C=!E(v)&&D(p,v)||"-",I=[{name:E(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:d,payload:p,dataKey:m,type:n.tooltipType},{name:E(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:u,payload:p,dataKey:g,type:n.tooltipType}];C!=="-"&&I.push({name:o.name||o.dataKey,unit:o.unit||"",value:C,payload:p,dataKey:v,type:n.tooltipType});var w=Y({axis:r,ticks:l,bandSize:A,entry:p,index:s,dataKey:m}),h=Y({axis:t,ticks:f,bandSize:x,entry:p,index:s,dataKey:g}),_=C!=="-"?o.scale(C):b,N=Math.sqrt(Math.max(_,0)/Math.PI);return j(j({},p),{},{cx:w,cy:h,x:w-N,y:h-N,width:2*N,height:2*N,size:_,node:{x:d,y:u,z:C},tooltipPayload:I,tooltipPosition:{x:w,y:h},payload:p},y&&y[s]&&y[s].props)})}var Pa=(e,a,r)=>({x:e.cx,y:e.cy,value:r==="x"?+e.node.x:+e.node.y,errorVal:D(e,a)});function ba(e){var a=c.useRef(ze("recharts-scatter-")),{hide:r,points:t,className:o,needClip:n,xAxisId:l,yAxisId:f,id:y,children:m}=e;if(r)return null;var g=De("recharts-scatter",o),v=E(y)?a.current:y;return c.createElement(T,{className:g,clipPath:n?"url(#clipPath-".concat(v,")"):null},n&&c.createElement("defs",null,c.createElement(ye,{clipPathId:v,xAxisId:l,yAxisId:f})),c.createElement(ve,{xAxisId:l,yAxisId:f,data:t,dataPointFormatter:Pa,errorBarOffset:0},m),c.createElement(T,{key:"recharts-scatter-symbols"},c.createElement(ha,e)))}var le={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ne.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function ja(e){var a=Oe(e,le),{animationBegin:r,animationDuration:t,animationEasing:o,hide:n,isAnimationActive:l,legendType:f,lineJointType:y,lineType:m,shape:g,xAxisId:v,yAxisId:P,zAxisId:b}=a,A=se(a,ma),{needClip:x}=fe(v,P),p=c.useMemo(()=>Re(e.children,L),[e.children]),s=c.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),d=Te(),u=ne(C=>la(C,v,P,b,s,p,d));return x==null?null:c.createElement(c.Fragment,null,c.createElement(_e,{fn:xa,args:j(j({},e),{},{points:u})}),c.createElement(ba,O({},A,{xAxisId:v,yAxisId:P,zAxisId:b,lineType:m,lineJointType:y,legendType:f,shape:g,hide:n,isAnimationActive:l,animationBegin:r,animationDuration:t,animationEasing:o,points:u,needClip:x})))}class q extends c.Component{render(){return c.createElement(ue,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},c.createElement(Ee,{legendPayload:fa(this.props)}),c.createElement(ja,this.props))}}$(q,"displayName","Scatter");$(q,"defaultProps",le);var Aa=["item"],Ca=c.forwardRef((e,a)=>c.createElement(Pe,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Aa,tooltipPayloadSearcher:$e,categoricalChartProps:e,ref:a}));function wa(e){const a={};return e.forEach(r=>{const t=new Set;r.PlayerStats.forEach(n=>{const l=W(n.MainRoleInitial);t.add(l)}),t.forEach(n=>{a[n]||(a[n]={totalGames:0,wins:0,winRate:0,players:{}}),a[n].totalGames++});const o=new Set;r.PlayerStats.forEach(n=>{if(n.Victorious){const l=W(n.MainRoleInitial);o.add(l)}}),o.forEach(n=>{a[n]&&a[n].wins++})}),a}function Sa(e,a){const r={};return e.forEach(t=>{t.PlayerStats.forEach(o=>{const n=o.Username.trim();if(!n)return;const l=W(o.MainRoleInitial);a[l].players[n]||(a[l].players[n]={games:0,wins:0,winRate:0}),a[l].players[n].games++,o.Victorious&&a[l].players[n].wins++,r[n]||(r[n]={totalGames:0,camps:{}}),r[n].camps[l]||(r[n].camps[l]={games:0,wins:0,winRate:0,performance:0}),r[n].totalGames++,r[n].camps[l].games++,o.Victorious&&r[n].camps[l].wins++})}),r}function Ia(e){Object.keys(e).forEach(a=>{e[a].totalGames>0&&(e[a].winRate=parseFloat((e[a].wins/e[a].totalGames*100).toFixed(2))),Object.keys(e[a].players).forEach(r=>{const t=e[a].players[r];t.games>0&&(t.winRate=parseFloat((t.wins/t.games*100).toFixed(2)))})})}function Ea(e,a){Object.keys(e).forEach(r=>{Object.keys(e[r].camps).forEach(t=>{const o=e[r].camps[t];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),a[t]&&a[t].winRate&&(o.performance=parseFloat((o.winRate-a[t].winRate).toFixed(2))))})})}function Oa(e,a,r){const t=[];return Object.keys(e).forEach(n=>{const l=e[n],f=[];Object.keys(l.camps).forEach(y=>{const m=l.camps[y];m.games>=r&&f.push({camp:y,games:m.games,wins:m.wins,winRate:m.winRate.toFixed(2),campAvgWinRate:a[y].winRate.toFixed(2),performance:m.performance.toFixed(2)})}),f.sort((y,m)=>parseFloat(m.performance)-parseFloat(y.performance)),f.length>0&&t.push({player:n,totalGames:l.totalGames,campPerformance:f})}),t.sort((n,l)=>l.totalGames-n.totalGames),{campAverages:Object.keys(a).map(n=>({camp:n,totalGames:a[n].totalGames,wins:a[n].wins,winRate:a[n].winRate.toFixed(2)})),playerPerformanceArray:t}}function Ra(e){if(e.length===0)return null;const a=wa(e),r=Sa(e,a);Ia(a),Ea(r,a);const t=5,{campAverages:o,playerPerformanceArray:n}=Oa(r,a,t);return{campAverages:o,playerPerformance:n,minGamesRequired:t}}function Ta(){const{data:e,isLoading:a,error:r}=me(Ra);return{playerCampPerformance:e,isLoading:a,error:r}}function Ma(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:r}=ce(),[t,o]=c.useState(a.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[n,l]=c.useState(a.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[f,y]=c.useState(a.campPerformanceState?.selectedCampPerformanceMinGames||5),{playerCampPerformance:m,isLoading:g,error:v}=Ta();c.useEffect(()=>{a.campPerformanceState||r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:f}})},[t,n,f,a.campPerformanceState,r]);const P=c.useMemo(()=>m?.campAverages?m.campAverages.map(s=>s.camp).sort():[],[m]),{campPlayerData:b,topPerformersData:A}=c.useMemo(()=>{if(!m?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=m,d=[],u=[];for(const w of s)for(const h of w.campPerformance)if(h.games>=f){const _={player:w.player,camp:h.camp,games:h.games,wins:h.wins,winRate:h.winRate,performance:h.performance,winRateNum:parseFloat(h.winRate),performanceNum:parseFloat(h.performance),campAvgWinRateNum:parseFloat(h.campAvgWinRate)};u.push(_),h.camp===n&&d.push({player:w.player,...h,winRateNum:parseFloat(h.winRate),performanceNum:parseFloat(h.performance),campAvgWinRateNum:parseFloat(h.campAvgWinRate)})}const C=d.sort((w,h)=>h.performanceNum-w.performanceNum),I=u.sort((w,h)=>h.performanceNum-w.performanceNum).slice(0,20);return{campPlayerData:C,topPerformersData:I}},[m,n,f]),x=s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:n,campFilterMode:"wins-only"},fromComponent:`Performance des Joueurs - ${n}`})},p=s=>{s&&s.player&&s.camp&&e({selectedPlayer:s.player,campFilter:{selectedCamp:s.camp,campFilterMode:"wins-only"},fromComponent:`Top 20 des Performances (Min. ${f} parties dans ce camp)`})};return g?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):v?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",v]}):m?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),i.jsxs("select",{id:"view-mode-select",value:t,onChange:s=>{const d=s.target.value;o(d),r({campPerformanceState:{selectedCampPerformanceView:d,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[i.jsx("option",{value:"player-performance",children:"Camp"}),i.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),t==="player-performance"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:n,onChange:s=>{const d=s.target.value;l(d),r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(s=>i.jsx("option",{value:s,children:s},s))})]}),(t==="player-performance"||t==="top-performers")&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:f,onChange:s=>{const d=Number(s.target.value);y(d),r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:d}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:de.map(s=>i.jsx("option",{value:s,children:s},s))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:m.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:m.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[t==="player-performance"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Performance des Joueurs - ",n]}),i.jsx(U,{title:`Performance des Joueurs - ${n}`,children:i.jsx("div",{style:{height:500},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(H,{data:b.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[i.jsx(K,{strokeDasharray:"3 3"}),i.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),i.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:s,payload:d})=>{if(s&&d&&d.length>0){const u=d[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:u.player})}),i.jsxs("div",{children:["Parties: ",u.games]}),i.jsxs("div",{children:["Victoires: ",u.wins]}),i.jsxs("div",{children:["Taux personnel: ",u.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",u.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",u.performance>0?"+":"",u.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(X,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:x,children:b.slice(0,15).map((s,d)=>i.jsx(L,{fill:J[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${d}`))})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",n]}),i.jsx(U,{title:`Relation Parties Jouées vs Performance - ${n}`,children:i.jsx("div",{style:{height:400},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(Ca,{data:b,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(K,{strokeDasharray:"3 3"}),i.jsx(F,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(M,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:s,payload:d})=>{if(s&&d&&d.length>0){const u=d[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:u.player})}),i.jsxs("div",{children:["Parties: ",u.games]}),i.jsxs("div",{children:["Performance: ",u.performance>0?"+":"",u.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(q,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:n,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${n}`})},shape:s=>i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:s.cx,cy:s.cy,r:12,fill:J[s.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),i.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),t==="top-performers"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances (Min. ${f} parties dans ce camp)`}),i.jsx("div",{style:{height:600},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(H,{data:A,margin:{top:20,right:30,left:20,bottom:100},children:[i.jsx(K,{strokeDasharray:"3 3"}),i.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),i.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:s,payload:d})=>{if(s&&d&&d.length>0){const u=d[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:u.player})}),i.jsxs("div",{children:["Camp: ",u.camp]}),i.jsxs("div",{children:["Parties: ",u.games]}),i.jsxs("div",{children:["Taux personnel: ",u.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",u.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(X,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:p,children:A.map((s,d)=>i.jsx(L,{fill:pe[s.camp]||`var(--chart-color-${d%6+1})`},`cell-${d}`))})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ma as PlayerCampPerformanceChart};
