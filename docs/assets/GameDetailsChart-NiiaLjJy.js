import{u as W,r as D,j as e}from"./index-BI7qZdO0.js";import{b as O}from"./baseStatsHook-B9JXGa7Y.js";import{a as E}from"./api-DmJeUsCZ.js";function J(a,n){if(!a)return null;try{const s=new URL(a);let t="",l=0;if(s.hostname==="youtu.be"){t=s.pathname.slice(1);const c=s.searchParams.get("t");c&&(l=parseInt(c,10)||0)}else if(s.hostname==="www.youtube.com"||s.hostname==="youtube.com"){t=s.searchParams.get("v")||"";const c=s.searchParams.get("t");c&&(l=parseInt(c,10)||0)}if(!t)return null;const r=`https://www.youtube.com/embed/${t}?start=${l}`;if(n)try{const c=new URL(n);let u=0;if(c.hostname==="youtu.be"){const p=c.searchParams.get("t");p&&(u=parseInt(p,10)||0)}else if(c.hostname==="www.youtube.com"||c.hostname==="youtube.com"){const p=c.searchParams.get("t");p&&(u=parseInt(p,10)||0)}if(u>l)return`${r}&end=${u}`}catch(c){console.warn("Failed to parse end URL:",n,c)}return r}catch(s){return console.warn("Failed to create YouTube embed URL:",a,s),null}}function z(a,n){if(!a||!n)return null;try{const s=new Date(a),t=new Date(n);if(isNaN(s.getTime())||isNaN(t.getTime()))return console.warn("Invalid date format:",a,n),null;const l=t.getTime()-s.getTime();return l>0?Math.round(l/1e3):null}catch(s){return console.warn("Failed to calculate game duration:",a,n,s),null}}function q(a,n,s=!1){const t=n.PlayerStats.find(r=>r.Username.toLowerCase()===a.toLowerCase());if(!t)return"Villageois";const l=t.MainRoleInitial;return l==="TraÃ®tre"?s?"TraÃ®tre":"Loup":l}function Y(a,n,s){const t=a.toLowerCase(),l=s.PlayerStats.find(c=>c.Username.toLowerCase()===t);if(!l)return!1;const r=l.MainRoleInitial;switch(n){case"TraÃ®tre":return r==="TraÃ®tre";case"Idiot du Village":return r==="Idiot du Village";case"Cannibale":return r==="Cannibale";case"Agent":return r==="Agent";case"Espion":return r==="Espion";case"Scientifique":return r==="Scientifique";case"Amoureux":return r==="Amoureux";case"La BÃªte":return r==="La BÃªte";case"Chasseur de primes":return r==="Chasseur de primes";case"Vaudou":return r==="Vaudou";case"Villageois":return!["Loup","TraÃ®tre","Idiot du Village","Cannibale","Agent","Espion","Scientifique","Amoureux","La BÃªte","Chasseur de primes","Vaudou"].includes(r);default:return!1}}function _(a,n,s){const t=a.filter(l=>l.PlayerStats.some(r=>r.Username.toLowerCase()===n.toLowerCase()));return!s||s==="all-assignments"?t:s==="wins-only"?t.filter(l=>l.PlayerStats.some(r=>r.Username.toLowerCase()===n.toLowerCase()&&r.Victorious)):t}function K(a,n){const s=n-1;return a.filter((t,l)=>l===s)}function Q(a,n){const s=n.map(t=>t-1);return a.filter((t,l)=>s.includes(l))}function X(a,n){return a.filter(s=>{const l=new Date(s.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});if(n.includes("/")&&n.split("/").length===2){const[r,c]=n.split("/"),u=l.split("/");if(u.length===3){const[,p,o]=u;return p===r&&o===c}}else return l===n;return!1})}function Z(a,n){return a.filter(s=>{const t=s.HarvestGoal,l=s.HarvestDone;if(t==null||l===null||l===void 0||t===0)return!1;const r=l/t*100;switch(n){case"0-25%":return r>=0&&r<=25;case"26-50%":return r>25&&r<=50;case"51-75%":return r>50&&r<=75;case"76-99%":return r>75&&r<=99;case"100%":return r>=100;default:return!0}})}function ee(a,n){return a.filter(s=>{if(!s.EndTiming)return!1;const t=s.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);return t?parseInt(t[1],10)===n:!1})}function ae(a,n,s){const{selectedCamp:t,campFilterMode:l,_smallCamps:r,excludeTraitor:c}=n;return a.filter(u=>{if(s){if(t==="Autres"&&r)return r.some(o=>Y(s,o,u));const p=q(s,u,c);return t==="Loup"&&c?p==="Loup"&&!u.PlayerStats.some(o=>o.Username.toLowerCase()===s.toLowerCase()&&o.MainRoleInitial==="TraÃ®tre"):p==="Agent"&&t==="Agent"?u.PlayerStats.find(m=>m.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:p===t}else if(l==="wins-only"){const p=A(u);return t==="Autres"&&r?r.includes(p):p===t}else return t==="Autres"&&r?r.some(p=>u.PlayerStats.some(o=>{const m=o.MainRoleInitial;switch(p){case"TraÃ®tre":return m==="TraÃ®tre";case"Idiot du Village":return m==="Idiot du Village";case"Cannibale":return m==="Cannibale";case"Agent":return m==="Agent";case"Espion":return m==="Espion";case"Scientifique":return m==="Scientifique";case"Amoureux":return m==="Amoureux";case"La BÃªte":return m==="La BÃªte";case"Chasseur de primes":return m==="Chasseur de primes";case"Vaudou":return m==="Vaudou";case"Villageois":return!["Loup","TraÃ®tre","Idiot du Village","Cannibale","Agent","Espion","Scientifique","Amoureux","La BÃªte","Chasseur de primes","Vaudou"].includes(m);default:return!1}})):u.PlayerStats.some(p=>{const o=p.MainRoleInitial;switch(t){case"Loup":return o==="Loup";case"TraÃ®tre":return o==="TraÃ®tre";case"Villageois":return!["Loup","TraÃ®tre","Idiot du Village","Cannibale","Agent","Espion","Scientifique","Amoureux","La BÃªte","Chasseur de primes","Vaudou"].includes(o);case"Idiot du Village":return o==="Idiot du Village";case"Cannibale":return o==="Cannibale";case"Agent":return o==="Agent";case"Espion":return o==="Espion";case"Scientifique":return o==="Scientifique";case"Amoureux":return o==="Amoureux";case"La BÃªte":return o==="La BÃªte";case"Chasseur de primes":return o==="Chasseur de primes";case"Vaudou":return o==="Vaudou";default:return o===t}})})}function A(a){const n=a.PlayerStats.find(t=>t.Victorious);if(!n)return"";const s=n.MainRoleInitial;switch(s){case"Loup":case"TraÃ®tre":return"Loup";case"Villageois":return"Villageois";case"Amoureux":return"Amoureux";case"Idiot du Village":case"Cannibale":case"Agent":case"Espion":case"Scientifique":case"La BÃªte":case"Chasseur de primes":case"Vaudou":return s;default:return s}}function se(a,n,s){const{selectedPlayers:t,playersFilterMode:l,winnerPlayer:r}=n;return a.filter(c=>{const u=c.PlayerStats.map(m=>m.Username.toLowerCase());if(!t.every(m=>u.includes(m.toLowerCase())))return!1;const o=t.map(m=>q(m,c));switch(l){case"all-common-games":return r?c.PlayerStats.find(j=>j.Username.toLowerCase()===r.toLowerCase())?.Victorious===!0:!0;case"opposing-camps":const m=o.map(v=>v==="TraÃ®tre"?"Loup":v);if(!([...new Set(m)].length>1))return!1;if(r){const v=t.findIndex(j=>j.toLowerCase()===r.toLowerCase());if(v!==-1){const j=m[v],P=A(c),C=P==="TraÃ®tre"?"Loup":P;return j==="Agent"&&C==="Agent"?c.PlayerStats.find(I=>I.Username.toLowerCase()===r.toLowerCase())?.Victorious===!0:j===C}}return!0;case"same-camp":const N=o.map(v=>v==="TraÃ®tre"?"Loup":v);if(!([...new Set(N)].length===1))return!1;const R=N[0];if(s&&s.selectedCamp){const v=s.selectedCamp;if(v==="Loup"&&s.excludeTraitor&&(!t.every(C=>o[t.indexOf(C)]==="Loup")||t.some(C=>c.PlayerStats.find(I=>I.Username.toLowerCase()===C.toLowerCase())?.MainRoleInitial==="TraÃ®tre"))||R!==v)return!1}if(r){const v=A(c),j=v==="TraÃ®tre"?"Loup":v;return R==="Agent"&&j==="Agent"?t.every(P=>c.PlayerStats.find(b=>b.Username.toLowerCase()===P.toLowerCase())?.Victorious===!0):R===j}return!0;default:return!0}})}function te(a,n){const{selectedPlayerPair:s,selectedPairRole:t}=n;return s.length!==2?a:a.filter(l=>{const r=l.PlayerStats.map(u=>u.Username.toLowerCase());if(!s.every(u=>r.includes(u.toLowerCase())))return!1;switch(t){case"wolves":return s.every(u=>l.PlayerStats.find(o=>o.Username.toLowerCase()===u.toLowerCase())?.MainRoleInitial==="Loup");case"lovers":return s.every(u=>l.PlayerStats.find(o=>o.Username.toLowerCase()===u.toLowerCase())?.MainRoleInitial==="Amoureux");default:return!0}})}function ne(a,n){if(!n)return a;let s=[...a];return n.selectedPlayer&&(s=_(s,n.selectedPlayer,n.selectedPlayerWinMode)),n.selectedGame&&(s=K(s,n.selectedGame)),n.selectedGameIds&&(s=Q(s,n.selectedGameIds)),n.campFilter&&(s=ae(s,n.campFilter,n.selectedPlayer)),n.selectedDate&&(s=X(s,n.selectedDate)),n.selectedHarvestRange&&(s=Z(s,n.selectedHarvestRange)),n.selectedGameDuration&&(s=ee(s,n.selectedGameDuration)),n.multiPlayerFilter&&(s=se(s,n.multiPlayerFilter,n.campFilter)),n.playerPairFilter&&(s=te(s,n.playerPairFilter)),s}function re(a){const n={},s=a.PlayerStats,t=[],l=[],r=[];let c,u,p,o,m,h,w,N;return s.forEach(x=>{switch(x.MainRoleInitial){case"Loup":t.push(x.Username);break;case"TraÃ®tre":c=x.Username;break;case"Idiot du Village":u=x.Username;break;case"Cannibale":p=x.Username;break;case"Agent":r.push(x.Username);break;case"Espion":o=x.Username;break;case"Scientifique":m=x.Username;break;case"Amoureux":l.push(x.Username);break;case"La BÃªte":h=x.Username;break;case"Chasseur de primes":w=x.Username;break;case"Vaudou":N=x.Username;break}}),t.length>0&&(n.wolves=t),c&&(n.traitor=c),u&&(n.villageIdiot=u),p&&(n.cannibal=p),r.length>0&&(n.agent=r),o&&(n.spy=o),m&&(n.scientist=m),l.length>0&&(n.lovers=l),h&&(n.beast=h),w&&(n.bountyHunter=w),N&&(n.voodoo=N),n}function le(a){const n=[];return a.PlayerStats.forEach(s=>{const t=s.Username;let l=s.MainRoleInitial,r=s.MainRoleInitial;switch(s.MainRoleInitial){case"Loup":l="Loup",r="Loup";break;case"TraÃ®tre":l="TraÃ®tre",r="Loup";break;case"Idiot du Village":l="Idiot du Village",r="Idiot du Village";break;case"Cannibale":l="Cannibale",r="Cannibale";break;case"Agent":l="Agent",r="Agent";break;case"Espion":l="Espion",r="Espion";break;case"Scientifique":l="Scientifique",r="Scientifique";break;case"La BÃªte":l="La BÃªte",r="La BÃªte";break;case"Chasseur de primes":l="Chasseur de primes",r="Chasseur de primes";break;case"Vaudou":l="Vaudou",r="Vaudou";break;case"Amoureux":l="Amoureux",r="Amoureux";break;case"Villageois":default:l="Villageois",r="Villageois";break}n.push({player:t,role:l,camp:r})}),n}function ie(a,n){return a.length===0?null:ne(a,n).map((t,l)=>{const r=re(t),c=le(t),u=t.PlayerStats.length,p=t.PlayerStats.filter(d=>d.MainRoleInitial==="Loup"),o=t.PlayerStats.filter(d=>d.MainRoleInitial==="TraÃ®tre"),m=t.PlayerStats.filter(d=>d.MainRoleInitial==="Amoureux"),h=t.PlayerStats.filter(d=>d.Victorious),w=p.length+o.length,N=A(t),x=["Idiot du Village","Cannibale","Agent","Espion","Scientifique","La BÃªte","Chasseur de primes","Vaudou"],S=t.PlayerStats.filter(d=>x.includes(d.MainRoleInitial)),R=S.length>0?S.map(d=>d.MainRoleInitial).join(", "):null,j=new Date(t.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});let P=0;if(t.EndTiming){const d=t.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);d&&(P=parseInt(d[1],10))}let C=null;t.HarvestGoal&&t.HarvestGoal>0&&(C=t.HarvestDone/t.HarvestGoal);const b=h.filter(d=>d.MainRoleInitial==="Villageois"||N==="Villageois"&&!["Loup","TraÃ®tre","Amoureux"].includes(d.MainRoleInitial)&&!x.includes(d.MainRoleInitial)).length,I=h.filter(d=>d.MainRoleInitial==="Loup"||d.MainRoleInitial==="TraÃ®tre").length,G=m.length>0?h.filter(d=>d.MainRoleInitial==="Amoureux").length:null,M=S.length>0?h.filter(d=>x.includes(d.MainRoleInitial)).length:null;return{gameId:l+1,date:j,isModded:t.LegacyData?.Modded||!1,playerCount:u,wolfCount:w,hasTraitor:o.length>0,hasLovers:m.length>0,soloRoles:R,winningCamp:N,dayCount:P,villagerSurvivors:b,wolfSurvivors:I,loverSurvivors:G,soloSurvivors:M,winners:h.map(d=>d.Username).join(", "),harvest:t.HarvestDone,totalHarvest:t.HarvestGoal,harvestPercentage:C,playersList:t.PlayerStats.map(d=>d.Username).join(", "),versions:t.LegacyData?.Version||null,map:t.MapName,youtubeEmbedUrl:J(t.LegacyData?.VODLink||null,t.LegacyData?.VODLinkEnd||null),gameDuration:z(t.StartDate,t.EndDate),roles:r,playerRoles:c}})}function oe(a){const{data:n,isLoading:s,error:t}=O(l=>ie(l,a));return{data:n||[],isLoading:s,error:t}}function pe(){const{navigationFilters:a,navigateBack:n}=W(),{data:s,isLoading:t,error:l}=oe(a),[r,c]=D.useState("date"),[u,p]=D.useState("desc"),[o,m]=D.useState(null),[h,w]=D.useState(1),[N,x]=D.useState(25),S=D.useRef(!1),v=a.selectedPlayer?[a.selectedPlayer]:a.playerPairFilter?.selectedPlayerPair?a.playerPairFilter.selectedPlayerPair:a.multiPlayerFilter?.selectedPlayers?a.multiPlayerFilter.selectedPlayers:[],j=v.length>0,P=i=>j?(i.winners?i.winners.split(",").map(y=>y.trim()):[]).filter(y=>v.some(L=>L.toLowerCase()===y.toLowerCase())).join(", "):"",C=D.useMemo(()=>s?[...s].sort((i,g)=>{let f,y;switch(r){case"date":f=new Date(i.date.split("/").reverse().join("-")).getTime(),y=new Date(g.date.split("/").reverse().join("-")).getTime();break;case"gameId":f=i.gameId,y=g.gameId;break;case"playerCount":f=i.playerCount,y=g.playerCount;break;case"gameDuration":f=i.gameDuration||0,y=g.gameDuration||0;break;case"winningCamp":f=i.winningCamp,y=g.winningCamp;break;case"winner":f=P(i),y=P(g);break;default:return 0}let L;return u==="asc"?L=f>y?1:f<y?-1:0:L=f<y?1:f>y?-1:0,L===0?u==="asc"?i.gameId-g.gameId:g.gameId-i.gameId:L}):[],[s,r,u]),b=Math.ceil(C.length/N),I=(h-1)*N,G=I+N,M=C.slice(I,G);D.useEffect(()=>{if(S.current){S.current=!1;return}w(1),m(null)},[s]),D.useEffect(()=>{w(1),m(null)},[r,u]);const d=i=>{S.current=!0,w(i),m(null)},B=i=>{S.current=!0,x(i),w(1),m(null)},H=i=>{S.current=!0,m(o===i?null:i)},T=i=>{r===i?p(u==="asc"?"desc":"asc"):(c(i),p("desc"))},V=i=>r!==i?"â†•ï¸":u==="asc"?"â†—ï¸":"â†˜ï¸",U=()=>{const i=[];if(a.selectedPlayer&&a.campFilter){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":"",f=a.campFilter.excludeTraitor&&a.campFilter.selectedCamp==="Loup"?"Loups sans TraÃ®tre":a.campFilter.selectedCamp;i.push(`${a.selectedPlayer} jouant ${f}${g}`)}else{if(a.selectedPlayer){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":a.selectedPlayerWinMode==="all-assignments"?" (toutes parties)":"";i.push(`Joueur: ${a.selectedPlayer}${g}`)}if(a.campFilter){const{selectedCamp:g,campFilterMode:f,excludeTraitor:y}=a.campFilter,F=`Camp: ${y&&g==="Loup"?"Loups sans TraÃ®tre":g}`,k=f==="wins-only"?" (victoires uniquement)":f==="all-assignments"?" (toutes assignations)":"";i.push(F+k)}}if(a.playerPairFilter){const{selectedPlayerPair:g,selectedPairRole:f}=a.playerPairFilter,y=g.join(" & "),L=f==="wolves"?"loups":"amoureux";i.push(`Paire ${L}: ${y}`)}if(a.multiPlayerFilter){const{selectedPlayers:g,playersFilterMode:f,winnerPlayer:y}=a.multiPlayerFilter,L=g.join(" & ");let F="";f==="all-common-games"?F="toutes les parties communes":f==="opposing-camps"?F="affrontements uniquement":f==="same-camp"&&(F="parties en Ã©quipe (mÃªme camp)");const k=y?` (victoires de ${y})`:"";i.push(`${L} (${F}${k})`)}return a.selectedHarvestRange&&i.push(`RÃ©colte: ${a.selectedHarvestRange}`),a.selectedGameDuration&&i.push(`DurÃ©e: ${a.selectedGameDuration} jour${a.selectedGameDuration>1?"s":""}`),a.selectedGame&&i.push(`Partie #${a.selectedGame}`),a.selectedDate&&(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2?i.push(`Mois: ${a.selectedDate}`):i.push(`Date: ${a.selectedDate}`)),a.selectedGameIds&&a.selectedGameIds.length>0&&i.push(`${a.selectedGameIds.length} parties sÃ©lectionnÃ©e${a.selectedGameIds.length>1?"s":""}`),i};return t?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des dÃ©tails des parties..."}):l?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",l]}):!s||s.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouvÃ©e"}),e.jsx("p",{children:"Aucune partie ne correspond aux critÃ¨res sÃ©lectionnÃ©s."}),a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["â† Retour Ã  ",a.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["â† Retour Ã  ",a.fromComponent]}),e.jsxs("h2",{children:["DÃ©tails des Parties (",s.length," partie",s.length>1?"s":"",")"]})]}),U().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",U().join(", ")]})]}),b>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",I+1," Ã  ",Math.min(G,C.length)," sur ",C.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:N,onChange:i=>B(Number(i.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>d(1),disabled:h===1,className:"lycans-pagination-btn",children:"Â«Â«"}),e.jsx("button",{onClick:()=>d(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"â€¹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",b]}),e.jsx("button",{onClick:()=>d(h+1),disabled:h===b,className:"lycans-pagination-btn",children:"â€º"}),e.jsx("button",{onClick:()=>d(b),disabled:h===b,className:"lycans-pagination-btn",children:"Â»Â»"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>T("gameId"),className:"sortable",children:["Partie ",V("gameId")]}),e.jsxs("th",{onClick:()=>T("date"),className:"sortable",children:["Date ",V("date")]}),e.jsxs("th",{onClick:()=>T("playerCount"),className:"sortable",children:["Joueurs ",V("playerCount")]}),e.jsxs("th",{onClick:()=>T("gameDuration"),className:"sortable",children:["DurÃ©e ",V("gameDuration")]}),e.jsxs("th",{onClick:()=>T("winningCamp"),className:"sortable",children:["Camp Vainqueur ",V("winningCamp")]}),j&&e.jsxs("th",{onClick:()=>T("winner"),className:"sortable",children:["Vainqueur ",V("winner")]}),e.jsx("th",{children:"DÃ©tails"})]})}),e.jsx("tbody",{children:M.map(i=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:o===i.gameId?"selected":"",children:[e.jsxs("td",{children:["#",i.gameId]}),e.jsx("td",{children:i.date}),e.jsx("td",{children:i.playerCount}),e.jsx("td",{children:$(i.gameDuration)}),e.jsx("td",{style:{color:E[i.winningCamp]||"#fff"},children:i.winningCamp}),j&&e.jsx("td",{children:P(i)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>H(i.gameId),className:"lycans-details-btn",children:o===i.gameId?"Masquer":"Voir"})})]},i.gameId),o===i.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:j?8:7,children:e.jsx(ce,{game:i})})},`${i.gameId}-details`)]}))})]})}),b>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",I+1," Ã  ",Math.min(G,C.length)," sur ",C.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>d(1),disabled:h===1,className:"lycans-pagination-btn",children:"Â«Â«"}),e.jsx("button",{onClick:()=>d(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"â€¹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",b]}),e.jsx("button",{onClick:()=>d(h+1),disabled:h===b,className:"lycans-pagination-btn",children:"â€º"}),e.jsx("button",{onClick:()=>d(b),disabled:h===b,className:"lycans-pagination-btn",children:"Â»Â»"})]})})]})]})}function $(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}function ce({game:a}){const[n,s]=D.useState(!1);return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations GÃ©nÃ©rales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:a.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:a.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"TraÃ®tre:"}),e.jsx("span",{className:"value",children:a.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:a.hasLovers?"Oui":"Non"})]}),a.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"RÃ´les solo:"}),e.jsx("span",{className:"value",children:a.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations SupplÃ©mentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Jours de jeu:"}),e.jsx("span",{className:"value",children:a.dayCount})]}),a.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"DurÃ©e de la partie:"}),e.jsx("span",{className:"value",children:$(a.gameDuration)})]}),a.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[a.versions,a.isModded?" (moddÃ©e)":""]})]}),a.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:a.map})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"RÃ©sultats"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Camp vainqueur:"}),e.jsx("span",{className:"value",children:a.winningCamp})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants villageois:"}),e.jsx("span",{className:"value",children:a.villagerSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants loups:"}),e.jsx("span",{className:"value",children:a.wolfSurvivors})]}),a.loverSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants amoureux:"}),e.jsx("span",{className:"value",children:a.loverSurvivors})]}),a.soloSurvivors!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Survivants solo:"}),e.jsx("span",{className:"value",children:a.soloSurvivors})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Gagnants:"}),e.jsx("span",{className:"value",children:a.winners})]})]})]}),a.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"RÃ©colte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"RÃ©colte:"}),e.jsx("span",{className:"value",children:a.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:a.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof a.harvestPercentage=="number"?(a.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"RÃ´les des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:a.playerRoles.map((t,l)=>{let r=t.role===t.camp?t.camp:`${t.camp} (${t.role})`;return e.jsxs("div",{className:"lycans-player-role-item",children:[e.jsx("div",{className:"lycans-player-name",style:{color:E[t.camp]||"#fff",textAlign:"left"},children:t.player}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:r})]},l)})})]}),a.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>s(!n),className:"lycans-video-toggle-btn",children:n?"ðŸ“¹ Masquer la vidÃ©o":"ðŸŽ¥ Voir la vidÃ©o"})}),a.youtubeEmbedUrl&&n&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"VidÃ©o de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:a.youtubeEmbedUrl,title:`Partie Lycans #${a.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{pe as GameDetailsChart};
