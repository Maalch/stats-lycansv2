import{r as m,a as Y,u as Q,j as e}from"./index-CiT6Eb7-.js";import{F as j,B as b,C as S,X as P,Y as A,a as k,b as T}from"./FullscreenChart-DB3QYDx0.js";import{u as U}from"./datasyncExport-CHqilWsX.js";import{c as Z}from"./votingStatsUtils-CBp9NqO2.js";import{u as _}from"./useJoueursData-BRZnFDVu.js";import{u as ee}from"./api-7A8T0VC6.js";import{R,T as N}from"./CategoricalChart-D9wn1SsF.js";import"./deathTypes-CGUOTngO.js";function I(){return U(o=>{if(!o||o.length===0)return null;const g=o.filter(v=>v.PlayerStats.some(u=>u.Votes&&u.Votes.length>0));return g.length===0?null:Z(g)})}function te(o=5){const{data:g,isLoading:v,error:u}=I();return{data:m.useMemo(()=>g?{...g,playerBehaviorStats:g.playerBehaviorStats.filter(c=>c.totalMeetings>=o),playerAccuracyStats:g.playerAccuracyStats.filter(c=>c.totalMeetings>=o),playerTargetStats:g.playerTargetStats.filter(c=>c.totalTimesTargeted>=o)}:null,[g,o]),isLoading:v,error:u}}function ce(){const{settings:o}=Y(),{navigateToGameDetails:g,navigationState:v}=Q(),{joueursData:u}=_(),p=ee(u),[c,C]=m.useState(v.votingStatsState?.selectedCategory||"overview"),[d,y]=m.useState(v.votingStatsState?.selectedView||"behavior"),[z,w]=m.useState(25),[x,h]=m.useState(null),{data:$,isLoading:q,error:H}=I(),{data:l}=te(z),f=r=>{r&&r.playerName&&g({selectedPlayer:r.playerName,fromComponent:"Statistiques de Vote"})},{behaviorChartData:D,highlightedPlayerInBehavior:E}=m.useMemo(()=>{if(!l)return{behaviorChartData:[],highlightedPlayerInBehavior:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.aggressivenessScore-a.aggressivenessScore).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{behaviorChartData:t,highlightedPlayerInBehavior:i}},[l,o.highlightedPlayer]),{accuracyChartData:V,highlightedPlayerInAccuracy:J}=m.useMemo(()=>{if(!l)return{accuracyChartData:[],highlightedPlayerInAccuracy:!1};const r=[...l.playerAccuracyStats].sort((a,n)=>n.accuracyRate!==a.accuracyRate?n.accuracyRate-a.accuracyRate:n.totalVotes-a.totalVotes).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerAccuracyStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{accuracyChartData:t,highlightedPlayerInAccuracy:i}},[l,o.highlightedPlayer]),{targetChartData:B,highlightedPlayerInTargets:K}=m.useMemo(()=>{if(!l)return{targetChartData:[],highlightedPlayerInTargets:!1};const r=[...l.playerTargetStats].sort((a,n)=>n.survivalRate-a.survivalRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerTargetStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{targetChartData:t,highlightedPlayerInTargets:i}},[l,o.highlightedPlayer]),{voteRateChartData:F,highlightedPlayerInVoteRate:L}=m.useMemo(()=>{if(!l)return{voteRateChartData:[],highlightedPlayerInVoteRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.votingRate-a.votingRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{voteRateChartData:t,highlightedPlayerInVoteRate:i}},[l,o.highlightedPlayer]),{skipRateChartData:M,highlightedPlayerInSkipRate:O}=m.useMemo(()=>{if(!l)return{skipRateChartData:[],highlightedPlayerInSkipRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.skippingRate-a.skippingRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{skipRateChartData:t,highlightedPlayerInSkipRate:i}},[l,o.highlightedPlayer]),{abstentionRateChartData:W,highlightedPlayerInAbstentionRate:G}=m.useMemo(()=>{if(!l)return{abstentionRateChartData:[],highlightedPlayerInAbstentionRate:!1};const r=[...l.playerBehaviorStats].sort((a,n)=>n.abstentionRate-a.abstentionRate).slice(0,15),s=o.highlightedPlayer&&r.some(a=>a.playerName===o.highlightedPlayer);let t=[...r],i=!1;if(o.highlightedPlayer&&!s){const a=l.playerBehaviorStats.find(n=>n.playerName===o.highlightedPlayer);a&&(t.push({...a,isHighlightedAddition:!0}),i=!0)}return{abstentionRateChartData:t,highlightedPlayerInAbstentionRate:i}},[l,o.highlightedPlayer]);if(q)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de vote..."});if(H)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",H]});if(!$||!l)return e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnÃ©e de vote disponible"});const X=[5,15,25,50,100,200,400];return e.jsxs("div",{className:"lycans-voting-statistics",children:[e.jsx("h2",{children:"ðŸ“Š Statistiques de Vote"}),e.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",flexDirection:"column",gap:"1.5rem",marginBottom:"2rem",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsx("button",{onClick:()=>{C("overview"),y("behavior")},style:{background:c==="overview"?"var(--accent-primary)":"var(--bg-tertiary)",color:c==="overview"?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:c==="overview"?"bold":"normal",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ“Š Vue d'Ensemble"}),e.jsx("button",{onClick:()=>{C("behavior"),y("voteRate")},style:{background:c==="behavior"?"var(--accent-primary)":"var(--bg-tertiary)",color:c==="behavior"?"var(--bg-primary)":"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"0.75rem 1.5rem",fontSize:"0.95rem",fontWeight:c==="behavior"?"bold":"normal",cursor:"pointer",transition:"all 0.2s ease"},children:"ðŸ—³ï¸ Comportements de Vote"})]}),e.jsxs("div",{style:{display:"flex",gap:"1.5rem",justifyContent:"center",flexWrap:"wrap",alignItems:"center"},children:[c==="overview"&&e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>y("behavior"),style:{background:d==="behavior"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="behavior"?"bold":"normal"},children:"Score d'AgressivitÃ©"}),e.jsx("button",{onClick:()=>y("accuracy"),style:{background:d==="accuracy"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="accuracy"?"bold":"normal"},children:"PrÃ©cision des Votes"}),e.jsx("button",{onClick:()=>y("targets"),style:{background:d==="targets"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="targets"?"bold":"normal"},children:"Joueurs CiblÃ©s"})]}),c==="behavior"&&e.jsxs("div",{style:{display:"flex",gap:"0.75rem"},children:[e.jsx("button",{onClick:()=>y("voteRate"),style:{background:d==="voteRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="voteRate"?"bold":"normal"},children:"Taux de Vote"}),e.jsx("button",{onClick:()=>y("skipRate"),style:{background:d==="skipRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="skipRate"?"bold":"normal"},children:'Taux de "PassÃ©"'}),e.jsx("button",{onClick:()=>y("abstentionRate"),style:{background:d==="abstentionRate"?"var(--accent-secondary)":"var(--bg-secondary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"6px",padding:"0.5rem 1rem",fontSize:"0.9rem",cursor:"pointer",fontWeight:d==="abstentionRate"?"bold":"normal"},children:"Taux d'Abstention"})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",background:"var(--bg-secondary)"},children:[e.jsx("label",{htmlFor:"min-meetings-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. meetings:"}),e.jsx("select",{id:"min-meetings-select",value:z,onChange:r=>w(Number(r.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:X.map(r=>e.jsx("option",{value:r,children:r},r))})]})]})]}),e.jsxs("div",{className:"lycans-graphiques-groupe",children:[d==="behavior"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ—³ï¸ Score d'AgressivitÃ©"}),E&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:`Score basÃ© sur le taux de vote, les abstentions et les "passÃ©s". Plus c'est haut, plus le joueur vote activement.`}),e.jsx(j,{title:"Score d'AgressivitÃ©",children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:D,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:"Score d'AgressivitÃ© (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Votes: ",t.totalVotes," (",t.votingRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["PassÃ©s: ",t.totalSkips," (",t.skippingRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["Absents: ",t.totalAbstentions," (",t.abstentionRate.toFixed(1),"%)"]}),e.jsx("div",{children:e.jsxs("strong",{children:["Score: ",t.aggressivenessScore.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"aggressivenessScore",style:{cursor:"pointer"},onClick:f,children:D.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||(r.aggressivenessScore>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-behavior-${s}`)})})]})})})})]}),d==="accuracy"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸŽ¯ PrÃ©cision des Votes - Taux de Votes Justes"}),J&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de votes dirigÃ©s contre le camp adverse (et non contre son propre camp)."}),e.jsx(j,{title:"PrÃ©cision des Votes - Taux de Votes Justes",children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:V,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:"Taux de PrÃ©cision (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Nombre de meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Total de votes: ",t.totalVotes]}),e.jsxs("div",{children:["Votes justes: ",t.votesForEnemyCamp," (",t.accuracyRate.toFixed(1),"%)"]}),e.jsxs("div",{children:["Feu ami: ",t.votesForOwnCamp," (",t.friendlyFireRate.toFixed(1),"%)"]}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"accuracyRate",style:{cursor:"pointer"},onClick:f,children:V.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||(r.accuracyRate>=50?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-accuracy-${s}`)})})]})})})})]}),d==="targets"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ”» Joueurs CiblÃ©s - Taux de Survie aux Votes"}),K&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de fois oÃ¹ le joueur a survÃ©cu aprÃ¨s avoir Ã©tÃ© ciblÃ© par au moins un vote."}),e.jsx(j,{title:"Joueurs CiblÃ©s - Taux de Survie aux Votes",children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:B,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:"Taux de Survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Fois ciblÃ©: ",t.totalTimesTargeted]}),e.jsxs("div",{children:["Ã‰liminÃ© par vote: ",t.eliminationsByVote]}),e.jsxs("div",{children:["Taux de survie: ",t.survivalRate.toFixed(1),"%"]}),e.jsxs("div",{children:["Par camp ennemi: ",t.timesTargetedByEnemyCamp]}),e.jsxs("div",{children:["Par propre camp: ",t.timesTargetedByOwnCamp]}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"survivalRate",style:{cursor:"pointer"},onClick:f,children:B.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||(r.survivalRate>=50?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-targets-${s}`)})})]})})})})]}),d==="voteRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸ“Š Taux de Vote - Top 15"}),L&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:'Pourcentage de meetings oÃ¹ le joueur a votÃ© activement (hors "PassÃ©").'}),e.jsx(j,{title:"Taux de Vote - Top 15",children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:F,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:"Taux de Vote (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Votes: ",t.totalVotes]}),e.jsx("div",{children:e.jsxs("strong",{children:["Taux de vote: ",t.votingRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"votingRate",style:{cursor:"pointer"},onClick:f,children:F.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||"var(--accent-tertiary)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-voterate-${s}`)})})]})})})})]}),d==="skipRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:'â­ï¸ Taux de "PassÃ©" - Top 15'}),O&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:'Pourcentage de meetings oÃ¹ le joueur a votÃ© "PassÃ©".'}),e.jsx(j,{title:'Taux de "PassÃ©" - Top 15',children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:M,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:'Taux de "PassÃ©" (%)',angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:['Votes "PassÃ©": ',t.totalSkips]}),e.jsx("div",{children:e.jsxs("strong",{children:['Taux de "PassÃ©": ',t.skippingRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"skippingRate",style:{cursor:"pointer"},onClick:f,children:M.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||"var(--accent-warning)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-skiprate-${s}`)})})]})})})})]}),d==="abstentionRate"&&e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"ðŸš« Taux d'Abstention - Top 15"}),G&&o.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['ðŸŽ¯ "',o.highlightedPlayer,'" affichÃ© en plus du top 15']})]}),e.jsx("p",{style:{fontSize:"0.85rem",color:"var(--text-secondary)",textAlign:"center",marginBottom:"1rem"},children:"Pourcentage de meetings oÃ¹ le joueur n'a pas votÃ© du tout."}),e.jsx(j,{title:"Taux d'Abstention - Top 15",children:e.jsx("div",{style:{height:500},children:e.jsx(R,{width:"100%",height:"100%",children:e.jsxs(b,{data:W,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(S,{strokeDasharray:"3 3"}),e.jsx(P,{dataKey:"playerName",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:13,tick:({x:r,y:s,payload:t})=>{const i=o.highlightedPlayer===t.value;return e.jsx("text",{x:r,y:s,dy:16,textAnchor:"end",fill:i?"var(--accent-primary)":"var(--text-secondary)",fontSize:i?14:13,fontWeight:i?"bold":"italic",transform:`rotate(-45 ${r} ${s})`,children:t.value})}}),e.jsx(A,{label:{value:"Taux d'Abstention (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),e.jsx(N,{content:({active:r,payload:s})=>{if(r&&s&&s.length>0){const t=s[0].payload,i=t.isHighlightedAddition,a=o.highlightedPlayer===t.playerName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:t.playerName})}),e.jsxs("div",{children:["Total meetings: ",t.totalMeetings]}),e.jsxs("div",{children:["Abstentions: ",t.totalAbstentions]}),e.jsx("div",{children:e.jsxs("strong",{children:["Taux d'abstention: ",t.abstentionRate.toFixed(1),"%"]})}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ AffichÃ© via sÃ©lection personnelle"}),a&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"ðŸŽ¯ Joueur sÃ©lectionnÃ©"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"ðŸ–±ï¸ Cliquez pour voir les parties"})]})}return null}}),e.jsx(k,{dataKey:"abstentionRate",style:{cursor:"pointer"},onClick:f,children:W.map((r,s)=>{const t=o.highlightedPlayer===r.playerName,i=x===r.playerName,a=r.isHighlightedAddition;return e.jsx(T,{fill:p[r.playerName]||"var(--accent-danger)",stroke:t?"var(--accent-primary)":i?"var(--text-primary)":"transparent",strokeWidth:t?3:i?2:0,strokeDasharray:a?"5,5":"none",opacity:a?.8:1,onMouseEnter:()=>h(r.playerName),onMouseLeave:()=>h(null),style:{cursor:"pointer"}},`cell-abstentionrate-${s}`)})})]})})})})]})]})]})}export{ce as VotingStatisticsChart};
