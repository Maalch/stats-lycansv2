import{g as O,b as le,u as q,a as _,r as K,j as e,e as ne}from"./index-BqvhxecF.js";import{g as G,a as U,u as $,D as M}from"./datasyncExport-XuSOlwPf.js";import{i as ae,D as B,g as oe}from"./deathTypes-CGUOTngO.js";import{b as X,m as J,a as ie,u as re}from"./api-BMMDEBVr.js";import{F as H,B as E,C,X as z,Y as L,a as I,b as w}from"./FullscreenChart-CRSn3LDY.js";import{R as V,T as F}from"./CategoricalChart-B7X-eilK.js";import{u as se}from"./useJoueursData-D9Ed_XVm.js";function Y(d){return d===B.SURVIVALIST_NOT_SAVED?B.BY_WOLF:d}function ce(d){const y=new Set;d.filter(f=>!f.LegacyData||f.LegacyData.deathInformationFilled===!0).forEach(f=>{f.PlayerStats.forEach(S=>{const h=G(S.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});y.add(h)})});const m=Array.from(y);return[...X.filter(f=>m.includes(f)),...m.filter(f=>!X.includes(f)).sort()]}function Q(d){return oe(d)}function ee(d){switch(d){case B.VOTED:return"Mort aux votes";case B.BY_WOLF:case B.SURVIVALIST_NOT_SAVED:return"Kill en Loup";case B.BY_ZOMBIE:return"Kill en Zombie";case B.BY_BEAST:return"Kill en Bête";case B.BY_AVATAR_CHAIN:return"Mort d'Avatar";case B.BULLET:return"Tir de Chasseur";case B.BULLET_HUMAN:return"Kill en Chasseur (sur humain)";case B.BULLET_WOLF:return"Kill en Chasseur (sur loup)";case B.SHERIF_SUCCESS:return"Kill en Shérif";case B.OTHER_AGENT:return"Kill en Agent";case B.AVENGER:return"Kill en Vengeur";case B.SEER:return"Kill en Devin";case B.HANTED:return"Kill avec Potion hantée";case B.ASSASSIN:return"Kill avec Potion (Assassin)";case B.LOVER_DEATH:return"Kill d'amoureux";case B.BOMB:return"Explosion";case B.CRUSHED:return"Écrasement";case B.STARVATION:return"Famine";case B.STARVATION_AS_BEAST:return"Tuerie bestiale";case B.FALL:return"Chute mortelle";case B.UNKNOWN:return"Kill inconnu";default:return""}}function de(d){const y=new Set;d.forEach(a=>{a.PlayerStats.forEach(f=>{if(f.DeathType&&ae(f.DeathType)){const S=Y(f.DeathType);S&&y.add(S)}})});const g=Array.from(y),m=[B.BY_WOLF,B.VOTED,B.BULLET,B.BULLET_HUMAN,B.BULLET_WOLF,B.BY_ZOMBIE,B.ASSASSIN,B.AVENGER,B.LOVER_DEATH];return[...m.filter(a=>g.includes(a)),...g.filter(a=>!m.includes(a)).sort()]}function he(d,y){return d.PlayerStats.filter(g=>g.DeathType&&ae(g.DeathType)&&(g.DeathTiming||g.DeathType)).map(g=>{let m=null,a=null;if(g.KillerName){const f=d.PlayerStats.find(S=>S.Username===g.KillerName);if(f){a=O(f);const S=U(f.MainRoleInitial,f.MainRoleChanges||[]);m=G(S,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1}),S&&S!==f.MainRoleInitial&&(S==="Loup"?m="Loup":S==="Zombie"&&(m="Vaudou"))}}return{playerId:O(g),playerName:g.Username,deathType:Y(g.DeathType),killerId:a,killerName:g.KillerName,killerCamp:m}}).filter(g=>{if(!y||y==="Tous les camps")return!0;const m=d.PlayerStats.find(f=>f.Username===g.playerName);return m?G(m.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})===y:!1})}function ge(d,y){const g=[];return d.PlayerStats.forEach(m=>{if(m.KillerName&&m.DeathType){if(m.DeathType===B.VOTED||m.DeathType===B.STARVATION||m.DeathType===B.FALL||m.DeathType===B.BY_AVATAR_CHAIN)return;const a=d.PlayerStats.find(h=>h.Username===m.KillerName);if(!a)return;let f=G(a.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});const S=U(a.MainRoleInitial,a.MainRoleChanges||[]);S&&S!==a.MainRoleInitial&&(S==="Loup"?f="Loup":S==="Zombie"&&(f="Vaudou")),g.push({killerId:O(a),killerName:a.Username,victimId:O(m),victimName:m.Username,deathType:Y(m.DeathType),killerCamp:f})}}),y&&y!=="Tous les camps"?g.filter(m=>m.killerCamp===y):g}function me(d,y){if(d.length===0)return null;const g=d.filter(i=>!i.LegacyData||i.LegacyData.deathInformationFilled===!0);if(g.length===0)return null;const m=[],a={},f={};g.forEach(i=>{he(i,y).forEach(x=>{m.push({...x,gameId:i.Id})}),i.PlayerStats.forEach(x=>{const T=O(x),l=le(x);f[T]=l,(!y||y==="Tous les camps"||G(x.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})===y)&&(a[T]=(a[T]||0)+1)})});const S=m.length,h=g.length,P=h>0?S/h:0,D={};m.forEach(i=>{D[i.deathType]=(D[i.deathType]||0)+1});const N=Object.entries(D).map(([i,n])=>({type:i,count:n||0,percentage:S>0?(n||0)/S*100:0})).sort((i,n)=>n.count-i.count),b={};g.forEach(i=>{ge(i,y).forEach(x=>{f[x.killerId]=x.killerName,f[x.victimId]=x.victimName,b[x.killerId]||(b[x.killerId]={kills:0,victims:new Set,killsByDeathType:{}}),b[x.killerId].kills++,b[x.killerId].victims.add(x.victimId),b[x.killerId].killsByDeathType[x.deathType]=(b[x.killerId].killsByDeathType[x.deathType]||0)+1})});const R=Object.entries(b).map(([i,n])=>{const x=a[i]||0,T=x>0?n.kills/x:0;return{killerName:f[i]||i,kills:n.kills,victims:Array.from(n.victims).map(l=>f[l]||l),percentage:S>0?n.kills/S*100:0,gamesPlayed:x,averageKillsPerGame:T,killsByDeathType:n.killsByDeathType}}).sort((i,n)=>n.kills-i.kills),A={};m.forEach(i=>{A[i.playerId]||(A[i.playerId]={totalDeaths:0,deathsByType:{},killedById:{},deathDays:[]});const n=A[i.playerId];n.totalDeaths++,n.deathsByType[i.deathType]=(n.deathsByType[i.deathType]||0)+1,i.killerId&&(n.killedById[i.killerId]=(n.killedById[i.killerId]||0)+1)});const j=[];Object.entries(A).forEach(([i,n])=>{const x=f[i]||i,T={};Object.entries(n.killedById).forEach(([l,r])=>{const t=f[l]||l;T[t]=(T[t]||0)+r}),j.push({playerName:x,totalDeaths:n.totalDeaths,deathsByType:n.deathsByType,killedBy:T,deathRate:a[i]>0?n.totalDeaths/a[i]:0,gamesPlayed:a[i]||0})}),Object.entries(a).forEach(([i,n])=>{A[i]||j.push({playerName:f[i]||i,totalDeaths:0,deathsByType:{},killedBy:{},deathRate:0,gamesPlayed:n})});const s=j.sort((i,n)=>n.totalDeaths-i.totalDeaths),c=N.length>0?N[0].type:null,u=R.length>0?R[0].killerName:null;return{totalDeaths:S,totalGames:h,averageDeathsPerGame:P,deathsByType:N,killerStats:R,playerDeathStats:s,mostCommonDeathType:c,mostDeadlyKiller:u}}function ue(d,y){const g=d.filter(N=>!N.LegacyData||N.LegacyData.deathInformationFilled===!0),m={},a={},f=g.length,S=[B.BULLET,B.BULLET_HUMAN,B.BULLET_WOLF];g.forEach(N=>{const b=new Set;N.PlayerStats.forEach(R=>{const A=R.MainRoleInitial,j=U(R.MainRoleInitial,R.MainRoleChanges||[]);if(A==="Chasseur"||j==="Chasseur"){const s=O(R);a[s]=R.Username,b.add(s),m[s]||(m[s]={kills:[],gamesPlayed:0,victimsCamps:[]}),m[s].gamesPlayed++}}),N.PlayerStats.forEach(R=>{const A=R.DeathType,j=R.KillerName,s=j?N.PlayerStats.find(u=>u.Username===j):null,c=s?O(s):null;if(c&&s&&(a[c]=s.Username),A&&S.includes(A)&&c&&b.has(c)){const u=G(R.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1});m[c].kills.push(A),m[c].victimsCamps.push(u)}})});const h=Object.entries(m).map(([N,b])=>{const R=b.kills.length,A={};b.kills.forEach(n=>{A[n]=(A[n]||0)+1});const j={};b.victimsCamps.forEach(n=>{j[n]=(j[n]||0)+1});const s=b.victimsCamps.filter(n=>n!=="Villageois").length,c=b.victimsCamps.filter(n=>n==="Villageois").length,u=b.gamesPlayed>0?R/b.gamesPlayed:0,i=b.gamesPlayed>0?s/b.gamesPlayed:0;return{hunterName:a[N]||N,totalKills:R,nonVillageoisKills:s,villageoisKills:c,gamesPlayedAsHunter:b.gamesPlayed,averageKillsPerGame:u,averageNonVillageoisKillsPerGame:i,killsByDeathType:A,victimsByCamp:j}}).sort((N,b)=>b.totalKills-N.totalKills),P=h.length>0?h[0].hunterName:null,D=h.length>0?h.sort((N,b)=>b.averageNonVillageoisKillsPerGame-N.averageNonVillageoisKillsPerGame)[0].hunterName:null;return{totalHunters:h.length,totalGames:f,hunterStats:h,bestHunter:P,bestAverageHunter:D}}function ye(d){return $(y=>me(y,d))}function ve(){return $(d=>ce(d))}function pe(d){return $(y=>ue(y))}function te(d){if(!d||d.trim()==="")return null;const g=d.trim().slice(1),m=parseInt(g,10);return isNaN(m)||m<1?null:m}function xe(d,y){if(d.length===0)return null;const g=d.filter(h=>!h.LegacyData||h.LegacyData.deathInformationFilled===!0);if(g.length===0)return null;const m={},a={};g.forEach(h=>{let P=1;if(h.EndTiming){const D=te(h.EndTiming);D&&(P=D)}h.PlayerStats.forEach(D=>{if(y&&y!=="Tous les camps"&&G(D.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!1})!==y)return;const N=D.Username;m[N]||(m[N]={playerName:N,totalGames:0,survivalsByDay:{},survivalRatesByDay:{},gamesPlayedByDay:{}});const b=m[N];b.totalGames++;let R=null;D.DeathTiming&&(R=te(D.DeathTiming));for(let A=1;A<=P;A++)b.gamesPlayedByDay[A]||(b.gamesPlayedByDay[A]=0,b.survivalsByDay[A]=0),a[A]||(a[A]={gamesReachingDay:0,playersOnDay:0,survivorsOnDay:0}),b.gamesPlayedByDay[A]++,a[A].playersOnDay++,(!R||R>A)&&(b.survivalsByDay[A]++,a[A].survivorsOnDay++)});for(let D=1;D<=P;D++)a[D]||(a[D]={gamesReachingDay:0,playersOnDay:0,survivorsOnDay:0}),a[D].gamesReachingDay++}),Object.values(m).forEach(h=>{Object.keys(h.gamesPlayedByDay).forEach(P=>{const D=parseInt(P),N=h.gamesPlayedByDay[D],b=h.survivalsByDay[D];N>0?h.survivalRatesByDay[D]=b/N*100:h.survivalRatesByDay[D]=0})});const f=Object.values(m).filter(h=>h.totalGames>0).sort((h,P)=>P.totalGames-h.totalGames),S=Object.entries(a).map(([h,P])=>({dayNumber:parseInt(h),totalGamesReachingDay:P.gamesReachingDay,totalPlayersOnDay:P.playersOnDay,averageSurvivalRate:P.playersOnDay>0?P.survivorsOnDay/P.playersOnDay*100:0})).sort((h,P)=>h.dayNumber-P.dayNumber);return{totalGames:g.length,totalPlayersAnalyzed:f.length,playerSurvivalStats:f,dayStats:S}}function fe(d,y,g=10){return d.playerSurvivalStats.filter(m=>(m.gamesPlayedByDay[y]||0)>=g).map(m=>({playerName:m.playerName,survivalRate:m.survivalRatesByDay[y]||0,gamesPlayed:m.totalGames,timesReachedDay:m.gamesPlayedByDay[y]||0,timesSurvivedDay:m.survivalsByDay[y]||0})).sort((m,a)=>a.survivalRate-m.survivalRate).slice(0,15)}function je(d,y,g=10){return d.playerSurvivalStats.filter(m=>(m.gamesPlayedByDay[y]||0)>=g).map(m=>({playerName:m.playerName,survivalRate:m.survivalRatesByDay[y]||0,gamesPlayed:m.totalGames,timesReachedDay:m.gamesPlayedByDay[y]||0,timesSurvivedDay:m.survivalsByDay[y]||0})).sort((m,a)=>m.survivalRate-a.survivalRate).slice(0,15)}function Se(d){return $(y=>xe(y,d))}function Pe({deathStats:d,selectedCamp:y,minGamesForAverage:g,onMinGamesChange:m,availableDeathTypes:a,deathTypeColors:f,totalEligibleForAverage:S}){const{navigateToGameDetails:h}=q(),{settings:P}=_(),{totalKillsData:D,averageKillsData:N,highlightedPlayerAddedToTotal:b,highlightedPlayerAddedToAverage:R}=K.useMemo(()=>{if(!d)return{totalKillsData:[],averageKillsData:[],highlightedPlayerAddedToTotal:!1,highlightedPlayerAddedToAverage:!1};const s=d.killerStats.sort((t,v)=>v.kills-t.kills).slice(0,15),c=P.highlightedPlayer&&s.some(t=>t.killerName===P.highlightedPlayer),u=s.map(t=>{const v={name:t.killerName,value:t.kills,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!1};return a.forEach(o=>{v[o]=t.killsByDeathType[o]||0}),v});let i=!1;if(P.highlightedPlayer&&!c){const t=d.killerStats.find(v=>v.killerName===P.highlightedPlayer);if(t){const v={name:t.killerName,value:t.kills,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!0};a.forEach(o=>{v[o]=t.killsByDeathType[o]||0}),u.push(v),i=!0}}const x=d.killerStats.filter(t=>t.gamesPlayed>=g).sort((t,v)=>v.averageKillsPerGame-t.averageKillsPerGame).slice(0,15),T=P.highlightedPlayer&&x.some(t=>t.killerName===P.highlightedPlayer),l=x.map(t=>{const v={name:t.killerName,value:t.averageKillsPerGame,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!1};return a.forEach(o=>{const p=t.killsByDeathType[o]||0;v[o]=t.gamesPlayed>0?p/t.gamesPlayed:0}),v});let r=!1;if(P.highlightedPlayer&&!T){const t=d.killerStats.find(v=>v.killerName===P.highlightedPlayer);if(t){const v={name:t.killerName,value:t.averageKillsPerGame,victims:t.victims.length,percentage:t.percentage,gamesPlayed:t.gamesPlayed,averageKillsPerGame:t.averageKillsPerGame,isHighlightedAddition:!0};a.forEach(o=>{const p=t.killsByDeathType[o]||0;v[o]=t.gamesPlayed>0?p/t.gamesPlayed:0}),l.push(v),r=!0}}return{totalKillsData:u,averageKillsData:l,highlightedPlayerAddedToTotal:i,highlightedPlayerAddedToAverage:r}},[d,P.highlightedPlayer,g,a]),A=({active:s,payload:c,label:u})=>{if(s&&c&&c.length){const i=c[0].payload,n=i.isHighlightedAddition,x=P.highlightedPlayer===i.name,T=a.reduce((l,r)=>l+(i[r]||0),0);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:x?"var(--accent-primary)":"var(--text-primary)"},children:[u,n&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Victimes totales:"})," ",T]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouées:"})," ",i.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Répartition par type de kill:"}),a.map(l=>{const r=i[l]||0;return r===0?null:e.jsxs("p",{style:{color:f[l],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ee(l),":"]})," ",r]},l)})]}),n&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection personnelle"}),x&&!n&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null},j=({active:s,payload:c,label:u})=>{if(s&&c&&c.length){const i=c[0].payload,n=i.isHighlightedAddition,x=P.highlightedPlayer===i.name,T=i.gamesPlayed>=g,l=d?.killerStats.find(v=>v.killerName===i.name),r=a.reduce((v,o)=>v+(i[o]||0),0),t=l?l.kills:Math.round(r*i.gamesPlayed);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:x?"var(--accent-primary)":"var(--text-primary)"},children:[u,n&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Moyenne par partie:"})," ",r.toFixed(2)," (",t," kills /",i.gamesPlayed," games)"]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouées:"})," ",i.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Répartition par type de kill (moyenne):"}),a.map(v=>{const o=i[v]||0;if(o===0)return null;const p=l?l.killsByDeathType[v]||0:Math.round(o*i.gamesPlayed);return e.jsxs("p",{style:{color:f[v],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[ee(v),":"]})," ",o.toFixed(2)," (",p," kills /",i.gamesPlayed," games)"]},v)})]}),n&&!T&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["🎯 Affiché via sélection (< ",g," parties)"]}),n&&T&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection (hors top 15)"}),x&&!n&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:y==="Tous les camps"?"Top Tueurs (Total)":`Top Tueurs en ${y} (Total)`}),b&&P.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',P.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:y==="Tous les camps"?"Top Tueurs (Total)":`Top Tueurs en ${y} (Total)`,children:e.jsx("div",{style:{height:440},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:D,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:s,y:c,payload:u})=>e.jsx("text",{x:s,y:c,dy:10,fill:P.highlightedPlayer===u.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:P.highlightedPlayer===u.value?14:12,fontWeight:P.highlightedPlayer===u.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${s} ${c})`,children:u.value})}),e.jsx(L,{label:{value:"Nombre total de victimes",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(A,{})}),a.map(s=>e.jsx(I,{dataKey:s,name:s,stackId:"kills",fill:f[s],onClick:c=>{const u={selectedPlayer:c?.name,fromComponent:"Statistiques de Mort"};y!=="Tous les camps"&&(u.campFilter={selectedCamp:y,campFilterMode:"all-assignments"}),h(u)}},s))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,D.filter(s=>!s.isHighlightedAddition).length)," des tueurs les plus actifs (total)"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:y==="Tous les camps"?"Top Tueurs (Moyenne par Partie)":`Top Tueurs en ${y} (Moyenne par partie)`}),R&&P.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',P.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"min-games-average-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),e.jsx("select",{id:"min-games-average-select",value:g,onChange:s=>m(Number(s.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.9rem"},children:J.map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsx(H,{title:y==="Tous les camps"?"Top Tueurs (Moyenne par Partie)":`Top Tueurs en ${y} (Moyenne par partie)`,children:e.jsx("div",{style:{height:400},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:N,margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:s,y:c,payload:u})=>e.jsx("text",{x:s,y:c,dy:10,fill:P.highlightedPlayer===u.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:P.highlightedPlayer===u.value?14:12,fontWeight:P.highlightedPlayer===u.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${s} ${c})`,children:u.value})}),e.jsx(L,{label:{value:"Moyenne de victimes par partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(j,{})}),a.map(s=>e.jsx(I,{dataKey:s,name:s,stackId:"averageKills",fill:f[s],onClick:c=>{const u={selectedPlayer:c?.name,fromComponent:"Statistiques de Mort"};y!=="Tous les camps"&&(u.campFilter={selectedCamp:y,campFilterMode:"all-assignments"}),h(u)}},s))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,N.filter(s=>!s.isHighlightedAddition).length)," des tueurs les plus efficaces (sur ",S," ayant au moins ",g," partie",g>1?"s":"",")"]})]})]})}function De({deathStats:d,selectedCamp:y,minGamesForAverage:g,onMinGamesChange:m,availableDeathTypes:a,deathTypeColors:f}){const{navigateToGameDetails:S}=q(),{settings:h}=_(),{totalDeathsData:P,survivalRateData:D,highlightedPlayerAddedToDeaths:N,highlightedPlayerAddedToSurvival:b}=K.useMemo(()=>{if(!d)return{totalDeathsData:[],survivalRateData:[],highlightedPlayerAddedToDeaths:!1,highlightedPlayerAddedToSurvival:!1};const j=d.playerDeathStats.sort((r,t)=>t.totalDeaths-r.totalDeaths).slice(0,15),s=h.highlightedPlayer&&j.some(r=>r.playerName===h.highlightedPlayer),c=j.map(r=>{const t=r.gamesPlayed,v=t>0?(t-r.totalDeaths)/t*100:0,o={name:r.playerName,value:r.totalDeaths,totalDeaths:r.totalDeaths,gamesPlayed:t,deathRate:r.deathRate,survivalRate:v,isHighlightedAddition:!1};return a.forEach(p=>{o[p]=r.deathsByType[p]||0}),o});let u=!1;if(h.highlightedPlayer&&!s){const r=d.playerDeathStats.find(t=>t.playerName===h.highlightedPlayer);if(r){const t=r.gamesPlayed,v=t>0?(t-r.totalDeaths)/t*100:0,o={name:r.playerName,value:r.totalDeaths,totalDeaths:r.totalDeaths,gamesPlayed:t,deathRate:r.deathRate,survivalRate:v,isHighlightedAddition:!0};a.forEach(p=>{o[p]=r.deathsByType[p]||0}),c.push(o),u=!0}}const n=d.playerDeathStats.filter(r=>r.gamesPlayed>=g).map(r=>({...r,survivalRate:r.gamesPlayed>0?(r.gamesPlayed-r.totalDeaths)/r.gamesPlayed*100:0})).sort((r,t)=>t.survivalRate-r.survivalRate).slice(0,15),x=h.highlightedPlayer&&n.some(r=>r.playerName===h.highlightedPlayer),T=n.map(r=>{const t={name:r.playerName,value:r.survivalRate,totalDeaths:r.totalDeaths,gamesPlayed:r.gamesPlayed,deathRate:r.deathRate,survivalRate:r.survivalRate,isHighlightedAddition:!1};return a.forEach(v=>{const o=r.deathsByType[v]||0;t[v]=r.gamesPlayed>0?o/r.gamesPlayed*100:0}),t});let l=!1;if(h.highlightedPlayer&&!x){const r=d.playerDeathStats.find(t=>t.playerName===h.highlightedPlayer);if(r){const t=r.gamesPlayed>0?(r.gamesPlayed-r.totalDeaths)/r.gamesPlayed*100:0,v={name:r.playerName,value:t,totalDeaths:r.totalDeaths,gamesPlayed:r.gamesPlayed,deathRate:r.deathRate,survivalRate:t,isHighlightedAddition:!0};a.forEach(o=>{const p=r.deathsByType[o]||0;v[o]=r.gamesPlayed>0?p/r.gamesPlayed*100:0}),T.push(v),l=!0}}return{totalDeathsData:c,survivalRateData:T,highlightedPlayerAddedToDeaths:u,highlightedPlayerAddedToSurvival:l}},[d,h.highlightedPlayer,g,a]),R=({active:j,payload:s,label:c})=>{if(j&&s&&s.length){const u=s[0].payload,i=u.isHighlightedAddition,n=h.highlightedPlayer===u.name,x=a.reduce((T,l)=>T+(u[l]||0),0);return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:n?"var(--accent-primary)":"var(--text-primary)"},children:[c,i&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Morts totales:"})," ",x]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouées:"})," ",u.gamesPlayed]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Taux de survie:"})," ",u.survivalRate.toFixed(1),"%"]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Répartition par type de mort:"}),a.map(T=>{const l=u[T]||0;return l===0?null:e.jsxs("p",{style:{color:f[T],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[Q(T),":"]})," ",l]},T)})]}),i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection personnelle"}),n&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null},A=({active:j,payload:s,label:c})=>{if(j&&s&&s.length){const u=s[0].payload,i=u.isHighlightedAddition,n=h.highlightedPlayer===u.name,x=u.gamesPlayed>=g;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:n?"var(--accent-primary)":"var(--text-primary)"},children:[c,i&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Taux de survie:"})," ",u.survivalRate.toFixed(1),"% (",u.gamesPlayed-u.totalDeaths," survies / ",u.gamesPlayed," parties)"]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Morts totales:"})," ",u.totalDeaths]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties jouées:"})," ",u.gamesPlayed]}),e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Répartition par type de mort (taux %):"}),a.map(T=>{const l=u[T]||0;return l===0?null:e.jsxs("p",{style:{color:f[T],margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[Q(T),":"]})," ",l.toFixed(1),"%"]},T)})]}),i&&!x&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["🎯 Affiché via sélection (< ",g," parties)"]}),i&&x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection (hors top 15)"}),n&&!i&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:y==="Tous les camps"?"Morts (Total)":`Morts en ${y} (Total)`}),N&&h.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',h.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:y==="Tous les camps"?"Morts (Total)":`Morts en ${y} (Total)`,children:e.jsx("div",{style:{height:440},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:P,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:j,y:s,payload:c})=>e.jsx("text",{x:j,y:s,dy:10,fill:h.highlightedPlayer===c.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:h.highlightedPlayer===c.value?14:12,fontWeight:h.highlightedPlayer===c.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${j} ${s})`,children:c.value})}),e.jsx(L,{label:{value:"Nombre total de morts",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(R,{})}),a.map(j=>e.jsx(I,{dataKey:j,name:j,stackId:"deaths",fill:f[j],onClick:s=>{const c={selectedPlayer:s?.name,fromComponent:"Statistiques de Mort"};y!=="Tous les camps"&&(c.campFilter={selectedCamp:y,campFilterMode:"all-assignments"}),S(c)}},j))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,P.filter(j=>!j.isHighlightedAddition).length)," des joueurs les plus souvent morts"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["Meilleurs Survivants ",y==="Tous les camps"?"(Total)":` en ${y}`]}),b&&h.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',h.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"1rem"},children:[e.jsx("label",{htmlFor:"min-games-survival-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),e.jsx("select",{id:"min-games-survival-select",value:g,onChange:j=>m(Number(j.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.25rem 0.5rem",fontSize:"0.9rem"},children:J.map(j=>e.jsx("option",{value:j,children:j},j))})]}),e.jsx(H,{title:"Meilleurs Survivants",children:e.jsx("div",{style:{height:400},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:D,margin:{top:20,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:j,y:s,payload:c})=>e.jsx("text",{x:j,y:s,dy:10,fill:h.highlightedPlayer===c.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:h.highlightedPlayer===c.value?14:12,fontWeight:h.highlightedPlayer===c.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${j} ${s})`,children:c.value})}),e.jsx(L,{label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(A,{})}),a.map(j=>e.jsx(I,{dataKey:j,name:j,stackId:"survivalRate",fill:f[j],onClick:s=>{const c={selectedPlayer:s?.name,fromComponent:"Statistiques de Mort"};y!=="Tous les camps"&&(c.campFilter={selectedCamp:y,campFilterMode:"all-assignments"}),S(c)}},j))]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,D.filter(j=>!j.isHighlightedAddition).length)," des joueurs avec le plus haut taux de survie (ayant au moins ",g," partie",g>1?"s":"",")"]})]})]})}function Te({hunterStats:d,isLoading:y,error:g}){const{navigateToGameDetails:m}=q(),{settings:a}=_(),f=ie(),{joueursData:S}=se(),h=re(S),[P,D]=K.useState(null);if(y)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques chasseurs..."});if(g)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",g]});if(!d||d.hunterStats.length===0)return e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h3",{children:"Aucune donnée Chasseur"}),e.jsx("p",{children:"Aucune statistique de chasseur disponible avec les filtres actuels."})]});const{finalBestHuntersData:N,highlightedPlayerAddedToBest:b,finalBadHuntersData:R,highlightedPlayerAddedToBad:A}=(()=>{const u=d.hunterStats.filter(o=>o.gamesPlayedAsHunter>=5).sort((o,p)=>p.averageNonVillageoisKillsPerGame-o.averageNonVillageoisKillsPerGame).slice(0,15),i=a.highlightedPlayer&&u.some(o=>o.hunterName===a.highlightedPlayer);let n=[...u],x=!1;if(a.highlightedPlayer&&!i){const o=d.hunterStats.find(p=>p.hunterName===a.highlightedPlayer);o&&(n.push({...o,isHighlightedAddition:!0}),x=!0)}const T=d.hunterStats.filter(o=>o.gamesPlayedAsHunter>=5).map(o=>({name:o.hunterName,averageVillageoisKills:Number((o.villageoisKills/o.gamesPlayedAsHunter).toFixed(2)),totalVillageoisKills:o.villageoisKills,totalNonVillageoisKills:o.nonVillageoisKills,totalKills:o.totalKills,gamesPlayed:o.gamesPlayedAsHunter,victimsByCamp:o.victimsByCamp,hunterName:o.hunterName})),l=T.sort((o,p)=>p.averageVillageoisKills-o.averageVillageoisKills).slice(0,15),r=a.highlightedPlayer&&l.some(o=>o.hunterName===a.highlightedPlayer);let t=[...l],v=!1;if(a.highlightedPlayer&&!r){const o=T.find(p=>p.hunterName===a.highlightedPlayer);o&&(t.push({...o,isHighlightedAddition:!0}),v=!0)}return{finalBestHuntersData:n,highlightedPlayerAddedToBest:x,finalBadHuntersData:t,highlightedPlayerAddedToBad:v}})(),j=({active:c,payload:u,label:i})=>{if(c&&u&&u.length){const n=u[0].payload,x=n.isHighlightedAddition,T=a.highlightedPlayer===n.hunterName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:T?"var(--accent-primary)":"var(--text-primary)"},children:[i,x&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Kills non-Villageois/partie:"})," ",n.averageNonVillageoisKillsPerGame.toFixed(2)]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total non-Villageois tués:"})," ",n.nonVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties en Chasseur:"})," ",n.gamesPlayedAsHunter]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total kills:"})," ",n.totalKills]}),n.victimsByCamp&&Object.keys(n.victimsByCamp).length>0&&e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Victimes par camp:"}),Object.entries(n.victimsByCamp).map(([l,r])=>e.jsxs("p",{style:{color:f[l]||"var(--text-secondary)",margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[l,":"]})," ",r]},l))]}),x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection personnelle"}),T&&!x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null},s=({active:c,payload:u,label:i})=>{if(c&&u&&u.length){const n=u[0].payload,x=n.isHighlightedAddition,T=a.highlightedPlayer===n.hunterName;return e.jsxs("div",{style:{background:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"8px",padding:"12px",boxShadow:"0 4px 12px rgba(0,0,0,0.15)",color:"var(--text-primary)",fontSize:"0.9rem"},children:[e.jsxs("p",{style:{fontWeight:"bold",marginBottom:"8px",color:T?"var(--accent-primary)":"var(--text-primary)"},children:[i,x&&e.jsx("span",{style:{color:"var(--accent-primary)",fontSize:"0.8rem",fontStyle:"italic",marginLeft:"4px"},children:" (🎯)"})]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Villageois tués/partie:"})," ",n.averageVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total Villageois tués:"})," ",n.totalVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total non-Villageois tués:"})," ",n.totalNonVillageoisKills]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Parties en Chasseur:"})," ",n.gamesPlayed]}),e.jsxs("p",{style:{color:"var(--text-primary)",margin:"4px 0"},children:[e.jsx("strong",{children:"Total kills:"})," ",n.totalKills]}),n.victimsByCamp&&Object.keys(n.victimsByCamp).length>0&&e.jsxs("div",{style:{margin:"8px 0",borderTop:"1px solid var(--border-color)",paddingTop:"8px"},children:[e.jsx("p",{style:{fontWeight:"bold",fontSize:"0.85rem",marginBottom:"4px"},children:"Victimes par camp:"}),Object.entries(n.victimsByCamp).map(([l,r])=>e.jsxs("p",{style:{color:f[l]||"var(--text-secondary)",margin:"2px 0",fontSize:"0.8rem"},children:[e.jsxs("strong",{children:[l,":"]})," ",r]},l))]}),x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection personnelle"}),T&&!x&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null};return e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Meilleurs Chasseurs"}),b&&a.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',a.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:"Meilleurs Chasseurs",children:e.jsx("div",{style:{height:440},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:N,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"hunterName",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:c,y:u,payload:i})=>e.jsx("text",{x:c,y:u,dy:10,fill:a.highlightedPlayer===i.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:a.highlightedPlayer===i.value?14:12,fontWeight:a.highlightedPlayer===i.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${c} ${u})`,children:i.value})}),e.jsx(L,{label:{value:"Moyenne kills non-Villageois/partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(j,{})}),e.jsx(I,{dataKey:"averageNonVillageoisKillsPerGame",fill:"var(--chart-primary)",onClick:c=>{c?.hunterName&&m({selectedPlayer:c.hunterName,campFilter:{selectedCamp:"Chasseur",campFilterMode:"all-assignments"},fromComponent:"Statistiques de Mort - Meilleurs Chasseurs"})},onMouseEnter:c=>D(c?.hunterName||null),onMouseLeave:()=>D(null),style:{cursor:"pointer"},children:N.map((c,u)=>{const i=a.highlightedPlayer===c.hunterName,n=c.isHighlightedAddition;return e.jsx(w,{fill:h[c.hunterName]||f.Chasseur||"#8884d8",stroke:i?"var(--accent-primary)":P===c.hunterName?"var(--text-primary)":"none",strokeWidth:i?3:P===c.hunterName?2:0,strokeDasharray:n?"5,5":"none",opacity:n?.8:1},`cell-${u}`)})})]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,N.filter(c=>!c.isHighlightedAddition).length)," des chasseurs les plus efficaces contre les non-Villageois (minimum 5 parties en Chasseur)"]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Mauvais Chasseurs"}),A&&a.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',a.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:"Mauvais Chasseurs",children:e.jsx("div",{style:{height:440},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:R,margin:{top:60,right:30,left:20,bottom:10},children:[e.jsx(C,{strokeDasharray:"3 3"}),e.jsx(z,{dataKey:"hunterName",angle:-45,textAnchor:"end",height:80,interval:0,tick:({x:c,y:u,payload:i})=>e.jsx("text",{x:c,y:u,dy:10,fill:a.highlightedPlayer===i.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:a.highlightedPlayer===i.value?14:12,fontWeight:a.highlightedPlayer===i.value?"bold":"normal",textAnchor:"end",transform:`rotate(-45 ${c} ${u})`,children:i.value})}),e.jsx(L,{label:{value:"Moyenne Villageois tués/partie",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(s,{})}),e.jsx(I,{dataKey:"averageVillageoisKills",fill:"var(--chart-primary)",onClick:c=>{c?.hunterName&&m({selectedPlayer:c.hunterName,campFilter:{selectedCamp:"Chasseur",campFilterMode:"all-assignments"},fromComponent:"Statistiques de Mort - Mauvais Chasseurs"})},onMouseEnter:c=>D(c?.hunterName||null),onMouseLeave:()=>D(null),style:{cursor:"pointer"},children:R.map((c,u)=>{const i=a.highlightedPlayer===c.hunterName,n=c.isHighlightedAddition;return e.jsx(w,{fill:h[c.hunterName]||f.Chasseur||"#8884d8",stroke:i?"var(--accent-primary)":P===c.hunterName?"var(--text-primary)":"none",strokeWidth:i?3:P===c.hunterName?2:0,strokeDasharray:n?"5,5":"none",opacity:n?.8:1},`cell-${u}`)})})]})})})}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--text-secondary)",textAlign:"center",marginTop:"0.5rem"},children:["Top ",Math.min(15,R.filter(c=>!c.isHighlightedAddition).length)," des chasseurs ayant le plus tué de Villageois (minimum 5 parties en Chasseur)"]})]})]})}function be({survivalStats:d,selectedCamp:y,minGamesForAverage:g,onMinGamesChange:m,isLoading:a,error:f}){const{navigateToGameDetails:S}=q(),{settings:h}=_(),{joueursData:P}=se(),D=re(P),[N,b]=K.useState(1),[R,A]=K.useState(null),j=K.useMemo(()=>d?d.dayStats.filter(r=>r.totalGamesReachingDay>0).map(r=>r.dayNumber).sort((r,t)=>r-t):[],[d]),s=K.useMemo(()=>j.includes(N)?N:j.length>0?j[0]:1,[N,j]),{highestSurvivalData:c,highlightedPlayerAddedToHighest:u}=K.useMemo(()=>{if(!d)return{highestSurvivalData:[],highlightedPlayerAddedToHighest:!1};const l=fe(d,s,g),r=h.highlightedPlayer&&l.some(o=>o.playerName===h.highlightedPlayer),t=l.map(o=>({name:o.playerName,value:o.survivalRate,gamesPlayed:o.gamesPlayed,timesReachedDay:o.timesReachedDay,timesSurvivedDay:o.timesSurvivedDay,isHighlightedAddition:!1}));let v=!1;if(h.highlightedPlayer&&!r){const o=d.playerSurvivalStats.find(p=>p.playerName===h.highlightedPlayer);if(o&&(o.gamesPlayedByDay[s]||0)>=1){const p=o.survivalRatesByDay[s]||0;t.push({name:h.highlightedPlayer,value:p,gamesPlayed:o.totalGames,timesReachedDay:o.gamesPlayedByDay[s]||0,timesSurvivedDay:o.survivalsByDay[s]||0,isHighlightedAddition:!0}),v=!0}}return{highestSurvivalData:t,highlightedPlayerAddedToHighest:v}},[d,s,g,h.highlightedPlayer]),{lowestSurvivalData:i,highlightedPlayerAddedToLowest:n}=K.useMemo(()=>{if(!d)return{lowestSurvivalData:[],highlightedPlayerAddedToLowest:!1};const l=je(d,s,g),r=h.highlightedPlayer&&l.some(o=>o.playerName===h.highlightedPlayer),t=l.map(o=>({name:o.playerName,value:o.survivalRate,gamesPlayed:o.gamesPlayed,timesReachedDay:o.timesReachedDay,timesSurvivedDay:o.timesSurvivedDay,isHighlightedAddition:!1}));let v=!1;if(h.highlightedPlayer&&!r){const o=d.playerSurvivalStats.find(p=>p.playerName===h.highlightedPlayer);if(o&&(o.gamesPlayedByDay[s]||0)>=1){const p=o.survivalRatesByDay[s]||0;t.push({name:h.highlightedPlayer,value:p,gamesPlayed:o.totalGames,timesReachedDay:o.gamesPlayedByDay[s]||0,timesSurvivedDay:o.survivalsByDay[s]||0,isHighlightedAddition:!0}),v=!0}}return{lowestSurvivalData:t,highlightedPlayerAddedToLowest:v}},[d,s,g,h.highlightedPlayer]),x=l=>{S({selectedPlayer:l,fromComponent:"Statistiques de Survie"})},T=({active:l,payload:r,label:t})=>{if(l&&r&&r.length>0){const v=r[0].payload,o=v.isHighlightedAddition,p=h.highlightedPlayer===v.name,W=v.timesReachedDay>=g;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:8,borderRadius:6},children:[e.jsx("div",{children:e.jsx("strong",{children:t})}),e.jsx("div",{children:e.jsxs("span",{style:{color:"var(--accent-primary)"},children:["Taux de survie Jour ",s,": ",v.value.toFixed(1),"%"]})}),e.jsxs("div",{children:["Parties atteignant le Jour ",s,": ",v.timesReachedDay]}),e.jsxs("div",{children:["Survies au Jour ",s,": ",v.timesSurvivedDay]}),e.jsxs("div",{children:["Total de parties: ",v.gamesPlayed]}),o&&!W&&e.jsxs("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:["🎯 Affiché via sélection (< ",g," parties ce jour)"]}),o&&W&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Affiché via sélection (hors top 15)"}),p&&!o&&e.jsx("div",{style:{fontSize:"0.75rem",color:"var(--accent-primary)",marginTop:"0.25rem",fontStyle:"italic"},children:"🎯 Joueur sélectionné"}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null};return a?e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de survie..."}):f?e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",f]}):d?e.jsxs("div",{className:"lycans-survival-stats",children:[e.jsx("div",{className:"lycans-graphique-controles",style:{marginBottom:"1.5rem"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"day-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Jour :"}),e.jsx("select",{id:"day-select",value:s,onChange:l=>b(parseInt(l.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"80px"},children:j.map(l=>e.jsx("option",{value:l,children:l},l))})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Min. parties :"}),e.jsx("select",{id:"min-games-select",value:g,onChange:l=>m(parseInt(l.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"80px"},children:J.map(l=>e.jsx("option",{value:l,children:l},l))})]})]})}),s&&d.dayStats.find(l=>l.dayNumber===s)&&e.jsxs("div",{className:"lycans-resume-conteneur",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Parties atteignant le Jour ",s]}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-primary)"},children:d.dayStats.find(l=>l.dayNumber===s)?.totalGamesReachingDay||0})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Taux de survie moyen Jour ",s]}),e.jsxs("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-secondary)"},children:[(d.dayStats.find(l=>l.dayNumber===s)?.averageSurvivalRate||0).toFixed(1),"%"]})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsxs("h3",{children:["Joueurs éligibles (min. ",g," parties)"]}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--chart-color-1)"},children:d.playerSurvivalStats.filter(l=>(l.gamesPlayedByDay[s]||0)>=g).length})]})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["🛡️ Meilleurs Taux de Survie - Jour ",s]}),u&&h.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',h.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:`🛡️ Meilleurs Taux de Survie - Jour ${s}`,children:e.jsx("div",{style:{height:400},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:c,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:({x:l,y:r,payload:t})=>e.jsx("text",{x:l,y:r,dy:16,textAnchor:"end",transform:`rotate(-45, ${l}, ${r})`,fill:h.highlightedPlayer===t.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:h.highlightedPlayer===t.value?14:12,fontWeight:h.highlightedPlayer===t.value?"bold":"normal",children:t.value})}),e.jsx(L,{tickFormatter:l=>`${l.toFixed(0)}%`,tick:{fill:"var(--text-secondary)"},label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(T,{})}),e.jsx(I,{dataKey:"value",name:"Taux de survie",cursor:"pointer",children:c.map((l,r)=>{const t=h.highlightedPlayer===l.name,v=R===l.name,o=l.isHighlightedAddition;return e.jsx(w,{fill:D[l.name]||"var(--chart-primary)",stroke:t?"var(--accent-primary)":v?"var(--text-primary)":"none",strokeWidth:t?3:v?2:0,strokeDasharray:o?"5,5":"none",opacity:o?.8:1,onClick:()=>x(l.name),onMouseEnter:()=>A(l.name),onMouseLeave:()=>A(null),style:{cursor:"pointer"}},`cell-highest-${r}`)})})]})})})})]}),e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsxs("div",{children:[e.jsxs("h3",{children:["⚰️ Plus Faibles Taux de Survie - Jour ",s]}),n&&h.highlightedPlayer&&e.jsxs("p",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",fontStyle:"italic",marginTop:"0.25rem",marginBottom:"0.5rem"},children:['🎯 "',h.highlightedPlayer,'" affiché en plus du top 15']})]}),e.jsx(H,{title:`⚰️ Plus Faibles Taux de Survie - Jour ${s}`,children:e.jsx("div",{style:{height:400},children:e.jsx(V,{width:"100%",height:"100%",children:e.jsxs(E,{data:i,margin:{top:20,right:30,left:20,bottom:80},children:[e.jsx(C,{strokeDasharray:"3 3",stroke:"var(--border-color)"}),e.jsx(z,{dataKey:"name",angle:-45,textAnchor:"end",height:80,tick:({x:l,y:r,payload:t})=>e.jsx("text",{x:l,y:r,dy:16,textAnchor:"end",transform:`rotate(-45, ${l}, ${r})`,fill:h.highlightedPlayer===t.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:h.highlightedPlayer===t.value?14:12,fontWeight:h.highlightedPlayer===t.value?"bold":"normal",children:t.value})}),e.jsx(L,{tickFormatter:l=>`${l.toFixed(0)}%`,tick:{fill:"var(--text-secondary)"},label:{value:"Taux de survie (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(F,{content:e.jsx(T,{})}),e.jsx(I,{dataKey:"value",name:"Taux de survie",cursor:"pointer",children:i.map((l,r)=>{const t=h.highlightedPlayer===l.name,v=R===l.name,o=l.isHighlightedAddition;return e.jsx(w,{fill:D[l.name]||"var(--chart-color-4)",stroke:t?"var(--accent-primary)":v?"var(--text-primary)":"none",strokeWidth:t?3:v?2:0,strokeDasharray:o?"5,5":"none",opacity:o?.8:1,onClick:()=>x(l.name),onMouseEnter:()=>A(l.name),onMouseLeave:()=>A(null),style:{cursor:"pointer"}},`cell-lowest-${r}`)})})]})})})})]}),e.jsx("div",{className:"lycans-section-description",style:{marginTop:"1.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note :"})," Les statistiques de survie montrent le pourcentage de fois qu'un joueur survit au Jour ",s," parmi toutes les parties qu'il a jouées et qui ont atteint ce jour. ",u||n?"Les joueurs mis en évidence apparaissent même s'ils ne sont pas dans le top 15.":""]})})]}):e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de survie disponible"})}function He(){const{navigationState:d,updateNavigationState:y}=q(),[g,m]=K.useState(d.deathStatisticsState?.selectedCamp||d.deathStatsSelectedCamp||"Tous les camps"),[a,f]=K.useState(d.deathStatisticsState?.minGamesForAverage||25),[S,h]=K.useState(d.deathStatisticsState?.selectedView||"killers"),{data:P}=ve(),{data:D,isLoading:N,error:b}=ye(g),{data:R,isLoading:A,error:j}=pe(),{data:s,isLoading:c,error:u}=Se(g),{data:i}=ne(),n=ie();K.useEffect(()=>{(!d.deathStatisticsState||d.deathStatisticsState.selectedCamp!==g||d.deathStatisticsState.minGamesForAverage!==a||d.deathStatisticsState.selectedView!==S)&&y({deathStatisticsState:{selectedCamp:g,minGamesForAverage:a,selectedView:S,focusChart:d.deathStatisticsState?.focusChart}})},[g,a,S,d.deathStatisticsState,y]);const x=K.useMemo(()=>i?de(i):[],[i]),T=K.useMemo(()=>{const p={};x.forEach(k=>{k===M.BY_WOLF?p[k]=n.Loup:k===M.VOTED?p[k]="var(--chart-color-1)":k===M.BULLET||k===M.BULLET_HUMAN||k===M.BULLET_WOLF?p[k]=n.Chasseur:k===M.BY_ZOMBIE?p[k]=n.Vaudou:k===M.ASSASSIN?p[k]=n.Alchimiste:k===M.AVENGER?p[k]="var(--chart-color-2)":k===M.LOVER_DEATH?p[k]=n.Amoureux:k===M.BY_BEAST?p[k]="var(--chart-color-3)":k===M.SHERIF_SUCCESS&&(p[k]="var(--chart-color-4)")});const W=["var(--accent-primary)","var(--accent-secondary)","var(--accent-tertiary)","#8884d8","#82ca9d","#ffc658","#ff7300","#00c49f","#ffbb28"];let Z=0;return x.forEach(k=>{p[k]||(p[k]=W[Z%W.length],Z++)}),p},[x,n]),l=p=>{m(p),y({deathStatsSelectedCamp:p,deathStatisticsState:{selectedCamp:p,minGamesForAverage:a,selectedView:S,focusChart:d.deathStatisticsState?.focusChart}})},r=p=>{f(p),y({deathStatisticsState:{selectedCamp:g,minGamesForAverage:p,selectedView:S,focusChart:d.deathStatisticsState?.focusChart}})},t=p=>{h(p),y({deathStatisticsState:{selectedCamp:g,minGamesForAverage:a,selectedView:p,focusChart:d.deathStatisticsState?.focusChart}})},{gamesWithKillers:v,totalEligibleForAverage:o}=K.useMemo(()=>{if(!D)return{gamesWithKillers:0,totalEligibleForAverage:0};const p=D.killerStats.filter(W=>W.gamesPlayed>=a);return{gamesWithKillers:D.totalGames,totalEligibleForAverage:p.length}},[D,a]);return N?e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de mort..."}):b?e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",b]}):D?e.jsxs("div",{className:"lycans-players-stats",children:[e.jsx("h2",{children:"Statistiques de Tueurs"}),e.jsxs("div",{className:"lycans-categories-selection",children:[e.jsx("button",{className:`lycans-categorie-btn ${S==="killers"?"active":""}`,onClick:()=>t("killers"),children:"Tueurs"}),e.jsx("button",{className:`lycans-categorie-btn ${S==="deaths"?"active":""}`,onClick:()=>t("deaths"),children:"Morts"}),e.jsx("button",{className:`lycans-categorie-btn ${S==="survival"?"active":""}`,onClick:()=>t("survival"),children:"Survie"}),e.jsx("button",{className:`lycans-categorie-btn ${S==="hunter"?"active":""}`,onClick:()=>t("hunter"),children:"Chasseur"})]}),(S==="killers"||S==="deaths"||S==="survival")&&e.jsxs("div",{style:{marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem",fontWeight:"bold"},children:"Camp :"}),e.jsxs("select",{id:"camp-select",value:g,onChange:p=>l(p.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[e.jsx("option",{value:"Tous les camps",children:"Tous les camps"}),P?.map(p=>e.jsx("option",{value:p,children:p},p))]})]}),(S==="killers"||S==="deaths")&&e.jsxs("div",{className:"lycans-resume-conteneur",style:{marginBottom:"2rem"},children:[e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Total des morts"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-secondary)"},children:D.totalDeaths})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Tueurs identifiés"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--chart-color-1)"},children:D.killerStats.length})]}),e.jsxs("div",{className:"lycans-stat-carte",children:[e.jsx("h3",{children:"Nombre de parties enregistrées"}),e.jsx("div",{className:"lycans-valeur-principale",style:{color:"var(--accent-primary)"},children:v})]})]}),S==="killers"&&e.jsx(Pe,{deathStats:D,selectedCamp:g,minGamesForAverage:a,onMinGamesChange:r,availableDeathTypes:x,deathTypeColors:T,totalEligibleForAverage:o}),S==="deaths"&&e.jsx(De,{deathStats:D,selectedCamp:g,minGamesForAverage:a,onMinGamesChange:r,availableDeathTypes:x,deathTypeColors:T}),S==="hunter"&&e.jsx(Te,{hunterStats:R,isLoading:A,error:j}),S==="survival"&&e.jsx(be,{survivalStats:s,selectedCamp:g,minGamesForAverage:a,onMinGamesChange:r,isLoading:c,error:u}),e.jsx("div",{className:"lycans-section-description",style:{marginTop:"1.5rem"},children:e.jsxs("p",{children:[e.jsx("strong",{children:"Note : "}),"Données en cours de récupération (données partielles)."]})})]}):e.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de mort disponible"})}export{He as DeathStatisticsChart};
