import{r as s}from"./index-mVkbdXau.js";import{w as R,bu as N,bv as L,ar as V,H as z,u as A,au as S,L as C,c as _,s as T,aw as F,ax as W,az as y,bw as k}from"./CategoricalChart-B4OHOSCd.js";import{c as G,j as H}from"./FullscreenChart-DURYIO7N.js";import{g as E}from"./datasyncExport-D6_8Fmuy.js";function I(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),t.push.apply(t,a)}return t}function w(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?I(Object(t),!0).forEach(function(a){g(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):I(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function g(e,r,t){return(r=K(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function K(e){var r=U(e,"string");return typeof r=="symbol"?r:r+""}function U(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function h(){return h=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},h.apply(null,arguments)}var X=(e,r,t,a,i,o,n)=>{var{x1:f,x2:u,y1:c,y2:d}=n;if(i==null||o==null)return null;var l=G({x:i,y:o}),m={x:e?l.x.apply(f,{position:"start"}):l.x.rangeMin,y:t?l.y.apply(c,{position:"start"}):l.y.rangeMin},p={x:r?l.x.apply(u,{position:"end"}):l.x.rangeMax,y:a?l.y.apply(d,{position:"end"}):l.y.rangeMax};return n.ifOverflow==="discard"&&(!l.isInRange(m)||!l.isInRange(p))?null:H(m,p)},Y=(e,r)=>{var t;return s.isValidElement(e)?t=s.cloneElement(e,r):typeof e=="function"?t=e(r):t=s.createElement(k,h({},r,{className:"recharts-reference-area-rect"})),t};function B(e){var r=R();return s.useEffect(()=>(r(N(e)),()=>{r(L(e))})),null}function Z(e){var{x1:r,x2:t,y1:a,y2:i,className:o,shape:n,xAxisId:f,yAxisId:u}=e,c=V(),d=z(),l=A(v=>S(v,"xAxis",f,d)),m=A(v=>S(v,"yAxis",u,d));if(l==null||!m==null)return null;var p=y(r),b=y(t),P=y(a),O=y(i);if(!p&&!b&&!P&&!O&&!n)return null;var x=X(p,b,P,O,l,m,e);if(!x&&!n)return null;var D=e.ifOverflow==="hidden",j=D?"url(#".concat(c,")"):void 0;return s.createElement(C,{className:_("recharts-reference-area",o)},Y(n,w(w({clipPath:j},T(e)),x)),s.createElement(F,x,s.createElement(W,{label:e.label}),e.children))}function q(e){return s.createElement(s.Fragment,null,s.createElement(B,{yAxisId:e.yAxisId,xAxisId:e.xAxisId,ifOverflow:e.ifOverflow,x1:e.x1,x2:e.x2,y1:e.y1,y2:e.y2}),s.createElement(Z,e))}class M extends s.Component{render(){return s.createElement(q,this.props)}}g(M,"displayName","ReferenceArea");g(M,"defaultProps",{ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});const J={Village:{src:"/Village.webp",zMin:-820,zMax:820,xMin:-461,xMax:461},Château:{src:"/Château.webp",zMin:-820,zMax:820,xMin:-461,xMax:461}};function ae(e){return J[e]||null}function Q(e){return e==="SURVIVALIST_NOT_SAVED"?"BY_WOLF":e}function ne(e,r){const t=[],a={x:166.35,z:176.22,multiplier:5.45},i={x:403.32,z:-121.11,multiplier:18.4};return e.forEach(o=>{o.PlayerStats.filter(n=>n.DeathPosition!==null).filter(n=>!r||r==="Tous les camps"?!0:E(n.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!0})===r).forEach(n=>{if(n.DeathPosition){const f=E(n.MainRoleInitial,{regroupLovers:!0,regroupVillagers:!0,regroupWolfSubRoles:!0});let u=n.DeathPosition.x,c=n.DeathPosition.z;o.MapName==="Village"?(u=(u-a.x)*a.multiplier,c=(c-a.z)*a.multiplier*-1):o.MapName==="Château"&&(u=(u-i.x)*i.multiplier,c=(c-i.z)*i.multiplier*-1),t.push({x:u,z:c,playerName:n.Username,deathType:Q(n.DeathType),mapName:o.MapName,killerName:n.KillerName||null,camp:f,gameId:o.DisplayedId,displayedGameId:o.DisplayedId})}})}),t}function ie(e){const r=new Set;return e.forEach(t=>{t.PlayerStats.some(i=>i.DeathPosition!==null)&&t.MapName&&r.add(t.MapName)}),Array.from(r).sort()}export{M as R,ae as a,ne as c,ie as g};
