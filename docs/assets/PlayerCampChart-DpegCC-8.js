import{g as Z,j as e,u as ue,a as fe,r as G}from"./index-Cq6xbGc4.js";import{u as de}from"./baseStatsHook-ytnNh9d3.js";import{g as J,a as L,b as _}from"./datasyncExport-D6_8Fmuy.js";import{u as he}from"./useJoueursData-BExshYnv.js";import{a as ge,u as ye,m as Pe}from"./api-FBT4zS-5.js";import{F as ee,C as ae,X as re,Y as se,a as xe}from"./FullscreenChart-sWjpo5m_.js";import{R as ie,T as te}from"./CategoricalChart-BnRWtmay.js";import{B as ve,a as Re}from"./BarChart-BL5n_SZt.js";import{S as Ce,a as je}from"./ScatterChart-BZMXLslG.js";function Y(n,r=!1,l=!1){const o={};return n.forEach(p=>{const c=new Set;p.PlayerStats.forEach(s=>{const t=J(L(s.MainRoleInitial,s.MainRoleChanges||[]),{regroupWolfSubRoles:r,regroupVillagers:l});c.add(t)}),c.forEach(s=>{o[s]||(o[s]={totalGames:0,wins:0,winRate:0,players:{}}),o[s].totalGames++});const d=new Set;p.PlayerStats.forEach(s=>{if(s.Victorious){const t=J(L(s.MainRoleInitial,s.MainRoleChanges||[]),{regroupWolfSubRoles:r,regroupVillagers:l});d.add(t)}}),d.forEach(s=>{o[s]&&o[s].wins++})}),o}function Q(n,r,l=!1,o=!1){const p={};return n.forEach(c=>{c.PlayerStats.forEach(d=>{const s=Z(d),t=d.Username,a=J(L(d.MainRoleInitial,d.MainRoleChanges||[]),{regroupWolfSubRoles:l,regroupVillagers:o}),R=a==="Autres"?"R√¥les sp√©ciaux":a;r[R].players[s]||(r[R].players[s]={games:0,wins:0,winRate:0,displayName:t}),r[R].players[s].games++,r[R].players[s].displayName=t,d.Victorious&&r[R].players[s].wins++,p[s]||(p[s]={totalGames:0,camps:{},displayName:t}),p[s].displayName=t,p[s].camps[R]||(p[s].camps[R]={games:0,wins:0,winRate:0,performance:0}),p[s].totalGames++,p[s].camps[R].games++,d.Victorious&&p[s].camps[R].wins++})}),p}function we(n){const r={};return r["R√¥les sp√©ciaux"]={totalGames:0,wins:0,winRate:0,players:{}},n.forEach(l=>{l.PlayerStats.forEach(o=>{_(L(o.MainRoleInitial,o.MainRoleChanges||[]))==="Autres"&&(r["R√¥les sp√©ciaux"].totalGames++,o.Victorious&&r["R√¥les sp√©ciaux"].wins++)})}),r}function Te(n,r){const l={};return n.forEach(o=>{o.PlayerStats.forEach(p=>{const c=Z(p),d=p.Username;if(_(L(p.MainRoleInitial,p.MainRoleChanges||[]))==="Autres"){const t="R√¥les sp√©ciaux";r[t].players[c]||(r[t].players[c]={games:0,wins:0,winRate:0,displayName:d}),r[t].players[c].games++,r[t].players[c].displayName=d,p.Victorious&&r[t].players[c].wins++,l[c]||(l[c]={totalGames:0,camps:{},displayName:d}),l[c].displayName=d,l[c].camps[t]||(l[c].camps[t]={games:0,wins:0,winRate:0,performance:0}),l[c].totalGames++,l[c].camps[t].games++,p.Victorious&&l[c].camps[t].wins++}})}),l}function q(n){Object.keys(n).forEach(r=>{n[r].totalGames>0&&(n[r].winRate=parseFloat((n[r].wins/n[r].totalGames*100).toFixed(2))),Object.keys(n[r].players).forEach(l=>{const o=n[r].players[l];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)))})})}function B(n,r){Object.keys(n).forEach(l=>{Object.keys(n[l].camps).forEach(o=>{const p=n[l].camps[o];p.games>0&&(p.winRate=parseFloat((p.wins/p.games*100).toFixed(2)),r[o]&&r[o].winRate!==void 0?p.performance=parseFloat((p.winRate-r[o].winRate).toFixed(2)):p.performance=0)})})}function be(n,r,l){const o=[];return Object.keys(n).forEach(c=>{const d=n[c],s=[];Object.keys(d.camps).forEach(t=>{const a=d.camps[t];if(a.games>=l){const R=r[t]&&r[t].winRate!==void 0?r[t].winRate.toFixed(2):"0.00";s.push({camp:t,games:a.games,wins:a.wins,winRate:a.winRate.toFixed(2),campAvgWinRate:R,performance:a.performance.toFixed(2)})}}),s.sort((t,a)=>parseFloat(a.performance)-parseFloat(t.performance)),s.length>0&&o.push({player:d.displayName,totalGames:d.totalGames,campPerformance:s})}),o.sort((c,d)=>d.totalGames-c.totalGames),{campAverages:Object.keys(r).map(c=>({camp:c,totalGames:r[c].totalGames,wins:r[c].wins,winRate:r[c].winRate.toFixed(2)})),playerPerformanceArray:o}}function Fe(n){if(n.length===0)return null;const r=Y(n,!1,!1),l=Y(n,!0,!0),o=we(n),p=Q(n,r,!1,!1),c=Q(n,l,!0,!0),d=Te(n,o);q(r),q(l),q(o),B(p,r),B(c,l),B(d,o);const s={...r},t={...p};l.Loup&&(s["Camp Loup"]=l.Loup,Object.keys(c).forEach(x=>{t[x]||(t[x]=c[x]),c[x].camps.Loup&&(t[x].camps["Camp Loup"]=c[x].camps.Loup)})),l.Villageois&&(s["Camp Villageois"]=l.Villageois,Object.keys(c).forEach(x=>{t[x]||(t[x]=c[x]),c[x].camps.Villageois&&(t[x].camps["Camp Villageois"]=c[x].camps.Villageois)})),o["R√¥les sp√©ciaux"]&&(s["R√¥les sp√©ciaux"]=o["R√¥les sp√©ciaux"],Object.keys(d).forEach(x=>{t[x]||(t[x]=d[x]),d[x].camps["R√¥les sp√©ciaux"]&&(t[x].camps["R√¥les sp√©ciaux"]=d[x].camps["R√¥les sp√©ciaux"])}));const a=3,{campAverages:R,playerPerformanceArray:j}=be(t,s,a);return{campAverages:R,playerPerformance:j,minGamesRequired:a}}function Ae(){const{data:n,isLoading:r,error:l}=de(Fe);return{playerCampPerformance:n,isLoading:r,error:l}}function Ne({viewMode:n,selectedCamp:r,chartData:l,highlightedPlayer:o,lycansColorScheme:p,playersColor:c,onBarClick:d}){return e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsx("h3",{children:n==="performance"?r==="Tous les camps"?"Meilleures performances - Tous les camps":`Meilleurs joueurs en ${r}`:r==="Tous les camps"?"Plus grand % de parties - Tous les camps":`Plus grand % de parties en ${r}`}),e.jsx(ee,{title:n==="performance"?r==="Tous les camps"?"Meilleures Performances - Tous les camps":`Meilleurs Joueurs - ${r}`:r==="Tous les camps"?"Pourcentage de Parties Jou√©es - Tous les camps":`Pourcentage de Parties Jou√©es - ${r}`,children:e.jsx("div",{style:{height:500},children:e.jsx(ie,{width:"100%",height:"100%",children:e.jsxs(ve,{data:l,margin:{top:20,right:30,left:20,bottom:0},children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(re,{dataKey:r==="Tous les camps"?"uniqueKey":"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:t,payload:a,index:R})=>{const j=l[R],x=j?.player||a.value,F=o===(j?.player||a.value);return e.jsx("text",{x:s,y:t,dy:16,textAnchor:"end",fill:F?"var(--accent-primary)":"var(--text-secondary)",fontSize:F?14:13,fontWeight:F?"bold":"italic",transform:`rotate(-45 ${s} ${t})`,children:x})}}),e.jsx(se,{domain:n==="playPercentage"?[0,100]:["auto","auto"],label:{value:n==="performance"?"Performance vs moyenne (%)":"Pourcentage de parties jou√©es (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(te,{content:({active:s,payload:t})=>{if(s&&t&&t.length>0){const a=t[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:r==="Tous les camps"?`${a.player} - ${a.camp}`:a.player})}),n==="performance"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Parties: ",a.games]}),e.jsxs("div",{children:["Victoires: ",a.wins]}),e.jsxs("div",{children:["Taux personnel: ",a.winRate,"%"]}),r!=="Tous les camps"&&e.jsxs("div",{children:["Moyenne camp: ",a.campAvgWinRate,"%"]}),e.jsxs("div",{children:["Performance: ",a.performance>0?"+":"",a.performance]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Parties dans ce r√¥le: ",a.games]}),e.jsxs("div",{children:["Total parties: ",a.totalGames]}),e.jsxs("div",{children:["Pourcentage: ",a.playPercentage?.toFixed(1),"%"]}),e.jsxs("div",{children:["Victoires: ",a.wins]}),e.jsxs("div",{children:["Taux de victoire: ",a.winRate,"%"]})]}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),e.jsx(Re,{dataKey:n==="performance"?"performanceNum":"playPercentage",style:{cursor:"pointer"},onClick:d,children:l.map((s,t)=>{const a=o===s.player,R=s.isHighlightedAddition;let j;return r==="Tous les camps"?j=p[s.camp]||`var(--chart-color-${t%6+1})`:j=c[s.player]||"var(--accent-primary)",e.jsx(xe,{fill:j,stroke:a?"var(--accent-primary)":"transparent",strokeWidth:a?3:0,strokeDasharray:R?"5,5":"none",opacity:R?.8:1},`cell-${t}`)})})]})})})})]})}function Ve({viewMode:n,selectedCamp:r,chartData:l,highlightedPlayer:o,lycansColorScheme:p,playersColor:c,onScatterClick:d}){return e.jsxs("div",{className:"lycans-graphique-section",children:[e.jsx("h3",{children:n==="performance"?r==="Tous les camps"?"Vue Partie/Performance - Tous les camps":`Vue Partie/Performance - ${r}`:r==="Tous les camps"?"Vue Pourcentage/Taux de victoire - Tous les camps":`Vue Pourcentage/Taux de victoire - ${r}`}),e.jsx(ee,{title:n==="performance"?r==="Tous les camps"?"Vue Partie/Performance - Tous les camps":`Vue Partie/Performance - ${r}`:r==="Tous les camps"?"Vue Pourcentage/Taux de victoire - Tous les camps":`Vue Pourcentage/Taux de victoire - ${r}`,children:e.jsx("div",{style:{height:500},children:e.jsx(ie,{width:"100%",height:"100%",children:e.jsxs(Ce,{margin:{top:20,right:30,left:20,bottom:40},children:[e.jsx(ae,{strokeDasharray:"3 3"}),e.jsx(re,{type:"number",dataKey:"games",name:"Parties",label:{value:"Nombre de parties",position:"bottom"}}),e.jsx(se,{type:"number",dataKey:n==="performance"?"performanceNum":r==="Tous les camps"?"playPercentage":"winRateNum",name:n==="performance"?"Performance":r==="Tous les camps"?"Pourcentage":"Taux de victoire",domain:n==="performance"?["auto","auto"]:[0,100],label:{value:n==="performance"?"Performance vs moyenne (%)":r==="Tous les camps"?"Pourcentage de parties jou√©es (%)":"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),e.jsx(te,{cursor:{strokeDasharray:"3 3"},content:({active:s,payload:t})=>{if(s&&t&&t.length>0){const a=t[0].payload;return e.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[e.jsx("div",{children:e.jsx("strong",{children:r==="Tous les camps"?`${a.player} - ${a.camp}`:a.player})}),n==="performance"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Parties: ",a.games]}),e.jsxs("div",{children:["Victoires: ",a.wins]}),e.jsxs("div",{children:["Taux personnel: ",a.winRate,"%"]}),r!=="Tous les camps"&&e.jsxs("div",{children:["Moyenne camp: ",a.campAvgWinRate,"%"]}),e.jsxs("div",{children:["Performance: ",a.performance>0?"+":"",a.performance]})]}):e.jsx(e.Fragment,{children:r==="Tous les camps"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Parties dans ce r√¥le: ",a.games]}),e.jsxs("div",{children:["Total parties: ",a.totalGames]}),e.jsxs("div",{children:["Pourcentage: ",a.playPercentage?.toFixed(1),"%"]}),e.jsxs("div",{children:["Victoires: ",a.wins]}),e.jsxs("div",{children:["Taux de victoire: ",a.winRate,"%"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:["Parties: ",a.games]}),e.jsxs("div",{children:["Victoires: ",a.wins]}),e.jsxs("div",{children:["Taux de victoire: ",a.winRate,"%"]})]})}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),e.jsx(je,{data:l,onClick:d,shape:s=>{const t=o===s.payload?.player,a=s.payload?.isHighlightedAddition;return e.jsxs("g",{style:{cursor:"pointer"},children:[e.jsx("circle",{cx:s.cx,cy:s.cy,r:t?15:12,fill:r==="Tous les camps"?p[s.payload?.camp]||"var(--accent-primary)":c[s.payload?.player]||"var(--accent-primary)",stroke:t?"var(--accent-primary)":"#222",strokeWidth:t?3:1,strokeDasharray:a?"5,5":"none",opacity:a?.8:1}),e.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:t?"12":"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})}function He(){const{navigateToGameDetails:n,navigationState:r,updateNavigationState:l}=ue(),{settings:o}=fe(),p=ge(),{joueursData:c}=he(),d=ye(c),[s,t]=G.useState(r.campPerformanceState?.viewMode||"performance"),[a,R]=G.useState(r.campPerformanceState?.selectedCampPerformanceCamp||"Camp Villageois"),[j,x]=G.useState(r.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:F,isLoading:ne,error:K}=Ae();G.useEffect(()=>{r.campPerformanceState||l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:j}})},[s,a,j,r.campPerformanceState,l]);const oe=G.useMemo(()=>{if(!F?.campAverages)return["Tous les camps"];const i=F.campAverages.map(W=>W.camp),m=["Tous les camps"];i.includes("Camp Villageois")&&m.push("Camp Villageois"),i.includes("Chasseur")&&m.push("Chasseur"),i.includes("Alchimiste")&&m.push("Alchimiste"),i.includes("Villageois")&&m.push("Villageois"),i.includes("Camp Loup")&&m.push("Camp Loup"),i.includes("Loup")&&m.push("Loup"),i.includes("Tra√Ætre")&&m.push("Tra√Ætre"),i.includes("Louveteau")&&m.push("Louveteau"),i.includes("R√¥les sp√©ciaux")&&m.push("R√¥les sp√©ciaux");const C=["Camp Villageois","Camp Loup","R√¥les sp√©ciaux"],N=[...["Camp Villageois","Villageois","Chasseur","Alchimiste","Camp Loup","Loup","Tra√Ætre","Louveteau"],...C],$=i.filter(W=>!N.includes(W)).sort();return[...m,...$]},[F]),{campPlayPercentageData:le,topPlayPercentageData:ce,totalPlayPercentagePlayers:S}=G.useMemo(()=>{if(!F?.playerPerformance||s!=="playPercentage")return{campPlayPercentageData:[],topPlayPercentageData:[],totalPlayPercentagePlayers:0};const{playerPerformance:i}=F,m=[],C=[],T=new Map;for(const h of i){const w=h.campPerformance.reduce((f,A)=>f+A.games,0);for(const f of h.campPerformance)if(f.games>=j){const A=f.games/w*100,u=`${h.player}-${f.camp}`,y={player:h.player,camp:f.camp,games:f.games,wins:f.wins,winRate:f.winRate,performance:f.performance,winRateNum:parseFloat(f.winRate),performanceNum:parseFloat(f.performance),campAvgWinRateNum:parseFloat(f.campAvgWinRate),totalGames:w,playPercentage:A,isHighlightedAddition:!1,uniqueKey:u,playerCamp:u},V=T.get(h.player);(!V||y.playPercentage>V.playPercentage)&&T.set(h.player,y),a!=="Tous les camps"&&f.camp===a&&m.push(y)}}C.push(...T.values());const N=(h,w,f=!1)=>{if(!o.highlightedPlayer||h.some(P=>P.player===o.highlightedPlayer&&(!w||P.camp===w)))return h;const u=i.find(P=>P.player===o.highlightedPlayer);if(!u)return h;const y=u.campPerformance.reduce((P,b)=>P+b.games,0);if(f){let P=null;for(const b of u.campPerformance)if(b.games>=1){const E=b.games/y*100,I=`${u.player}-${b.camp}`,X={player:u.player,camp:b.camp,games:b.games,wins:b.wins,winRate:b.winRate,performance:b.performance,winRateNum:parseFloat(b.winRate),performanceNum:parseFloat(b.performance),campAvgWinRateNum:parseFloat(b.campAvgWinRate),totalGames:y,playPercentage:E,isHighlightedAddition:!0,uniqueKey:I,playerCamp:I};(!P||X.playPercentage>P.playPercentage)&&(P=X)}return P?[...h,P]:h}const V=[];for(const P of u.campPerformance)if((!w||P.camp===w)&&P.games>=1){const b=P.games/y*100,E=`${u.player}-${P.camp}`;V.push({player:u.player,camp:P.camp,games:P.games,wins:P.wins,winRate:P.winRate,performance:P.performance,winRateNum:parseFloat(P.winRate),performanceNum:parseFloat(P.performance),campAvgWinRateNum:parseFloat(P.campAvgWinRate),totalGames:y,playPercentage:b,isHighlightedAddition:!0,uniqueKey:E,playerCamp:E})}return[...h,...V]},$=a!=="Tous les camps"?N(m,a,!1):[],W=N(C,void 0,!0),H=$.sort((h,w)=>w.playPercentage-h.playPercentage),z=W.sort((h,w)=>w.playPercentage-h.playPercentage),k=(h,w)=>{const f=h.slice(0,w);if(f.some(y=>y.player===o.highlightedPlayer)||!o.highlightedPlayer)return f;const u=h.find(y=>y.player===o.highlightedPlayer);if(u){const y={...u,isHighlightedAddition:!0};return[...f,y]}return f};let M=0;a==="Tous les camps"?M=T.size:M=m.length;const v=k(H,15),g=k(z,15);return{campPlayPercentageData:v,topPlayPercentageData:g,totalPlayPercentagePlayers:M}},[F,a,j,o.highlightedPlayer,s]),{campPlayerData:me,topPerformersData:pe,totalMatchingPlayers:D}=G.useMemo(()=>{if(!F?.playerPerformance||s!=="performance")return{campPlayerData:[],topPerformersData:[],totalMatchingPlayers:0};const{playerPerformance:i}=F,m=[],C=[],T=new Map;for(const v of i)for(const g of v.campPerformance)if(g.games>=j){const h=`${v.player}-${g.camp}`,w={player:v.player,camp:g.camp,games:g.games,wins:g.wins,winRate:g.winRate,performance:g.performance,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h},f=T.get(v.player);(!f||w.performanceNum>f.performanceNum)&&T.set(v.player,w),a!=="Tous les camps"&&g.camp===a&&m.push({player:v.player,...g,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h})}C.push(...T.values());const N=(v,g,h=!1)=>{if(!o.highlightedPlayer||v.some(u=>u.player===o.highlightedPlayer&&(!g||u.camp===g)))return v;const f=i.find(u=>u.player===o.highlightedPlayer);if(!f)return v;if(h){let u=null;for(const y of f.campPerformance)if(y.games>=1){const V=`${f.player}-${y.camp}`,P={player:f.player,camp:y.camp,games:y.games,wins:y.wins,winRate:y.winRate,performance:y.performance,winRateNum:parseFloat(y.winRate),performanceNum:parseFloat(y.performance),campAvgWinRateNum:parseFloat(y.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:V,playerCamp:V};(!u||P.performanceNum>u.performanceNum)&&(u=P)}return u?[...v,u]:v}const A=[];for(const u of f.campPerformance)if((!g||u.camp===g)&&u.games>=1){const y=`${f.player}-${u.camp}`;A.push({player:f.player,camp:u.camp,games:u.games,wins:u.wins,winRate:u.winRate,performance:u.performance,winRateNum:parseFloat(u.winRate),performanceNum:parseFloat(u.performance),campAvgWinRateNum:parseFloat(u.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:y,playerCamp:y})}return[...v,...A]},$=a!=="Tous les camps"?N(m,a,!1):[],W=N(C,void 0,!0),H=$.sort((v,g)=>g.performanceNum-v.performanceNum),z=W.sort((v,g)=>g.performanceNum-v.performanceNum),k=(v,g)=>{const h=v.slice(0,g);if(h.some(A=>A.player===o.highlightedPlayer)||!o.highlightedPlayer)return h;const f=v.find(A=>A.player===o.highlightedPlayer);if(f){const A={...f,isHighlightedAddition:!0};return[...h,A]}return h};let M=0;return a==="Tous les camps"?M=T.size:M=m.length,{campPlayerData:k(H,15),topPerformersData:k(z,15),totalMatchingPlayers:M}},[F,a,j,o.highlightedPlayer,s]),O=i=>{i&&i.player&&(a!=="Tous les camps"?n(a==="Camp Loup"?{selectedPlayer:i.player,campFilter:{selectedCamp:"Camp Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:`Performance des Joueurs - ${a}`}:a==="Camp Villageois"?{selectedPlayer:i.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeVillagers:!1},fromComponent:`Performance des Joueurs - ${a}`}:a==="R√¥les sp√©ciaux"?{selectedPlayer:i.player,fromComponent:`Performance des Joueurs - ${a}`}:{selectedPlayer:i.player,campFilter:{selectedCamp:a,campFilterMode:"wins-only",excludeWolfSubRoles:a==="Tra√Ætre"||a==="Louveteau",excludeVillagers:a==="Chasseur"||a==="Alchimiste"},fromComponent:`Performance des Joueurs - ${a}`}):i.camp==="Camp Loup"?n({selectedPlayer:i.player,campFilter:{selectedCamp:"Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:"Performance des Joueurs - Tous les camps"}):i.camp==="Camp Villageois"?n({selectedPlayer:i.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeWolfSubRoles:!0},fromComponent:"Performance des Joueurs - Tous les camps"}):i.camp==="R√¥les sp√©ciaux"?n({selectedPlayer:i.player,fromComponent:"Performance des Joueurs - Tous les camps"}):n({selectedPlayer:i.player,campFilter:{selectedCamp:i.camp,campFilterMode:"wins-only",excludeWolfSubRoles:i.camp==="Tra√Ætre"||i.camp==="Louveteau",excludeVillagers:i.camp==="Chasseur"||i.camp==="Alchimiste"},fromComponent:"Performance des Joueurs - Tous les camps"}))};if(ne)return e.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."});if(K)return e.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",K]});if(!F)return e.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e de performance par camp disponible"});const U=s==="performance"?a==="Tous les camps"?pe:me:a==="Tous les camps"?ce:le;return e.jsxs("div",{className:"lycans-player-camp-performance",children:[e.jsx("h2",{children:s==="performance"?"Meilleures Performances par Camp":"Pourcentage de Parties Jou√©es par R√¥le"}),e.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Affichage:"}),e.jsxs("select",{id:"view-mode-select",value:s,onChange:i=>{const m=i.target.value;t(m),l({campPerformanceState:{viewMode:m,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:j}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:[e.jsx("option",{value:"performance",children:"üèÜ Meilleures performances"}),e.jsx("option",{value:"playPercentage",children:"üìä % parties jou√©es"})]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),e.jsx("select",{id:"camp-select",value:a,onChange:i=>{const m=i.target.value;R(m),l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:j}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:oe.map(i=>{let m=i,C=!1,T=!1,N=!1;return i==="Tous les camps"?(m="üìä Tous les camps",N=!0):i==="Camp Villageois"?(m="   üèòÔ∏è Camp Villageois",C=!0,T=!0):i==="Villageois"?(m="   Villageois",C=!0):i==="Chasseur"?(m="     Chasseur",C=!0):i==="Alchimiste"?(m="     Alchimiste",C=!0):i==="Camp Loup"?(m="   üê∫ Camp Loup",C=!0,T=!0):i==="Loup"?(m="     Loup",C=!0):i==="Tra√Ætre"?(m="     Tra√Ætre",C=!0):i==="Louveteau"?(m="     Louveteau",C=!0):i==="R√¥les sp√©ciaux"?(m="   ‚≠ê R√¥les sp√©ciaux",C=!0,T=!0):(m=`     ${i}`,C=!0),e.jsx("option",{value:i,style:{fontFamily:"monospace",fontSize:C?"0.85rem":"0.9rem",fontWeight:T?"bold":"normal",color:T?"var(--accent-primary)":N?"var(--accent-secondary)":"inherit"},children:m},i)})})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),e.jsx("select",{id:"min-games-select",value:j,onChange:i=>{const m=Number(i.target.value);x(m),l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:Pe.map(i=>e.jsx("option",{value:i,children:i},i))})]})]}),e.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:e.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontWeight:"500"},children:[s==="performance"?D:S," joueur",(s==="performance"?D:S)!==1?"s":""," ",(s==="performance"?D:S)!==1?"correspondent":"correspond"," aux crit√®res"]})}),e.jsxs("div",{className:"lycans-graphiques-groupe",children:[e.jsx(Ne,{viewMode:s,selectedCamp:a,chartData:U,highlightedPlayer:o.highlightedPlayer,lycansColorScheme:p,playersColor:d,onBarClick:O}),e.jsx(Ve,{viewMode:s,selectedCamp:a,chartData:U,highlightedPlayer:o.highlightedPlayer,lycansColorScheme:p,playersColor:d,onScatterClick:O})]})]})}export{He as PlayerCampChart};
