import{r as u,f as Se,u as ke,j as t}from"./index-BVFt3X19.js";import{a as Ee}from"./baseStatsHook-CFxsVQYF.js";import{g as Ce}from"./gameUtils-DYpUb-C5.js";import{c as Ne}from"./datasyncExport-CjB7UYqV.js";import{u as We,i as ce,G as Le,b as we,F as O,C as T,X as V,Y as G,a as Re}from"./FullscreenChart-BweZfKwi.js";import{a as Me}from"./api-Blw0Uzvd.js";import{m as H,p as U,ai as de,aj as ue,ak as Oe,al as Q,am as Te,_ as he,$ as Z,an as Ve,af as pe,b as me,a0 as Ge,ao as ze,a3 as Ke,ap as Be,aq as qe,ae as _e,a4 as ve,ar as $e,as as Fe,d as Xe,at as Ye,i as fe,L as B,a5 as ee,au as ae,av as R,a8 as Je,a9 as He,ac as w,a7 as Ue,k as Qe,aa as Ze,ab as ea,F as ge,aw as X,ad as aa,ax as $,ag as ta,R as z,T as K}from"./CategoricalChart-DsnLyAn9.js";import{B as te,a as _}from"./BarChart-Dy7esl00.js";import{g as ra,L as ia,a as Y}from"./LineChart-IzAr7EPr.js";import{L as re}from"./Legend-De5BCrqB.js";import{A as ie,D as na}from"./ActivePoints-BYp2r8rG.js";var ye=(a,e,r,i)=>de(a,"xAxis",e,i),xe=(a,e,r,i)=>ue(a,"xAxis",e,i),je=(a,e,r,i)=>de(a,"yAxis",r,i),be=(a,e,r,i)=>ue(a,"yAxis",r,i),sa=H([U,ye,je,xe,be],(a,e,r,i,l)=>he(a,"xAxis")?Z(e,i,!1):Z(r,l,!1)),la=(a,e,r,i,l)=>l,Ae=H([Ve,la],(a,e)=>a.filter(r=>r.type==="area").find(r=>r.id===e)),oa=(a,e,r,i,l)=>{var n,h=Ae(a,e,r,i,l);if(h!=null){var d=U(a),p=he(d,"xAxis"),f;if(p?f=Q(a,"yAxis",r,i):f=Q(a,"xAxis",e,i),f!=null){var{stackId:b}=h,I=Te(h);if(!(b==null||I==null)){var m=(n=f[b])===null||n===void 0?void 0:n.stackedData;return m?.find(o=>o.key===I)}}}},ca=H([U,ye,je,xe,be,oa,Oe,sa,Ae],(a,e,r,i,l,n,h,d,p)=>{var{chartData:f,dataStartIndex:b,dataEndIndex:I}=h;if(!(p==null||a!=="horizontal"&&a!=="vertical"||e==null||r==null||i==null||l==null||i.length===0||l.length===0||d==null)){var{data:m}=p,o;if(m&&m.length>0?o=m:o=f?.slice(b,I+1),o!=null){var c=void 0;return Na({layout:a,xAxis:e,yAxis:r,xAxisTicks:i,yAxisTicks:l,dataStartIndex:b,areaSettings:p,stackedData:n,displayedData:o,chartBaseValue:c,bandSize:d})}}}),da=["id"],ua=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Pe(a,e){if(a==null)return{};var r,i,l=ha(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(i=0;i<n.length;i++)r=n[i],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(l[r]=a[r])}return l}function ha(a,e){if(a==null)return{};var r={};for(var i in a)if({}.hasOwnProperty.call(a,i)){if(e.indexOf(i)!==-1)continue;r[i]=a[i]}return r}function ne(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(a);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(a,l).enumerable})),r.push.apply(r,i)}return r}function E(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ne(Object(r),!0).forEach(function(i){pa(a,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):ne(Object(r)).forEach(function(i){Object.defineProperty(a,i,Object.getOwnPropertyDescriptor(r,i))})}return a}function pa(a,e,r){return(e=ma(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function ma(a){var e=va(a,"string");return typeof e=="symbol"?e:e+""}function va(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var i=r.call(a,e);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function C(){return C=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)({}).hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},C.apply(null,arguments)}function F(a,e){return a&&a!=="none"?a:e}var fa=a=>{var{dataKey:e,name:r,stroke:i,fill:l,legendType:n,hide:h}=a;return[{inactive:h,dataKey:e,type:n,color:F(i,l),value:ve(r,e),payload:a}]};function ga(a){var{dataKey:e,data:r,stroke:i,strokeWidth:l,fill:n,name:h,hide:d,unit:p}=a;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:i,strokeWidth:l,fill:n,dataKey:e,nameKey:void 0,name:ve(h,e),hide:d,type:a.tooltipType,color:F(i,n),unit:p}}}var ya=(a,e)=>{var r;if(u.isValidElement(a))r=u.cloneElement(a,e);else if(typeof a=="function")r=a(e);else{var i=fe("recharts-area-dot",typeof a!="boolean"?a.className:"");r=u.createElement(na,C({},e,{className:i}))}return r};function xa(a,e){return a==null?!1:e?!0:a.length===1}function ja(a){var{clipPathId:e,points:r,props:i}=a,{needClip:l,dot:n,dataKey:h}=i;if(!xa(r,n))return null;var d=ce(n),p=ge(i),f=aa(n),b=r.map((m,o)=>{var c=E(E(E({key:"dot-".concat(o),r:3},p),f),{},{index:o,cx:m.x,cy:m.y,dataKey:h,value:m.value,payload:m.payload,points:r});return ya(n,c)}),I={clipPath:l?"url(#clipPath-".concat(d?"":"dots-").concat(e,")"):void 0};return u.createElement(B,C({className:"recharts-area-dots"},I),b)}function ba(a){var{showLabels:e,children:r,points:i}=a,l=i.map(n=>{var h={x:n.x,y:n.y,width:0,height:0};return E(E({},h),{},{value:n.value,payload:n.payload,parentViewBox:void 0,viewBox:h,fill:void 0})});return u.createElement(ea,{value:e?l:null},r)}function se(a){var{points:e,baseLine:r,needClip:i,clipPathId:l,props:n}=a,{layout:h,type:d,stroke:p,connectNulls:f,isRange:b}=n,{id:I}=n,m=Pe(n,da),o=ge(m);return u.createElement(u.Fragment,null,e?.length>1&&u.createElement(B,{clipPath:i?"url(#clipPath-".concat(l,")"):void 0},u.createElement(X,C({},o,{id:I,points:e,connectNulls:f,type:d,baseLine:r,layout:h,stroke:"none",className:"recharts-area-area"})),p!=="none"&&u.createElement(X,C({},o,{className:"recharts-area-curve",layout:h,type:d,connectNulls:f,fill:"none",points:e})),p!=="none"&&b&&u.createElement(X,C({},o,{className:"recharts-area-curve",layout:h,type:d,connectNulls:f,fill:"none",points:r}))),u.createElement(ja,{points:e,props:m,clipPathId:l}))}function Aa(a){var{alpha:e,baseLine:r,points:i,strokeWidth:l}=a,n=i[0].y,h=i[i.length-1].y;if(!$(n)||!$(h))return null;var d=e*Math.abs(n-h),p=Math.max(...i.map(f=>f.x||0));return R(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(f=>f.x||0),p)),R(p)?u.createElement("rect",{x:0,y:n<h?n:n-d,width:p+(l?parseInt("".concat(l),10):1),height:Math.floor(d)}):null}function Pa(a){var{alpha:e,baseLine:r,points:i,strokeWidth:l}=a,n=i[0].x,h=i[i.length-1].x;if(!$(n)||!$(h))return null;var d=e*Math.abs(n-h),p=Math.max(...i.map(f=>f.y||0));return R(r)?p=Math.max(r,p):r&&Array.isArray(r)&&r.length&&(p=Math.max(...r.map(f=>f.y||0),p)),R(p)?u.createElement("rect",{x:n<h?n:n-d,y:0,width:d,height:Math.floor(p+(l?parseInt("".concat(l),10):1))}):null}function Ia(a){var{alpha:e,layout:r,points:i,baseLine:l,strokeWidth:n}=a;return r==="vertical"?u.createElement(Aa,{alpha:e,points:i,baseLine:l,strokeWidth:n}):u.createElement(Pa,{alpha:e,points:i,baseLine:l,strokeWidth:n})}function Da(a){var{needClip:e,clipPathId:r,props:i,previousPointsRef:l,previousBaselineRef:n}=a,{points:h,baseLine:d,isAnimationActive:p,animationBegin:f,animationDuration:b,animationEasing:I,onAnimationStart:m,onAnimationEnd:o}=i,c=Je(i,"recharts-area-"),[s,v]=u.useState(!1),A=!s,y=u.useCallback(()=>{typeof o=="function"&&o(),v(!1)},[o]),x=u.useCallback(()=>{typeof m=="function"&&m(),v(!0)},[m]),g=l.current,P=n.current;return u.createElement(ba,{showLabels:A,points:h},i.children,u.createElement(He,{animationId:c,begin:f,duration:b,isActive:p,easing:I,onAnimationEnd:y,onAnimationStart:x,key:c},j=>{if(g){var k=g.length/h.length,q=j===1?h:h.map((S,M)=>{var W=Math.floor(M*k);if(g[W]){var L=g[W];return E(E({},S),{},{x:w(L.x,S.x,j),y:w(L.y,S.y,j)})}return S}),N;return R(d)?N=w(P,d,j):Ue(d)||Qe(d)?N=w(P,0,j):N=d.map((S,M)=>{var W=Math.floor(M*k);if(Array.isArray(P)&&P[W]){var L=P[W];return E(E({},S),{},{x:w(L.x,S.x,j),y:w(L.y,S.y,j)})}return S}),j>0&&(l.current=q,n.current=N),u.createElement(se,{points:q,baseLine:N,needClip:e,clipPathId:r,props:i})}return j>0&&(l.current=h,n.current=d),u.createElement(B,null,p&&u.createElement("defs",null,u.createElement("clipPath",{id:"animationClipPath-".concat(r)},u.createElement(Ia,{alpha:j,points:h,baseLine:d,layout:i.layout,strokeWidth:i.strokeWidth}))),u.createElement(B,{clipPath:"url(#animationClipPath-".concat(r,")")},u.createElement(se,{points:h,baseLine:d,needClip:e,clipPathId:r,props:i})))}),u.createElement(Ze,{label:i.label}))}function Sa(a){var{needClip:e,clipPathId:r,props:i}=a,l=u.useRef(null),n=u.useRef();return u.createElement(Da,{needClip:e,clipPathId:r,props:i,previousPointsRef:l,previousBaselineRef:n})}class ka extends u.PureComponent{render(){var{hide:e,dot:r,points:i,className:l,top:n,left:h,needClip:d,xAxisId:p,yAxisId:f,width:b,height:I,id:m,baseLine:o}=this.props;if(e)return null;var c=fe("recharts-area",l),s=m,{r:v,strokeWidth:A}=ra(r),y=ce(r),x=v*2+A;return u.createElement(u.Fragment,null,u.createElement(B,{className:c},d&&u.createElement("defs",null,u.createElement(Le,{clipPathId:s,xAxisId:p,yAxisId:f}),!y&&u.createElement("clipPath",{id:"clipPath-dots-".concat(s)},u.createElement("rect",{x:h-x/2,y:n-x/2,width:b+x,height:I+x}))),u.createElement(Sa,{needClip:d,clipPathId:s,props:this.props})),u.createElement(ie,{points:i,mainColor:F(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(o)&&u.createElement(ie,{points:o,mainColor:F(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Ie={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!_e.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Ea(a){var e,r=pe(a,Ie),{activeDot:i,animationBegin:l,animationDuration:n,animationEasing:h,connectNulls:d,dot:p,fill:f,fillOpacity:b,hide:I,isAnimationActive:m,legendType:o,stroke:c,xAxisId:s,yAxisId:v}=r,A=Pe(r,ua),y=$e(),x=Fe(),{needClip:g}=We(s,v),P=me(),{points:j,isRange:k,baseLine:q}=(e=Xe(De=>ca(De,s,v,P,a.id)))!==null&&e!==void 0?e:{},N=Ye();if(y!=="horizontal"&&y!=="vertical"||N==null||x!=="AreaChart"&&x!=="ComposedChart")return null;var{height:S,width:M,x:W,y:L}=N;return!j||!j.length?null:u.createElement(ka,C({},A,{activeDot:i,animationBegin:l,animationDuration:n,animationEasing:h,baseLine:q,connectNulls:d,dot:p,fill:f,fillOpacity:b,height:S,hide:I,layout:y,isAnimationActive:m,isRange:k,legendType:o,needClip:g,points:j,stroke:c,width:M,left:W,top:L,xAxisId:s,yAxisId:v}))}var Ca=(a,e,r,i,l)=>{var n=r??e;if(R(n))return n;var h=a==="horizontal"?l:i,d=h.scale.domain();if(h.type==="number"){var p=Math.max(d[0],d[1]),f=Math.min(d[0],d[1]);return n==="dataMin"?f:n==="dataMax"||p<0?p:Math.max(Math.min(d[0],d[1]),0)}return n==="dataMin"?d[0]:n==="dataMax"?d[1]:d[0]};function Na(a){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:i},stackedData:l,layout:n,chartBaseValue:h,xAxis:d,yAxis:p,displayedData:f,dataStartIndex:b,xAxisTicks:I,yAxisTicks:m,bandSize:o}=a,c=l&&l.length,s=Ca(n,h,r,d,p),v=n==="horizontal",A=!1,y=f.map((g,P)=>{var j;c?j=l[b+P]:(j=ee(g,i),Array.isArray(j)?A=!0:j=[s,j]);var k=j[1]==null||c&&!e&&ee(g,i)==null;return v?{x:ae({axis:d,ticks:I,bandSize:o,entry:g,index:P}),y:k?null:p.scale(j[1]),value:j,payload:g}:{x:k?null:d.scale(j[1]),y:ae({axis:p,ticks:m,bandSize:o,entry:g,index:P}),value:j,payload:g}}),x;return c||A?x=y.map(g=>{var P=Array.isArray(g.value)?g.value[0]:null;return v?{x:g.x,y:P!=null&&g.y!=null?p.scale(P):null,payload:g.payload}:{x:P!=null?d.scale(P):null,y:g.y,payload:g.payload}}):x=v?p.scale(s):d.scale(s),{points:y,baseLine:x,isRange:A}}function Wa(a){var e=pe(a,Ie),r=me();return u.createElement(Ge,{id:e.id,type:"area"},i=>u.createElement(u.Fragment,null,u.createElement(ze,{legendPayload:fa(e)}),u.createElement(Ke,{fn:ga,args:e}),u.createElement(Be,{type:"area",id:i,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:qe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),u.createElement(Ea,C({},e,{id:i}))))}var J=u.memo(Wa);J.displayName="Area";var La=["axis"],le=u.forwardRef((a,e)=>u.createElement(we,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:La,tooltipPayloadSearcher:ta,categoricalChartProps:a,ref:e}));function wa(a){if(!a||a.length===0)return null;const e=a.map(r=>{const i=Ce(r),l=Ne(r.StartDate,r.EndDate)||0,n=Se(new Date(r.StartDate));return{gameId:r.Id,date:n,mapName:r.MapName,playerCount:r.PlayerStats.length,winnerCamp:i,duration:l,modded:r.Modded}});return e.sort((r,i)=>{const l=n=>{const h=n.split("/");return h.length===3?new Date(parseInt(h[2]),parseInt(h[1])-1,parseInt(h[0])):new Date(n)};return l(i.date).getTime()-l(r.date).getTime()}),{totalGames:e.length,games:e,periodData:[]}}function Ra(){const{data:a,isLoading:e,error:r}=Ee(wa);return{data:a,isLoading:e,error:r}}function D(a,e){return e[a==="Loup"?"Loup":a]||"#808080"}function oe(a){return a==="Villageois"||a==="Chasseur"||a==="Alchimiste"||a==="Villageois √âlite"||a==="Protecteur"||a==="Disciple"?"Villageois":a==="Loup"||a==="Louveteau"||a==="Tra√Ætre"?"Loup":"Solo"}function Fa(){const{navigateToGameDetails:a}=ke(),{data:e,isLoading:r,error:i}=Ra(),l=Me(),[n,h]=u.useState("month"),d=u.useMemo(()=>{switch(n){case"month":return"par Mois";case"quarter":return"par Trimestre";case"year":return"par Ann√©e";default:return"par Session"}},[n]),p=u.useMemo(()=>{if(!e?.games)return new Map;const o=new Map;return e.games.forEach(c=>{if(!o.has(c.date)){const s=c.date.split("/");s.length===3?o.set(c.date,new Date(parseInt(s[2]),parseInt(s[1])-1,parseInt(s[0])).getTime()):o.set(c.date,new Date(c.date).getTime())}}),o},[e?.games]),f=u.useMemo(()=>{if(!e?.games)return[];const o={};return e.games.forEach(c=>{let s;const v=c.date.split("/");if(n==="month")if(v.length===3)s=`${v[1].padStart(2,"0")}/${v[2]}`;else{const y=new Date(c.date);s=`${String(y.getMonth()+1).padStart(2,"0")}/${y.getFullYear()}`}else if(n==="quarter")if(v.length===3){const y=parseInt(v[1],10);s=`T${Math.floor((y-1)/3)+1}/${v[2]}`}else{const y=new Date(c.date);s=`T${Math.floor(y.getMonth()/3)+1}/${y.getFullYear()}`}else n==="year"?v.length===3?s=`${v[2]}`:s=`${new Date(c.date).getFullYear()}`:s=c.date;o[s]||(o[s]={games:[],totalPlayers:0,totalDuration:0,campWins:{Villageois:0,Loup:0,Solo:0}}),o[s].games.push(c),o[s].totalPlayers+=c.playerCount,o[s].totalDuration+=c.duration;const A=oe(c.winnerCamp);o[s].campWins[A]++}),Object.entries(o).map(([c,s])=>{const v=s.games.length,A=s.campWins.Villageois,y=s.campWins.Loup,x=s.campWins.Solo;return{period:c,totalGames:v,averagePlayers:v>0?Math.round(s.totalPlayers/v*10)/10:0,averageDuration:v>0?Math.round(s.totalDuration/v/60*10)/10:0,villageoisWins:A,loupWins:y,soloWins:x,villageoisWinRate:v>0?Math.round(A/v*1e3)/10:0,loupWinRate:v>0?Math.round(y/v*1e3)/10:0,soloWinRate:v>0?Math.round(x/v*1e3)/10:0}}).sort((c,s)=>{if(n==="month"){const[v,A]=c.period.split("/"),[y,x]=s.period.split("/"),g=new Date(parseInt(A),parseInt(v)-1,1),P=new Date(parseInt(x),parseInt(y)-1,1);return g.getTime()-P.getTime()}else if(n==="quarter"){const[v,A]=c.period.split("/"),[y,x]=s.period.split("/"),g=parseInt(v.replace(/\D/g,""),10)||1,P=parseInt(y.replace(/\D/g,""),10)||1,j=new Date(parseInt(A,10),(g-1)*3,1),k=new Date(parseInt(x,10),(P-1)*3,1);return j.getTime()-k.getTime()}else if(n==="year"){const v=parseInt(c.period,10),A=parseInt(s.period,10);return v-A}else{const v=p.get(c.period)||0,A=p.get(s.period)||0;return v-A}})},[e,n,p]),b=u.useMemo(()=>{if(!e?.games||e.games.length===0)return null;const o=e.games.length,c=e.games.reduce((x,g)=>x+g.playerCount,0),s=e.games.reduce((x,g)=>x+g.duration,0);let v=0,A=0,y=0;return e.games.forEach(x=>{const g=oe(x.winnerCamp);g==="Villageois"?v++:g==="Loup"?A++:y++}),{totalGames:o,averagePlayers:Math.round(c/o*10)/10,averageDuration:Math.round(s/o/60),villageoisWinRate:Math.round(v/o*1e3)/10,loupWinRate:Math.round(A/o*1e3)/10,soloWinRate:Math.round(y/o*1e3)/10}},[e]),m=(o=>o<=15?{fontSize:12,angle:-45,height:80,interval:0}:o<=30?{fontSize:12,angle:-45,height:85,interval:1}:o<=50?{fontSize:12,angle:-60,height:95,interval:2}:{fontSize:12,angle:-75,height:105,interval:Math.floor(o/12)})(f.length);return r?t.jsx("div",{className:"donnees-attente",children:"Chargement de l'historique des parties..."}):i?t.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",i]}):e?t.jsxs("div",{className:"lycans-camps-container",children:[t.jsx("h2",{children:"√âvolution des Parties"}),b&&t.jsxs("div",{className:"lycans-resume-conteneur",children:[t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Total Parties"}),t.jsx("p",{className:"lycans-stat-valeur",children:b.totalGames})]}),t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Joueurs / Partie"}),t.jsx("p",{className:"lycans-stat-valeur",children:b.averagePlayers})]}),t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Dur√©e Moyenne"}),t.jsxs("p",{className:"lycans-stat-valeur",children:[b.averageDuration," min"]})]}),t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Victoires Villageois"}),t.jsxs("p",{className:"lycans-stat-valeur",style:{color:D("Villageois",l)},children:[b.villageoisWinRate,"%"]})]}),t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Victoires Loups"}),t.jsxs("p",{className:"lycans-stat-valeur",style:{color:D("Loup",l)},children:[b.loupWinRate,"%"]})]}),t.jsxs("div",{className:"lycans-stat-carte",children:[t.jsx("h3",{children:"Victoires Solo"}),t.jsxs("p",{className:"lycans-stat-valeur",style:{color:"#808080"},children:[b.soloWinRate,"%"]})]})]}),t.jsxs("div",{className:"lycans-filtres-conteneur",style:{marginBottom:"1rem"},children:[t.jsx("label",{style:{marginRight:"0.5rem",fontWeight:"bold"},children:"Grouper :"}),t.jsxs("select",{value:n,onChange:o=>h(o.target.value),className:"lycans-select",children:[t.jsx("option",{value:"session",children:"Par Session"}),t.jsx("option",{value:"month",children:"Par Mois"}),t.jsx("option",{value:"quarter",children:"Par Trimestre"}),t.jsx("option",{value:"year",children:"Par Ann√©e"})]})]}),t.jsxs("div",{className:"lycans-graphiques-groupe",children:[t.jsxs("div",{className:"lycans-graphique-section",children:[t.jsxs("h3",{children:["Nombre de Parties ",d]}),t.jsx(O,{title:`Nombre de Parties ${d}`,children:t.jsx("div",{style:{height:400},children:t.jsx(z,{width:"100%",height:"100%",children:t.jsxs(te,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[t.jsx(T,{strokeDasharray:"3 3"}),t.jsx(V,{dataKey:"period",angle:m.angle,textAnchor:"end",height:m.height,interval:m.interval,fontSize:m.fontSize}),t.jsx(G,{label:{value:"Nombre de parties",angle:270,position:"left",style:{textAnchor:"middle"}},allowDecimals:!1}),t.jsx(K,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const s=c[0].payload;return t.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[t.jsx("div",{children:t.jsx("strong",{children:s.period})}),t.jsxs("div",{children:["Parties: ",s.totalGames]}),t.jsxs("div",{children:["Joueurs moyens: ",s.averagePlayers]}),t.jsxs("div",{children:["Dur√©e moyenne: ",s.averageDuration," min"]}),t.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),t.jsx(_,{dataKey:"totalGames",fill:"var(--accent-primary)",name:"Parties",children:f.map((o,c)=>t.jsx(Re,{fill:"var(--accent-primary)",onClick:()=>{a({selectedDate:o.period,fromComponent:`√âvolution des Parties ${d}`})},style:{cursor:"pointer"}},`cell-${c}`))})]})})})})]}),t.jsxs("div",{className:"lycans-graphique-section",children:[t.jsxs("h3",{children:["√âvolution des Victoires par Camp ",d]}),t.jsx(O,{title:`√âvolution des Victoires par Camp ${d}`,children:t.jsx("div",{style:{height:400},children:t.jsx(z,{width:"100%",height:"100%",children:t.jsxs(ia,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[t.jsx(T,{strokeDasharray:"3 3"}),t.jsx(V,{dataKey:"period",angle:m.angle,textAnchor:"end",height:m.height,interval:m.interval,fontSize:m.fontSize}),t.jsx(G,{label:{value:"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),t.jsx(K,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const s=c[0].payload;return t.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[t.jsx("div",{children:t.jsx("strong",{children:s.period})}),t.jsxs("div",{children:["Parties: ",s.totalGames]}),t.jsxs("div",{style:{color:D("Villageois",l)},children:["Villageois: ",s.villageoisWinRate,"% (",s.villageoisWins,")"]}),t.jsxs("div",{style:{color:D("Loup",l)},children:["Loups: ",s.loupWinRate,"% (",s.loupWins,")"]}),t.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWinRate,"% (",s.soloWins,")"]})]})}return null}}),t.jsx(re,{}),t.jsx(Y,{type:"monotone",dataKey:"villageoisWinRate",stroke:D("Villageois",l),strokeWidth:2,dot:{fill:D("Villageois",l),strokeWidth:2,r:4},name:"Villageois (%)"}),t.jsx(Y,{type:"monotone",dataKey:"loupWinRate",stroke:D("Loup",l),strokeWidth:2,dot:{fill:D("Loup",l),strokeWidth:2,r:4},name:"Loups (%)"}),t.jsx(Y,{type:"monotone",dataKey:"soloWinRate",stroke:"#808080",strokeWidth:2,dot:{fill:"#808080",strokeWidth:2,r:4},name:"Solo (%)"})]})})})})]}),t.jsxs("div",{className:"lycans-graphique-section",children:[t.jsxs("h3",{children:["R√©partition des Victoires ",d]}),t.jsx(O,{title:`R√©partition des Victoires ${d}`,children:t.jsx("div",{style:{height:400},children:t.jsx(z,{width:"100%",height:"100%",children:t.jsxs(te,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[t.jsx(T,{strokeDasharray:"3 3"}),t.jsx(V,{dataKey:"period",angle:m.angle,textAnchor:"end",height:m.height,interval:m.interval,fontSize:m.fontSize}),t.jsx(G,{label:{value:"Nombre de victoires",angle:270,position:"left",style:{textAnchor:"middle"}},allowDecimals:!1}),t.jsx(K,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const s=c[0].payload;return t.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[t.jsx("div",{children:t.jsx("strong",{children:s.period})}),t.jsxs("div",{children:["Total: ",s.totalGames," parties"]}),t.jsxs("div",{style:{color:D("Villageois",l)},children:["Villageois: ",s.villageoisWins]}),t.jsxs("div",{style:{color:D("Loup",l)},children:["Loups: ",s.loupWins]}),t.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWins]})]})}return null}}),t.jsx(re,{}),t.jsx(_,{dataKey:"villageoisWins",stackId:"wins",fill:D("Villageois",l),name:"Villageois"}),t.jsx(_,{dataKey:"loupWins",stackId:"wins",fill:D("Loup",l),name:"Loups"}),t.jsx(_,{dataKey:"soloWins",stackId:"wins",fill:"#808080",name:"Solo"})]})})})})]}),t.jsxs("div",{className:"lycans-graphique-section",children:[t.jsxs("h3",{children:["√âvolution du Nombre de Joueurs ",d]}),t.jsx(O,{title:`√âvolution du Nombre de Joueurs ${d}`,children:t.jsx("div",{style:{height:400},children:t.jsx(z,{width:"100%",height:"100%",children:t.jsxs(le,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[t.jsx(T,{strokeDasharray:"3 3"}),t.jsx(V,{dataKey:"period",angle:m.angle,textAnchor:"end",height:m.height,interval:m.interval,fontSize:m.fontSize}),t.jsx(G,{label:{value:"Joueurs moyens",angle:270,position:"left",style:{textAnchor:"middle"}}}),t.jsx(K,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const s=c[0].payload;return t.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[t.jsx("div",{children:t.jsx("strong",{children:s.period})}),t.jsxs("div",{children:["Parties: ",s.totalGames]}),t.jsxs("div",{children:["Joueurs moyens: ",s.averagePlayers]})]})}return null}}),t.jsx(J,{type:"monotone",dataKey:"averagePlayers",stroke:"var(--accent-secondary)",fill:"var(--accent-secondary)",fillOpacity:.3,name:"Joueurs moyens"})]})})})})]}),t.jsxs("div",{className:"lycans-graphique-section",children:[t.jsxs("h3",{children:["√âvolution de la Dur√©e des Parties ",d]}),t.jsx(O,{title:`√âvolution de la Dur√©e des Parties ${d}`,children:t.jsx("div",{style:{height:400},children:t.jsx(z,{width:"100%",height:"100%",children:t.jsxs(le,{data:f,margin:{top:20,right:30,left:20,bottom:20},children:[t.jsx(T,{strokeDasharray:"3 3"}),t.jsx(V,{dataKey:"period",angle:m.angle,textAnchor:"end",height:m.height,interval:m.interval,fontSize:m.fontSize}),t.jsx(G,{label:{value:"Dur√©e moyenne (min)",angle:270,position:"left",style:{textAnchor:"middle"}}}),t.jsx(K,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const s=c[0].payload;return t.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[t.jsx("div",{children:t.jsx("strong",{children:s.period})}),t.jsxs("div",{children:["Parties: ",s.totalGames]}),t.jsxs("div",{children:["Dur√©e moyenne: ",s.averageDuration," min"]})]})}return null}}),t.jsx(J,{type:"monotone",dataKey:"averageDuration",stroke:"var(--chart-color-3)",fill:"var(--chart-color-3)",fillOpacity:.3,name:"Dur√©e moyenne (min)"})]})})})})]})]})]}):t.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e d'historique disponible"})}export{Fa as GlobalGameHistoryChart};
