function l(e){if(!e)return{videoId:null,timestamp:null};try{const s=new URL(e);let i=null,t=null;s.hostname==="youtu.be"?i=s.pathname.slice(1):(s.hostname==="www.youtube.com"||s.hostname==="youtube.com")&&(i=s.searchParams.get("v"));const n=s.searchParams.get("t");if(n)if(/^\d+$/.test(n))t=parseInt(n,10);else{const u=n.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(u){const r=parseInt(u[1]||"0",10),o=parseInt(u[2]||"0",10),a=parseInt(u[3]||"0",10);t=r*3600+o*60+a}}return{videoId:i,timestamp:t}}catch{return console.warn("Failed to parse YouTube URL:",e),{videoId:null,timestamp:null}}}function c(e,s){if(!e||!s)return null;try{const u=new Date(e),r=new Date(s);if(!isNaN(u.getTime())&&!isNaN(r.getTime())){const o=r.getTime()-u.getTime();return o>0?Math.round(o/1e3):null}}catch{}const i=l(e),t=l(s);if(i.timestamp===null||t.timestamp===null)return null;const n=t.timestamp-i.timestamp;return n>0?n:null}function m(e){const s=Math.floor(e/60),i=Math.round(e%60);return`${s}:${i.toString().padStart(2,"0")}`}function f(e){return e?e==="Loup"?"Loup":e==="Traître"?"Traître":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e==="Chasseur"||e==="Alchimiste"?"Villageois":e:"Villageois"}function p(e){return!e||e==="Chasseur"||e==="Alchimiste"?"Villageois":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e}function g(e){const s=e.PlayerStats.filter(t=>t.Victorious);let i="";if(s.length>0){const t=s.map(n=>n.MainRoleInitial);if(t.includes("Loup")||t.includes("Traître"))i="Loup";else if(t.includes("Amoureux Loup")||t.includes("Amoureux Villageois")||t.includes("Amoureux"))i="Amoureux";else if(t.includes("Villageois")||t.includes("Chasseur")||t.includes("Alchimiste"))i="Villageois";else{const n=t.filter(u=>!["Villageois","Loup","Traître","Chasseur","Alchimiste","Amoureux Loup","Amoureux Villageois"].includes(u));n.length>0?i=n[0]:i="Villageois"}return i}return"Villageois"}export{g as a,p as b,c,m as f,f as g};
