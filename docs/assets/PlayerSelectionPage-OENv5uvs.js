import{r as j,u as L,a as G,j as s,m as E,l as D}from"./index-CBbjDL-4.js";import{u as A,g as q}from"./api-CEyosoEI.js";function I(n){const[c,x]=j.useState(null),[y,N]=j.useState(!1),[h,F]=j.useState(null);j.useEffect(()=>{let d=!0;return(async()=>{try{N(!0),F(null);const f=await fetch("/data/playerAchievements.json");if(!f.ok)throw new Error(`Failed to load achievements: ${f.status} ${f.statusText}`);const v=await f.json();d&&x(v)}catch(f){d&&F(f instanceof Error?f.message:"Failed to load achievements")}finally{d&&N(!1)}})(),()=>{d=!1}},[]);const p=n&&c?.achievements[n]||null;return j.useEffect(()=>{if(n&&c){const d=c.achievements[n];d?console.log(`ðŸ† Achievements for ${n}:`,{allGames:d.allGamesAchievements.length,moddedOnly:d.moddedOnlyAchievements.length,categories:[...new Set([...d.allGamesAchievements.map(C=>C.category),...d.moddedOnlyAchievements.map(C=>C.category)])]}):console.log(`âŒ No achievements found for ${n}`)}},[n,c]),{data:p,isLoading:y,error:h,metadata:{generatedAt:c?.generatedAt||null,totalPlayers:c?.totalPlayers||0,totalGames:c?.totalGames||0,totalModdedGames:c?.totalModdedGames||0}}}function z(){const[n,c]=j.useState(null),[x,y]=j.useState(!0),[N,h]=j.useState(null);return j.useEffect(()=>{(async()=>{try{y(!0),h(null);const p=await fetch("/data/joueurs.json");if(!p.ok)throw new Error("Failed to fetch joueurs data");const d=await p.json();c(d)}catch(p){console.error("Error fetching joueurs data:",p),h(p instanceof Error?p.message:"Unknown error")}finally{y(!1)}})()},[]),{joueursData:n,isLoading:x,error:N}}function M(n,c){return n.find(x=>x.Joueur.toLowerCase()===c.toLowerCase())}function V({achievements:n,title:c,emptyMessage:x,achievementType:y="all"}){const{navigateToTab:N,updateNavigationState:h,clearNavigation:F}=L(),{settings:p,updateSettings:d}=G(),C=A(),f=(e,l)=>{if(l.stopPropagation(),!e.redirectTo)return;F();const u=p.highlightedPlayer;if(d(y==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:u,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:u,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}),e.category==="comparison"&&e.redirectTo.subTab==="comparison"){const t=p.highlightedPlayer||"",r=v(e.description,t);r&&h({playerComparisonState:{selectedPlayer1:t,selectedPlayer2:r,showDetailedStats:!0}})}if(e.category==="comparison"&&e.redirectTo.subTab==="pairing"){const t=e.description.toLowerCase().includes("loup");h({selectedPairingTab:t?"wolves":"lovers"})}if(e.category==="kills"&&e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i);t&&h({deathStatsSelectedCamp:t[1]});let r=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(r=parseInt(i[1],10));let m="totalKills";const g=e.redirectTo.chartSection;g&&(g==="killers-total"?m="totalKills":g==="killers-average"?m="averageKills":g==="deaths-total"?m="totalDeaths":g==="survivors-average"&&(m="survivalRate")),h({deathStatisticsState:{selectedCamp:t?.[1]||"Tous les camps",minGamesForAverage:r,focusChart:m}})}if(e.category==="map"&&e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter||"all";let r=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(r=parseInt(i[1])),d(y==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:u,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:u,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}),h({playersGeneralState:{minGamesForWinRate:r,winRateOrder:"best",focusChart:"winRate"}}),N("players","playersGeneral");return}if(e.category==="history"&&e.redirectTo.subTab==="history"&&h({selectedPlayerName:p.highlightedPlayer||"",groupingMethod:"session"}),e.category==="series"&&e.redirectTo.subTab==="series"){let t="wins";const r=e.title.toLowerCase(),i=e.description.toLowerCase();r.includes("dÃ©faite")||i.includes("dÃ©faite")?t="losses":r.includes("loup")||i.includes("loup")?t="loup":r.includes("villageois")||i.includes("villageois")?t="villageois":(r.includes("victoire")||i.includes("victoire"))&&(t="wins"),h({selectedSeriesType:t})}if(e.category==="general"&&e.redirectTo.subTab==="playersGeneral"){let t=10;const r=e.description.match(/min\.\s*(\d+)/);r&&(t=parseInt(r[1],10));let i="winRate",m="best";const g=e.title.toLowerCase(),k=e.description.toLowerCase();g.includes("participation")||k.includes("participation")?i="participation":(g.includes("taux de victoire")||k.includes("taux de victoire"))&&(i="winRate",(g.includes("moins bon")||g.includes("mauvais")||k.includes("moins bon")||k.includes("mauvais"))&&(m="worst")),h({playersGeneralState:{minGamesForWinRate:t,winRateOrder:m,focusChart:i}})}if(e.category==="performance"&&e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection;let r="Villageois",i=1;t&&(t==="camp-loup"?r="Loup":t==="camp-villageois"?r="Villageois":t==="camp-idiot"?r="Idiot du Village":t==="camp-amoureux"?r="Amoureux":(t==="solo-roles"||t==="hall-of-fame")&&(r="Villageois"));const m=e.description.match(/min\.\s*(\d+)/);m&&(i=parseInt(m[1],10)),t==="solo-roles"?r="RÃ´les spÃ©ciaux":t==="hall-of-fame"&&(r="Tous les camps"),h({campPerformanceState:{selectedCampPerformanceCamp:r,selectedCampPerformanceMinGames:i}})}N(e.redirectTo.tab,e.redirectTo.subTab)},v=(e,l)=>{const u=[/avec ([^:]+?):/,/contre ([^:]+?):/];for(const t of u){const r=e.match(t);if(r&&r[1]){const i=r[1].trim();if(i!==l)return i}}return null},T=e=>{if(!e.redirectTo)return"Aucune navigation disponible";switch(e.category){case"general":if(e.redirectTo.subTab==="playersGeneral"){const t=e.description.match(/min\.\s*(\d+)/),r=t?parseInt(t[1],10):10,i=e.title.toLowerCase(),m=y==="modded"?" (Filtre parties moddÃ©es activÃ©)":" (Filtres rÃ©initialisÃ©s)";return i.includes("taux de victoire")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les taux de victoire (min. ${r} parties)${m}`:i.includes("participation")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les participations${m}`:`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir le classement gÃ©nÃ©ral des joueurs${m}`}break;case"map":if(e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter,r=t==="village"?"Village":t==="chateau"?"ChÃ¢teau":"map",i=y==="modded"?" (Filtres parties moddÃ©es + map activÃ©s)":" (Filtre map activÃ©)";return`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les statistiques gÃ©nÃ©rales filtrÃ©es sur ${r}${i}`}break;case"history":if(e.redirectTo.subTab==="history")return"Cliquez pour voir l'historique dÃ©taillÃ© du joueur par map";break;case"comparison":if(e.redirectTo.subTab==="comparison")return`Cliquez pour comparer avec ${v(e.description,p.highlightedPlayer||"")||"ce joueur"}`;if(e.redirectTo.subTab==="pairing")return"Cliquez pour voir les statistiques de paires";break;case"kills":if(e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i),r=e.description.match(/min\.\s*(\d+)/),i=r?parseInt(r[1],10):10,m=t?.[1]||"Tous les camps",g=e.redirectTo.chartSection;let k="kills et morts";return g==="killers-total"?k="total des kills":g==="killers-average"?k=`moyenne des kills (min. ${i} parties)`:g==="deaths-total"?k="total des morts":g==="survivors-average"&&(k=`taux de survie (min. ${i} parties)`),`Cliquez pour voir les statistiques de ${k} ${m!=="Tous les camps"?`en ${m}`:""}`}break;case"series":if(e.redirectTo.subTab==="series"){const t=e.title.toLowerCase(),r=e.description.toLowerCase();return t.includes("dÃ©faite")||r.includes("dÃ©faite")?"Cliquez pour voir les sÃ©ries de dÃ©faites":t.includes("loup")||r.includes("loup")?"Cliquez pour voir les sÃ©ries Loups":t.includes("villageois")||r.includes("villageois")?"Cliquez pour voir les sÃ©ries Villageois":t.includes("victoire")||r.includes("victoire")?"Cliquez pour voir les sÃ©ries de victoires":"Cliquez pour voir les sÃ©ries consÃ©cutives"}break;case"performance":if(e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection,r=y==="modded"?" (Filtre parties moddÃ©es activÃ©)":" (Filtres rÃ©initialisÃ©s)";return t==="camp-loup"?`Cliquez pour voir les performances camp Loup${r}`:t==="camp-villageois"?`Cliquez pour voir les performances camp Villageois${r}`:t==="camp-idiot"?`Cliquez pour voir les performances camp Idiot du Village${r}`:t==="camp-amoureux"?`Cliquez pour voir les performances camp Amoureux${r}`:t==="solo-roles"?`Cliquez pour voir le classement (rÃ´les spÃ©ciaux)${r}`:t==="hall-of-fame"?`Cliquez pour voir le Hall of Fame (toutes performances)${r}`:`Cliquez pour voir les performances par camp${r}`}break}return`Cliquez pour voir ${e.redirectTo.subTab}`+(y==="modded"?" (Filtre parties moddÃ©es activÃ©)":" (Filtres rÃ©initialisÃ©s)")},P=e=>C[e]||q(e),S=e=>{const l=[/avec ([^:]+?):/,/contre ([^:]+?):/];let u=e;return l.forEach(t=>{const r=e.match(t);if(r&&r[1]){const i=r[1].trim(),g=`<span class="player-name-highlight" style="color: ${P(i)};">${i}</span>`;u=u.replace(i,g)}}),u};if(n.length===0)return s.jsxs("div",{className:"achievements-empty",children:[s.jsx("h4",{children:c}),s.jsx("p",{children:x||"Aucun succÃ¨s dans cette catÃ©gorie"})]});const b=e=>e===1?"ðŸ¥‡":e===2?"ðŸ¥ˆ":e===3?"ðŸ¥‰":"",w=e=>e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":e&&e<=10?"rank-top-10":"",$=n.filter(e=>e.category!=="comparison"&&e.type==="good").sort((e,l)=>(e.rank??999)-(l.rank??999)),R=n.filter(e=>e.category!=="comparison"&&e.type==="bad").sort((e,l)=>(e.rank??999)-(l.rank??999)),a=n.filter(e=>e.category==="comparison"),o=$.filter(e=>e.rank&&e.rank<=3).length;return s.jsxs("div",{className:"achievements-container",children:[s.jsx("h4",{children:c}),o>0&&s.jsxs("div",{className:"top3-showcase",children:[s.jsx("h5",{className:"top3-title",children:"âœ¨ Podium d'Excellence âœ¨"}),s.jsx("div",{className:"top3-grid",children:$.filter(e=>e.rank&&e.rank<=3).map((e,l)=>s.jsxs("div",{className:`top3-card ${w(e.rank)} animate-slide-in`,style:{animationDelay:`${l*.15}s`},onClick:u=>f(e,u),title:T(e),children:[s.jsx("div",{className:"top3-medal-container",children:s.jsx("span",{className:"top3-medal",children:b(e.rank)})}),s.jsxs("div",{className:"top3-content",children:[s.jsxs("div",{className:"top3-rank-badge",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]}),s.jsx("h6",{className:"top3-achievement-title",children:e.title}),s.jsx("p",{className:"top3-achievement-description",children:e.description})]}),s.jsxs("div",{className:"top3-sparkles",children:[s.jsx("span",{className:"sparkle sparkle-1",children:"âœ¨"}),s.jsx("span",{className:"sparkle sparkle-2",children:"â­"}),s.jsx("span",{className:"sparkle sparkle-3",children:"âœ¨"})]})]},e.id))})]}),$.length>0&&s.jsxs("div",{className:"achievements-section good-achievements",children:[s.jsx("h5",{children:"ðŸ† Classements"}),s.jsx("div",{className:"achievements-grid",children:$.filter(e=>!e.rank||e.rank>3).map((e,l)=>s.jsxs("div",{className:`achievement-card good ${w(e.rank)}`,onClick:u=>f(e,u),title:T(e),style:{animationDelay:`${l*.05}s`},children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),R.length>0&&s.jsxs("div",{className:"achievements-section bad-achievements",children:[s.jsx("h5",{children:"ðŸ’€ Classements (InversÃ©s)"}),s.jsx("div",{className:"achievements-grid",children:R.map(e=>s.jsxs("div",{className:`achievement-card bad rank-${e.rank}`,onClick:l=>f(e,l),title:T(e),children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),a.length>0&&s.jsxs("div",{className:"achievements-section comparison-achievements",children:[s.jsx("h5",{children:"ðŸ“Š Statistiques Face-Ã -Face"}),s.jsx("div",{className:"achievements-grid",children:a.map(e=>s.jsxs("div",{className:"achievement-card comparison",onClick:l=>f(e,l),title:T(e),children:[s.jsx("div",{className:"achievement-header",children:s.jsx("span",{className:"achievement-title",children:e.title})}),s.jsx("p",{className:"achievement-description",dangerouslySetInnerHTML:{__html:S(e.description)}})]},e.id))})]})]})}function J(){const{settings:n,updateSettings:c}=G(),{data:x,isLoading:y,error:N}=E(),{joueursData:h,isLoading:F}=z(),{data:p,isLoading:d,error:C}=I(n.highlightedPlayer),f=A(),[v,T]=j.useState(""),[P,S]=j.useState("all"),b=j.useMemo(()=>{if(!x||!x.GameStats)return[];const a=new Map;return x.GameStats.forEach(o=>{const e=new Date(o.StartDate);o.PlayerStats.forEach(l=>{const u=D(l.Username);a.has(u)||a.set(u,{games:0,wins:0,firstDate:e,lastDate:e});const t=a.get(u);t.games++,l.Victorious&&t.wins++,e<t.firstDate&&(t.firstDate=e),e>t.lastDate&&(t.lastDate=e)})}),Array.from(a.entries()).map(([o,e])=>{const l=h?.Players?M(h.Players,o):null;return{name:o,totalGames:e.games,totalWins:e.wins,winRate:e.games>0?e.wins/e.games*100:0,firstGameDate:e.firstDate.toLocaleDateString("fr-FR"),lastGameDate:e.lastDate.toLocaleDateString("fr-FR"),isHighlighted:o===n.highlightedPlayer,image:l?.Image||null,twitch:l?.Twitch||null,youtube:l?.Youtube||null}})},[x,n.highlightedPlayer,h]),w=j.useMemo(()=>{if(!v.trim())return b;const a=v.toLowerCase();return b.filter(o=>o.name.toLowerCase().includes(a))},[b,v]),$=j.useMemo(()=>[...w].sort((a,o)=>o.totalGames-a.totalGames),[w]),R=a=>{c({highlightedPlayer:a}),T("")};return y||F?s.jsxs("div",{className:"player-selection-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des joueurs..."})]}):N?s.jsxs("div",{className:"player-selection-error",children:[s.jsx("h2",{children:"Erreur"}),s.jsxs("p",{children:["Impossible de charger les donnÃ©es des joueurs: ",N]})]}):!x||b.length===0?s.jsxs("div",{className:"player-selection-empty",children:[s.jsx("h2",{children:"Aucune donnÃ©e disponible"}),s.jsx("p",{children:"Aucun joueur trouvÃ© dans les donnÃ©es."})]}):s.jsxs("div",{className:"player-selection-container",children:[!n.highlightedPlayer&&s.jsxs("div",{className:"search-controls-header",children:[s.jsxs("div",{className:"selection-prompt-content",children:[s.jsx("h2",{children:"SÃ©lectionnez un joueur"}),s.jsx("p",{children:"Choisissez un joueur pour le mettre en Ã©vidence dans tous les graphiques."})]}),s.jsxs("div",{className:"search-controls",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"Rechercher un joueur...",value:v,onChange:a=>T(a.target.value),className:"search-input"}),s.jsx("span",{className:"search-icon",children:"ðŸ”"})]}),s.jsxs("div",{className:"player-count",children:[w.length," joueur",w.length!==1?"s":"",v&&` (filtrÃ©${w.length!==1?"s":""} de ${b.length})`]})]})]}),s.jsx("div",{className:"player-display",children:v?w.length>0?s.jsxs("div",{className:"search-results",children:[s.jsxs("div",{className:"search-results-header",children:[s.jsx("h3",{children:"RÃ©sultats de recherche:"}),s.jsx("button",{className:"clear-search-btn",onClick:()=>T(""),children:"Effacer la recherche"})]}),s.jsx("div",{className:"suggestion-list",children:$.map(a=>s.jsxs("button",{className:`suggestion-btn ${a.isHighlighted?"highlighted":""}`,onClick:()=>R(a.name),children:[a.image?s.jsx("img",{src:a.image,alt:a.name,className:"player-avatar"}):s.jsx("div",{className:"player-avatar-placeholder",style:{backgroundColor:f[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"suggestion-btn-content",children:[s.jsxs("div",{className:"suggestion-btn-name",children:[a.name,a.isHighlighted&&s.jsx("span",{className:"highlight-indicator",children:" â˜…"})]}),s.jsxs("div",{className:"suggestion-btn-stats",children:[a.totalGames," parties â€¢ ",a.winRate.toFixed(1),"% victoires"]})]})]},a.name))})]}):s.jsxs("div",{className:"no-results",children:[s.jsxs("p",{children:['Aucun joueur trouvÃ© pour "',v,'"']}),s.jsx("button",{className:"clear-search-btn",onClick:()=>T(""),children:"Effacer la recherche"})]}):n.highlightedPlayer?(()=>{const a=b.find(o=>o.name===n.highlightedPlayer);return a?s.jsxs("div",{className:"single-player-card highlighted",children:[s.jsxs("div",{className:"player-card-header",children:[s.jsx("h3",{className:"player-name",children:a.name}),s.jsx("span",{className:"highlight-badge",children:"â˜… Mis en Ã©vidence"})]}),s.jsxs("div",{className:"player-info-row",children:[a.image?s.jsx("img",{src:a.image,alt:a.name,className:"player-avatar large"}):s.jsx("div",{className:"player-avatar-placeholder large",style:{backgroundColor:f[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()}),s.jsxs("div",{className:"player-info-text",children:[s.jsxs("div",{className:"player-stats-summary",children:[a.totalGames," parties â€¢ ",a.totalWins," victoires â€¢ ",a.winRate.toFixed(1),"% taux de victoire"]}),(a.twitch||a.youtube)&&s.jsxs("div",{className:"social-links",children:[a.twitch&&s.jsx("a",{href:a.twitch,target:"_blank",rel:"noopener noreferrer",className:"social-link twitch",children:"ðŸ“º Twitch"}),a.youtube&&s.jsx("a",{href:a.youtube,target:"_blank",rel:"noopener noreferrer",className:"social-link youtube",children:"ðŸŽ¬ YouTube"})]})]})]}),s.jsxs("div",{className:"player-actions",children:[s.jsxs("div",{className:"achievements-section",children:[d?s.jsxs("div",{className:"achievements-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des classements..."})]}):C?s.jsx("div",{className:"achievements-error",children:s.jsxs("p",{children:["âŒ Erreur lors du chargement des classements: ",C]})}):p?s.jsx(V,{achievements:P==="all"?p.allGamesAchievements:p.moddedOnlyAchievements,title:P==="all"?"Classements - Toutes les parties":"Classements - Parties moddÃ©es",emptyMessage:"Aucun classement dans cette catÃ©gorie",achievementType:P}):s.jsx("div",{className:"achievements-empty",children:s.jsx("p",{children:"Aucun classement disponible pour ce joueur"})}),s.jsxs("div",{className:"achievements-filter",children:[s.jsx("button",{className:`filter-btn ${P==="all"?"active":""}`,onClick:o=>{o.stopPropagation(),S("all")},children:"Toutes les parties"}),s.jsx("button",{className:`filter-btn ${P==="modded"?"active":""}`,onClick:o=>{o.stopPropagation(),S("modded")},children:"Parties moddÃ©es"})]}),s.jsx("button",{className:"highlight-btn active",onClick:o=>{o.stopPropagation(),c({highlightedPlayer:null})},children:"â˜… Retirer la mise en Ã©vidence"})]}),s.jsxs("div",{className:"player-period",children:[s.jsx("span",{className:"period-label",children:"PÃ©riode d'activitÃ©:"}),s.jsxs("span",{className:"period-range",children:[a.firstGameDate," - ",a.lastGameDate]})]})]})]}):s.jsxs("div",{className:"no-player-found",children:[s.jsxs("p",{children:['Le joueur "',n.highlightedPlayer,`" n'a pas Ã©tÃ© trouvÃ© dans les donnÃ©es.`]}),s.jsx("button",{className:"clear-selection-btn",onClick:()=>c({highlightedPlayer:null}),children:"Effacer la sÃ©lection"})]})})():s.jsx("div",{className:"player-selection-prompt",children:s.jsx("div",{className:"character-selection-grid",children:$.map(a=>s.jsxs("div",{className:`character-card ${a.isHighlighted?"highlighted":""}`,onClick:()=>R(a.name),title:`${a.name} - ${a.totalGames} parties, ${a.winRate.toFixed(1)}% victoires`,children:[s.jsx("div",{className:"character-avatar-container",children:a.image?s.jsx("img",{src:a.image,alt:a.name,className:"character-avatar"}):s.jsx("div",{className:"character-avatar-placeholder",style:{backgroundColor:f[a.name]||"var(--accent-primary)"},children:a.name.charAt(0).toUpperCase()})}),s.jsx("div",{className:"character-name",children:a.name}),(a.twitch||a.youtube)&&s.jsxs("div",{className:"character-social-indicators",children:[a.twitch&&s.jsx("div",{className:"social-indicator twitch",title:"Twitch",children:"T"}),a.youtube&&s.jsx("div",{className:"social-indicator youtube",title:"YouTube",children:"Y"})]})]},a.name))})})}),s.jsxs("div",{className:"selection-grid-stats",children:[s.jsxs("div",{className:"grid-stats-item",children:[s.jsx("div",{className:"grid-stats-label",children:"Total Joueurs"}),s.jsx("div",{className:"grid-stats-value",children:b.length})]}),s.jsxs("div",{className:"grid-stats-item",children:[s.jsx("div",{className:"grid-stats-label",children:"RÃ©seaux Sociaux"}),s.jsx("div",{className:"grid-stats-value",children:b.filter(a=>a.twitch||a.youtube).length})]})]})]})}export{J as PlayerSelectionPage};
