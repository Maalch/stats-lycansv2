import{r as b,j as e,u as O}from"./index-BbKgXJS-.js";import{b as J}from"./baseStatsHook-CwMNjW5F.js";import{b as N,a as k,g as z}from"./gameUtils-BuNbDi0M.js";import{a as U,f as q}from"./api-B0oQ7xvq.js";function Y(a,n){if(!a)return null;try{const s=new URL(a);let t="",i=0;if(s.hostname==="youtu.be"){t=s.pathname.slice(1);const o=s.searchParams.get("t");o&&(i=parseInt(o,10)||0)}else if(s.hostname==="www.youtube.com"||s.hostname==="youtube.com"){t=s.searchParams.get("v")||"";const o=s.searchParams.get("t");o&&(i=parseInt(o,10)||0)}if(!t)return null;const l=`https://www.youtube.com/embed/${t}?start=${i}`;if(n)try{const o=new URL(n);let c=0;if(o.hostname==="youtu.be"){const d=o.searchParams.get("t");d&&(c=parseInt(d,10)||0)}else if(o.hostname==="www.youtube.com"||o.hostname==="youtube.com"){const d=o.searchParams.get("t");d&&(c=parseInt(d,10)||0)}if(c>i)return`${l}&end=${c}`}catch(o){console.warn("Failed to parse end URL:",n,o)}return l}catch(s){return console.warn("Failed to create YouTube embed URL:",a,s),null}}function _(a,n){if(!a||!n)return null;try{const s=new Date(a),t=new Date(n);if(isNaN(s.getTime())||isNaN(t.getTime()))return console.warn("Invalid date format:",a,n),null;const i=t.getTime()-s.getTime();return i>0?Math.round(i/1e3):null}catch(s){return console.warn("Failed to calculate game duration:",a,n,s),null}}function E(a,n,s=!1){const t=n.PlayerStats.find(l=>l.Username.toLowerCase()===a.toLowerCase());if(!t)return"Villageois";const i=N(t.MainRoleInitial);return i==="TraÃ®tre"?s?"TraÃ®tre":"Loup":i}function K(a,n,s){const t=a.toLowerCase(),i=s.PlayerStats.find(o=>o.Username.toLowerCase()===t);return i?N(i.MainRoleInitial)===n:!1}function Q(a,n,s){const t=a.filter(i=>i.PlayerStats.some(l=>l.Username.toLowerCase()===n.toLowerCase()));return!s||s==="all-assignments"?t:s==="wins-only"?t.filter(i=>i.PlayerStats.some(l=>l.Username.toLowerCase()===n.toLowerCase()&&l.Victorious)):t}function X(a,n){return a.filter(s=>s.DisplayedId===n)}function Z(a,n){return a.filter(s=>n.includes(s.DisplayedId))}function ee(a,n){return a.filter(s=>{const i=new Date(s.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});if(n.includes("/")&&n.split("/").length===2){const[l,o]=n.split("/"),c=i.split("/");if(c.length===3){const[,d,p]=c;return d===l&&p===o}}else return i===n;return!1})}function ae(a,n){return a.filter(s=>{const t=s.HarvestGoal,i=s.HarvestDone;if(t==null||i===null||i===void 0||t===0)return!1;const l=i/t*100;switch(n){case"0-25%":return l>=0&&l<=25;case"26-50%":return l>25&&l<=50;case"51-75%":return l>50&&l<=75;case"76-99%":return l>75&&l<=99;case"100%":return l>=100;default:return!0}})}function se(a,n){return a.filter(s=>{if(!s.EndTiming)return!1;const t=s.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);return t?parseInt(t[1],10)===n:!1})}function te(a,n,s){const{selectedCamp:t,campFilterMode:i,_smallCamps:l,excludeTraitor:o}=n;return a.filter(c=>{if(s){if(t==="Autres"&&l)return l.some(h=>K(s,h,c))?i==="wins-only"?c.PlayerStats.find(v=>v.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1;const d=E(s,c,o);let p=!1;return t==="Loup"&&o?p=d==="Loup"&&!c.PlayerStats.some(m=>m.Username.toLowerCase()===s.toLowerCase()&&m.MainRoleInitial==="TraÃ®tre"):p=d===t,p?i==="wins-only"?c.PlayerStats.find(h=>h.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1}else if(i==="wins-only"){const d=k(c);return t==="Autres"&&l?l.includes(d):d===t}else return t==="Autres"&&l?l.some(d=>c.PlayerStats.some(p=>N(p.MainRoleInitial)===d)):c.PlayerStats.some(d=>N(d.MainRoleInitial)===t)})}function ne(a,n,s){const{selectedPlayers:t,playersFilterMode:i,winnerPlayer:l}=n;return a.filter(o=>{const c=o.PlayerStats.map(m=>m.Username.toLowerCase());if(!t.every(m=>c.includes(m.toLowerCase())))return!1;const p=t.map(m=>E(m,o));switch(i){case"all-common-games":return l?o.PlayerStats.find(u=>u.Username.toLowerCase()===l.toLowerCase())?.Victorious===!0:!0;case"opposing-camps":const m=p.map(f=>f==="TraÃ®tre"?"Loup":f);if(!([...new Set(m)].length>1))return!1;if(l){const f=t.findIndex(u=>u.toLowerCase()===l.toLowerCase());if(f!==-1){const u=m[f],L=k(o),C=L==="TraÃ®tre"?"Loup":L;return u==="Agent"&&C==="Agent"?o.PlayerStats.find(R=>R.Username.toLowerCase()===l.toLowerCase())?.Victorious===!0:u===C}}return!0;case"same-camp":const P=p.map(f=>f==="TraÃ®tre"?"Loup":f);if(!([...new Set(P)].length===1))return!1;const G=P[0];if(s&&s.selectedCamp){const f=s.selectedCamp;if(f==="Loup"&&s.excludeTraitor&&(!t.every(C=>p[t.indexOf(C)]==="Loup")||t.some(C=>{const j=o.PlayerStats.find(R=>R.Username.toLowerCase()===C.toLowerCase());return N(j?.MainRoleInitial)==="TraÃ®tre"}))||G!==f)return!1}if(l){const f=k(o),u=f==="TraÃ®tre"?"Loup":f;return G==="Agent"&&u==="Agent"?t.every(L=>o.PlayerStats.find(j=>j.Username.toLowerCase()===L.toLowerCase())?.Victorious===!0):G===u}return!0;default:return!0}})}function re(a,n){const{selectedPlayerPair:s,selectedPairRole:t}=n;return s.length!==2?a:a.filter(i=>{const l=i.PlayerStats.map(c=>c.Username.toLowerCase());if(!s.every(c=>l.includes(c.toLowerCase())))return!1;switch(t){case"wolves":return s.every(c=>{const d=i.PlayerStats.find(p=>p.Username.toLowerCase()===c.toLowerCase());return N(d?.MainRoleInitial)==="Loup"});case"lovers":return s.every(c=>{const d=i.PlayerStats.find(p=>p.Username.toLowerCase()===c.toLowerCase());return N(d?.MainRoleInitial)==="Amoureux"});default:return!0}})}function le(a,n){if(!n)return a;let s=[...a];return n.selectedPlayer&&(s=Q(s,n.selectedPlayer,n.selectedPlayerWinMode)),n.selectedGame&&(s=X(s,n.selectedGame)),n.selectedGameIds&&(s=Z(s,n.selectedGameIds)),n.campFilter&&(s=te(s,n.campFilter,n.selectedPlayer)),n.selectedDate&&(s=ee(s,n.selectedDate)),n.selectedHarvestRange&&(s=ae(s,n.selectedHarvestRange)),n.selectedGameDuration&&(s=se(s,n.selectedGameDuration)),n.multiPlayerFilter&&(s=ne(s,n.multiPlayerFilter,n.campFilter)),n.playerPairFilter&&(s=re(s,n.playerPairFilter)),s}function ie(a,n){return a.length===0?null:le(a,n).map(t=>{const i=t.PlayerStats.length,l=t.PlayerStats.filter(u=>N(u.MainRoleInitial)==="Loup"),o=t.PlayerStats.filter(u=>N(u.MainRoleInitial)==="TraÃ®tre"),c=t.PlayerStats.filter(u=>N(u.MainRoleInitial)==="Amoureux"),d=t.PlayerStats.filter(u=>u.Victorious),p=l.length+o.length,m=k(t),h=["Loup","Villageois","Amoureux"],v=t.PlayerStats.filter(u=>!h.includes(N(u.MainRoleInitial))),P=v.length>0?v.map(u=>N(u.MainRoleInitial)).join(", "):null,I=new Date(t.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});let G=0;if(t.EndTiming){const u=t.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);u&&(G=parseInt(u[1],10))}let f=null;return t.HarvestGoal&&t.HarvestGoal>0&&(f=t.HarvestDone/t.HarvestGoal),{gameId:t.DisplayedId,date:I,isModded:t.Modded||!1,playerCount:i,wolfCount:p,hasTraitor:o.length>0,hasLovers:c.length>0,soloRoles:P,winningCamp:m,dayCount:G,winners:d.map(u=>u.Username).join(", "),harvest:t.HarvestDone,totalHarvest:t.HarvestGoal,harvestPercentage:f,playersList:t.PlayerStats.map(u=>u.Username).join(", "),versions:t.Version||null,map:t.MapName,youtubeEmbedUrl:Y(t.LegacyData?.VODLink||null,t.LegacyData?.VODLinkEnd||null),gameDuration:_(t.StartDate,t.EndDate),playerData:t.PlayerStats}})}function oe(a){const{data:n,isLoading:s,error:t}=J(i=>ie(i,a));return{data:n||[],isLoading:s,error:t}}function ce(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}function ue({game:a}){const[n,s]=b.useState(!1);return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations GÃ©nÃ©rales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:a.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:a.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"TraÃ®tre:"}),e.jsx("span",{className:"value",children:a.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:a.hasLovers?"Oui":"Non"})]}),a.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"RÃ´les solo:"}),e.jsx("span",{className:"value",children:a.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations SupplÃ©mentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Jours de jeu:"}),e.jsx("span",{className:"value",children:a.dayCount})]}),a.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"DurÃ©e de la partie:"}),e.jsx("span",{className:"value",children:ce(a.gameDuration)})]}),a.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[a.versions,a.isModded?" (moddÃ©e)":""]})]}),a.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:a.map})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"RÃ©sultats"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Camp vainqueur:"}),e.jsx("span",{className:"value",children:a.winningCamp})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Gagnants:"}),e.jsx("span",{className:"value",children:a.winners})]})]})]}),a.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"RÃ©colte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"RÃ©colte:"}),e.jsx("span",{className:"value",children:a.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:a.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof a.harvestPercentage=="number"?(a.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"RÃ´les des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:a.playerData.map((t,i)=>{const l=N(t.MainRoleInitial),o=z(t.MainRoleInitial),c=t.MainRoleInitial,d=t.Power,p=t.SecondaryRole;let m=o;l!==o&&(m+=` (${l})`),c&&c!==l&&(m+=` - ${c}`),d&&d.trim()&&(m+=` - ${d}`),p&&p.trim()&&(m+=` + ${p}`);let h=U[t.MainRoleInitial]||"#666";h==="#666"&&(h=U[o]||"#666");let v=U[o]||"#fff";t.Color&&q[t.Color]&&(v=q[t.Color]);const P=t.DeathTiming,$=t.Victorious;return e.jsxs("div",{className:`lycans-player-role-item ${$?"victorious":""}`,style:{borderColor:h},children:[e.jsxs("div",{className:"lycans-player-name",style:{color:v,textAlign:"left"},children:[t.Username,P&&e.jsx("span",{className:"death-skull",children:"ðŸ’€"})]}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:m})]},i)})})]}),a.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>s(!n),className:"lycans-video-toggle-btn",children:n?"ðŸ“¹ Masquer la vidÃ©o":"ðŸŽ¥ Voir la vidÃ©o"})}),a.youtubeEmbedUrl&&n&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"VidÃ©o de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:a.youtubeEmbedUrl,title:`Partie Lycans #${a.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}function fe(){const{navigationFilters:a,navigateBack:n}=O(),{data:s,isLoading:t,error:i}=oe(a),[l,o]=b.useState("date"),[c,d]=b.useState("desc"),[p,m]=b.useState(null),[h,v]=b.useState(1),[P,$]=b.useState(25),I=b.useRef(!1),f=a.selectedPlayer?[a.selectedPlayer]:a.playerPairFilter?.selectedPlayerPair?a.playerPairFilter.selectedPlayerPair:a.multiPlayerFilter?.selectedPlayers?a.multiPlayerFilter.selectedPlayers:[],u=f.length>0,L=r=>u?(r.winners?r.winners.split(",").map(g=>g.trim()):[]).filter(g=>f.some(w=>w.toLowerCase()===g.toLowerCase())).join(", "):"",C=b.useMemo(()=>s?[...s].sort((r,x)=>{let y,g;switch(l){case"date":y=new Date(r.date.split("/").reverse().join("-")).getTime(),g=new Date(x.date.split("/").reverse().join("-")).getTime();break;case"gameId":y=parseInt(r.gameId,10),g=parseInt(x.gameId,10);break;case"playerCount":y=r.playerCount,g=x.playerCount;break;case"gameDuration":y=r.gameDuration||0,g=x.gameDuration||0;break;case"winningCamp":y=r.winningCamp,g=x.winningCamp;break;case"winner":y=L(r),g=L(x);break;default:return 0}let w;if(c==="asc"?w=y>g?1:y<g?-1:0:w=y<g?1:y>g?-1:0,w===0){const D=parseInt(r.gameId,10),M=parseInt(x.gameId,10);return c==="asc"?D-M:M-D}return w}):[],[s,l,c]),j=Math.ceil(C.length/P),R=(h-1)*P,V=R+P,W=C.slice(R,V);b.useEffect(()=>{if(I.current){I.current=!1;return}v(1),m(null)},[s]),b.useEffect(()=>{v(1),m(null)},[l,c]);const F=r=>{I.current=!0,v(r),m(null)},H=r=>{I.current=!0,$(r),v(1),m(null)},B=r=>{I.current=!0,m(p===r?null:r)},S=r=>{l===r?d(c==="asc"?"desc":"asc"):(o(r),d("desc"))},T=r=>l!==r?"â†•ï¸":c==="asc"?"â†—ï¸":"â†˜ï¸",A=()=>{const r=[];if(a.selectedPlayer&&a.campFilter){const x=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":"",y=a.campFilter.excludeTraitor&&a.campFilter.selectedCamp==="Loup"?"Loups sans TraÃ®tre":a.campFilter.selectedCamp;r.push(`${a.selectedPlayer} jouant ${y}${x}`)}else{if(a.selectedPlayer){const x=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":a.selectedPlayerWinMode==="all-assignments"?" (toutes parties)":"";r.push(`Joueur: ${a.selectedPlayer}${x}`)}if(a.campFilter){const{selectedCamp:x,campFilterMode:y,excludeTraitor:g}=a.campFilter,D=`Camp: ${g&&x==="Loup"?"Loups sans TraÃ®tre":x}`,M=y==="wins-only"?" (victoires uniquement)":y==="all-assignments"?" (toutes assignations)":"";r.push(D+M)}}if(a.playerPairFilter){const{selectedPlayerPair:x,selectedPairRole:y}=a.playerPairFilter,g=x.join(" & "),w=y==="wolves"?"loups":"amoureux";r.push(`Paire ${w}: ${g}`)}if(a.multiPlayerFilter){const{selectedPlayers:x,playersFilterMode:y,winnerPlayer:g}=a.multiPlayerFilter,w=x.join(" & ");let D="";y==="all-common-games"?D="toutes les parties communes":y==="opposing-camps"?D="affrontements uniquement":y==="same-camp"&&(D="parties en Ã©quipe (mÃªme camp)");const M=g?` (victoires de ${g})`:"";r.push(`${w} (${D}${M})`)}return a.selectedHarvestRange&&r.push(`RÃ©colte: ${a.selectedHarvestRange}`),a.selectedGameDuration&&r.push(`DurÃ©e: ${a.selectedGameDuration} jour${a.selectedGameDuration>1?"s":""}`),a.selectedGame&&r.push(`Partie ${a.selectedGame}`),a.selectedDate&&(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2?r.push(`Mois: ${a.selectedDate}`):r.push(`Date: ${a.selectedDate}`)),a.selectedGameIds&&a.selectedGameIds.length>0&&r.push(`${a.selectedGameIds.length} parties sÃ©lectionnÃ©e${a.selectedGameIds.length>1?"s":""}`),r};return t?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des dÃ©tails des parties..."}):i?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",i]}):!s||s.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouvÃ©e"}),e.jsx("p",{children:"Aucune partie ne correspond aux critÃ¨res sÃ©lectionnÃ©s."}),a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["â† Retour Ã  ",a.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["â† Retour Ã  ",a.fromComponent]}),e.jsxs("h2",{children:["DÃ©tails des Parties (",s.length," partie",s.length>1?"s":"",")"]})]}),A().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",A().join(", ")]})]}),j>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",R+1," Ã  ",Math.min(V,C.length)," sur ",C.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:P,onChange:r=>H(Number(r.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>F(1),disabled:h===1,className:"lycans-pagination-btn",children:"Â«Â«"}),e.jsx("button",{onClick:()=>F(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"â€¹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",j]}),e.jsx("button",{onClick:()=>F(h+1),disabled:h===j,className:"lycans-pagination-btn",children:"â€º"}),e.jsx("button",{onClick:()=>F(j),disabled:h===j,className:"lycans-pagination-btn",children:"Â»Â»"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>S("gameId"),className:"sortable",children:["Partie ",T("gameId")]}),e.jsxs("th",{onClick:()=>S("date"),className:"sortable",children:["Date ",T("date")]}),e.jsxs("th",{onClick:()=>S("playerCount"),className:"sortable",children:["Joueurs ",T("playerCount")]}),e.jsxs("th",{onClick:()=>S("gameDuration"),className:"sortable",children:["DurÃ©e ",T("gameDuration")]}),e.jsxs("th",{onClick:()=>S("winningCamp"),className:"sortable",children:["Camp Vainqueur ",T("winningCamp")]}),u&&e.jsxs("th",{onClick:()=>S("winner"),className:"sortable",children:["Vainqueur ",T("winner")]}),e.jsx("th",{children:"DÃ©tails"})]})}),e.jsx("tbody",{children:W.map(r=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:p===r.gameId?"selected":"",children:[e.jsxs("td",{children:["#",r.gameId]}),e.jsx("td",{children:r.date}),e.jsx("td",{children:r.playerCount}),e.jsx("td",{children:de(r.gameDuration)}),e.jsx("td",{style:{color:U[r.winningCamp]||"#fff"},children:r.winningCamp}),u&&e.jsx("td",{children:L(r)}),e.jsx("td",{children:e.jsx("button",{onClick:()=>B(r.gameId),className:"lycans-details-btn",children:p===r.gameId?"Masquer":"Voir"})})]},r.gameId),p===r.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:u?8:7,children:e.jsx(ue,{game:r})})},`${r.gameId}-details`)]}))})]})}),j>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",R+1," Ã  ",Math.min(V,C.length)," sur ",C.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>F(1),disabled:h===1,className:"lycans-pagination-btn",children:"Â«Â«"}),e.jsx("button",{onClick:()=>F(h-1),disabled:h===1,className:"lycans-pagination-btn",children:"â€¹"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",h," sur ",j]}),e.jsx("button",{onClick:()=>F(h+1),disabled:h===j,className:"lycans-pagination-btn",children:"â€º"}),e.jsx("button",{onClick:()=>F(j),disabled:h===j,className:"lycans-pagination-btn",children:"Â»Â»"})]})})]})]})}function de(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}export{fe as GameDetailsChart};
