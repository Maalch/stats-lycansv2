import{r as c,j as n}from"./index-BLk8EHOF.js";import{v as T,u as pe,w as me,x as ue,S as U,y as fe,z as re,A as ye,D as te,E as ne,F as ve,G as he,H as xe,I as ge,J as se,K as be,M as je,N as Pe,b as Ae,d as ie,O as we,P as Ee,p as $,Q as Ie,j as Se,U as D,L,V as Ce,W as Oe,Z as F,_ as X,$ as Re,a0 as Te,a1 as z,i as q,a2 as _e,a3 as De,a4 as Ke,a5 as Ne,a6 as Le,a7 as ze,a8 as Fe,a9 as ke,aa as Me,ab as Ge,ac as We,ad as Be,q as $e,t as qe,R as k,B as Y,C as M,X as G,Y as W,T as B,o as H}from"./useRawGameData-BobySaES.js";import{m as Ve,p as Q,a as Je}from"./api-DftpR04q.js";import{F as ee}from"./FullscreenChart-BzSIIquk.js";function oe(e,r,a){return(r=Ze(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Ze(e){var r=Ue(e,"string");return typeof r=="symbol"?r:r+""}function Ue(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Xe(e){var r=pe();return c.useEffect(()=>(r(me(e)),()=>{r(ue(e))}),[e,r]),null}class V extends c.Component{render(){return c.createElement(Xe,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:T.allowDuplicatedCategory,allowDataOverflow:T.allowDataOverflow,reversed:T.reversed,includeHidden:T.includeHidden})}}oe(V,"displayName","ZAxis");oe(V,"defaultProps",{zAxisId:0,range:T.range,scale:T.scale,type:T.type});var Ye=["option","isActive"];function N(){return N=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},N.apply(null,arguments)}function He(e,r){if(e==null)return{};var a,t,i=Qe(e,r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)a=m[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Qe(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function ea(e){var{option:r,isActive:a}=e,t=He(e,Ye);return typeof r=="string"?c.createElement(U,N({option:c.createElement(fe,N({type:r},t)),isActive:a,shapeType:"symbols"},t)):c.createElement(U,N({option:r,isActive:a,shapeType:"symbols"},t))}var aa=(e,r,a,t,i,m,d)=>te(e,"xAxis",r,d),ra=(e,r,a,t,i,m,d)=>ne(e,"xAxis",r,d),ta=(e,r,a,t,i,m,d)=>te(e,"yAxis",a,d),na=(e,r,a,t,i,m,d)=>ne(e,"yAxis",a,d),sa=(e,r,a,t)=>ve(e,"zAxis",t,!1),ia=(e,r,a,t,i)=>i,oa=(e,r,a,t,i,m)=>m,la=(e,r,a,t,i,m,d)=>ye(e,r,a,d),ca=re([he,ia],(e,r)=>{if(e.some(a=>a.type==="scatter"&&r.dataKey===a.dataKey&&r.data===a.data))return r}),da=re([la,aa,ra,ta,na,sa,ca,oa],(e,r,a,t,i,m,d,I)=>{var{chartData:j,dataStartIndex:h,dataEndIndex:A}=e;if(d!=null){var b;if(d?.data!=null&&d.data.length>0?b=d.data:b=j?.slice(h,A+1),!(b==null||r==null||t==null||a==null||i==null||a?.length===0||i?.length===0))return ja({displayedData:b,xAxis:r,yAxis:t,zAxis:m,scatterSettings:d,xAxisTicks:a,yAxisTicks:i,cells:I})}}),pa=["onMouseEnter","onClick","onMouseLeave"],ma=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function le(e,r){if(e==null)return{};var a,t,i=ua(e,r);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(e);for(t=0;t<m.length;t++)a=m[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function ua(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function K(){return K=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},K.apply(null,arguments)}function ae(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,t)}return a}function R(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?ae(Object(a),!0).forEach(function(t){J(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function J(e,r,a){return(r=fa(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function fa(e){var r=ya(e,"string");return typeof r=="symbol"?r:r+""}function ya(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var va=e=>{var{dataKey:r,name:a,fill:t,legendType:i,hide:m}=e;return[{inactive:m,dataKey:r,type:i,color:t,value:se(a,r),payload:e}]};function ha(e){var{points:r,props:a}=e,{line:t,lineType:i,lineJointType:m}=a;if(!t)return null;var d=q(a,!1),I=q(t,!1),j,h;if(i==="joint")j=r.map(f=>({x:f.cx,y:f.cy}));else if(i==="fitting"){var{xmin:A,xmax:b,a:l,b:u}=Me(r),o=f=>l*f+u;j=[{x:A,y:o(A)},{x:b,y:o(b)}]}var x=R(R(R({},d),{},{fill:"none",stroke:d&&d.fill},I),{},{points:j});return c.isValidElement(t)?h=c.cloneElement(t,x):typeof t=="function"?h=t(x):h=c.createElement(Ge,K({},x,{type:m})),c.createElement(L,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}function ce(e){var{points:r,showLabels:a,allOtherScatterProps:t}=e,{shape:i,activeShape:m,dataKey:d}=t,I=q(t,!1),j=ie(_e),{onMouseEnter:h,onClick:A,onMouseLeave:b}=t,l=le(t,pa),u=De(h,t.dataKey),o=Ke(b),x=Ne(A,t.dataKey);return r==null?null:c.createElement(c.Fragment,null,c.createElement(ha,{points:r,props:t}),r.map((f,v)=>{var g=m&&j===String(v),C=g?m:i,s=R(R(R({key:"symbol-".concat(v)},I),f),{},{[ze]:v,[Le]:String(d)});return c.createElement(L,K({className:"recharts-scatter-symbol"},Fe(l,f,v),{onMouseEnter:u(f,v),onMouseLeave:o(f,v),onClick:x(f,v),key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(v)}),c.createElement(ea,K({option:C,isActive:g},s)))}),a&&ke.renderCallByParent(t,r))}function xa(e){var{previousPointsRef:r,props:a}=e,{points:t,isAnimationActive:i,animationBegin:m,animationDuration:d,animationEasing:I}=a,j=r.current,h=Re(a,"recharts-scatter-"),[A,b]=c.useState(!1),l=c.useCallback(()=>{b(!1)},[]),u=c.useCallback(()=>{b(!0)},[]);return c.createElement(Te,{begin:m,duration:d,isActive:i,easing:I,from:{t:0},to:{t:1},onAnimationEnd:l,onAnimationStart:u,key:h},o=>{var{t:x}=o,f=x===1?t:t.map((v,g)=>{var C=j&&j[g];if(C){var s=z(C.cx,v.cx),p=z(C.cy,v.cy),y=z(C.size,v.size);return R(R({},v),{},{cx:s(x),cy:p(x),size:y(x)})}var E=z(0,v.size);return R(R({},v),{},{size:E(x)})});return x>0&&(r.current=f),c.createElement(L,null,c.createElement(ce,{points:f,allOtherScatterProps:a,showLabels:!A}))})}function ga(e){var{points:r,isAnimationActive:a}=e,t=c.useRef(null),i=t.current;return a&&r&&r.length&&(!i||i!==r)?c.createElement(xa,{props:e,previousPointsRef:t}):c.createElement(ce,{points:r,allOtherScatterProps:e,showLabels:!0})}function ba(e){var{dataKey:r,points:a,stroke:t,strokeWidth:i,fill:m,name:d,hide:I,tooltipType:j}=e;return{dataDefinedOnItem:a?.map(h=>h.tooltipPayload),positions:a?.map(h=>h.tooltipPosition),settings:{stroke:t,strokeWidth:i,fill:m,nameKey:void 0,dataKey:r,name:se(d,r),hide:I,type:j,color:m,unit:""}}}function ja(e){var{displayedData:r,xAxis:a,yAxis:t,zAxis:i,scatterSettings:m,xAxisTicks:d,yAxisTicks:I,cells:j}=e,h=D(a.dataKey)?m.dataKey:a.dataKey,A=D(t.dataKey)?m.dataKey:t.dataKey,b=i&&i.dataKey,l=i?i.range:V.defaultProps.range,u=l&&l[0],o=a.scale.bandwidth?a.scale.bandwidth():0,x=t.scale.bandwidth?t.scale.bandwidth():0;return r.map((f,v)=>{var g=F(f,h),C=F(f,A),s=!D(b)&&F(f,b)||"-",p=[{name:D(a.dataKey)?m.name:a.name||a.dataKey,unit:a.unit||"",value:g,payload:f,dataKey:h,type:m.tooltipType},{name:D(t.dataKey)?m.name:t.name||t.dataKey,unit:t.unit||"",value:C,payload:f,dataKey:A,type:m.tooltipType}];s!=="-"&&p.push({name:i.name||i.dataKey,unit:i.unit||"",value:s,payload:f,dataKey:b,type:m.tooltipType});var y=X({axis:a,ticks:d,bandSize:o,entry:f,index:v,dataKey:h}),E=X({axis:t,ticks:I,bandSize:x,entry:f,index:v,dataKey:A}),S=s!=="-"?i.scale(s):u,O=Math.sqrt(Math.max(S,0)/Math.PI);return R(R({},f),{},{cx:y,cy:E,x:y-O,y:E-O,width:2*O,height:2*O,size:S,node:{x:g,y:C,z:s},tooltipPayload:p,tooltipPosition:{x:y,y:E},payload:f},j&&j[v]&&j[v].props)})}var Pa=(e,r,a)=>({x:e.cx,y:e.cy,value:a==="x"?+e.node.x:+e.node.y,errorVal:F(e,r)});function Aa(e){var r=c.useRef(Ie("recharts-scatter-")),{hide:a,points:t,className:i,needClip:m,xAxisId:d,yAxisId:I,id:j,children:h}=e;if(a)return null;var A=Se("recharts-scatter",i),b=D(j)?r.current:j;return c.createElement(L,{className:A,clipPath:m?"url(#clipPath-".concat(b,")"):null},m&&c.createElement("defs",null,c.createElement(Ce,{clipPathId:b,xAxisId:d,yAxisId:I})),c.createElement(Oe,{xAxisId:d,yAxisId:I,data:t,dataPointFormatter:Pa,errorBarOffset:0},h),c.createElement(L,{key:"recharts-scatter-symbols"},c.createElement(ga,e)))}var de={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ee.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function wa(e){var r=be(e,de),{animationBegin:a,animationDuration:t,animationEasing:i,hide:m,isAnimationActive:d,legendType:I,lineJointType:j,lineType:h,shape:A,xAxisId:b,yAxisId:l,zAxisId:u}=r,o=le(r,ma),{needClip:x}=je(b,l),f=c.useMemo(()=>Pe(e.children,$),[e.children]),v=c.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),g=Ae(),C=ie(s=>da(s,b,l,u,v,f,g));return x==null?null:c.createElement(c.Fragment,null,c.createElement(we,{fn:ba,args:R(R({},e),{},{points:C})}),c.createElement(Aa,K({},o,{xAxisId:b,yAxisId:l,zAxisId:u,lineType:h,lineJointType:j,legendType:I,shape:A,hide:m,isAnimationActive:d,animationBegin:a,animationDuration:t,animationEasing:i,points:C,needClip:x})))}class Z extends c.Component{render(){return c.createElement(xe,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},c.createElement(ge,{legendPayload:va(this.props)}),c.createElement(wa,this.props))}}J(Z,"displayName","Scatter");J(Z,"defaultProps",de);var Ea=["item"],Ia=c.forwardRef((e,r)=>c.createElement(We,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ea,tooltipPayloadSearcher:Be,categoricalChartProps:e,ref:r}));function Sa(){const{data:e,isLoading:r,error:a}=$e(),{data:t,isLoading:i,error:m}=qe();return{playerCampPerformance:c.useMemo(()=>{if(!e||e.length===0||!t||t.length===0)return null;const h=s=>s?s.split(",").map(p=>p.trim()).filter(Boolean):[],A=(s,p,y)=>s[p]&&s[p][y]||"Villageois",b=(s,p)=>p&&p.trim()!==""?h(p).some(E=>E.toLowerCase()===s.toLowerCase()):!1,l=(s,p)=>s===p||s==="Traître"&&p==="Loups",u={};t.forEach(s=>{const p=s.Game;if(!p)return;u[p]||(u[p]={});const y=(w,_)=>{w&&w.trim()&&(u[p][w.trim()]=_)},E=s.Loups;E&&h(E).forEach(w=>{u[p][w]="Loups"}),y(s.Traître,"Traître"),y(s["Idiot du village"],"Idiot du Village"),y(s.Cannibale,"Cannibale"),y(s.Espion,"Espion"),y(s["La Bête"],"La Bête"),y(s["Chasseur de primes"],"Chasseur de primes"),y(s.Vaudou,"Vaudou");const S=s.Agent;S&&h(S).forEach(w=>{u[p][w]="Agent"});const O=s.Scientifique;O&&h(O).forEach(w=>{u[p][w]="Scientifique"});const P=s.Amoureux;P&&h(P).forEach(w=>{u[p][w]="Amoureux"})});const o={};e.forEach(s=>{const p=s.Game,y=s["Liste des joueurs"],E=s["Camp victorieux"];if(p&&y&&E){const S=h(y),O=new Set;S.forEach(P=>{const w=P.trim();if(w){const _=A(u,p,w);O.add(_)}}),O.forEach(P=>{o[P]||(o[P]={totalGames:0,wins:0,winRate:0,players:{}}),o[P].totalGames++}),O.forEach(P=>{l(P,E)&&o[P].wins++})}});const x={};e.forEach(s=>{const p=s.Game,y=s["Liste des joueurs"],E=s["Liste des gagnants"];p&&y&&E&&h(y).forEach(O=>{const P=O.trim();if(P){const w=A(u,p,O);o[w].players[P]||(o[w].players[P]={games:0,wins:0,winRate:0}),o[w].players[P].games++;const _=b(P,E);_&&o[w].players[P].wins++,x[P]||(x[P]={totalGames:0,camps:{}}),x[P].camps[w]||(x[P].camps[w]={games:0,wins:0,winRate:0,performance:0}),x[P].totalGames++,x[P].camps[w].games++,_&&x[P].camps[w].wins++}})}),Object.keys(o).forEach(s=>{o[s].totalGames>0&&(o[s].winRate=parseFloat((o[s].wins/o[s].totalGames*100).toFixed(2))),Object.keys(o[s].players).forEach(p=>{const y=o[s].players[p];y.games>0&&(y.winRate=parseFloat((y.wins/y.games*100).toFixed(2)))})}),Object.keys(x).forEach(s=>{Object.keys(x[s].camps).forEach(p=>{const y=x[s].camps[p];y.games>0&&(y.winRate=parseFloat((y.wins/y.games*100).toFixed(2)),o[p]&&o[p].winRate&&(y.performance=parseFloat((y.winRate-o[p].winRate).toFixed(2))))})});const f=5,v=[];return Object.keys(x).forEach(s=>{const p=x[s],y=[];Object.keys(p.camps).forEach(E=>{const S=p.camps[E];S.games>=f&&y.push({camp:E,games:S.games,wins:S.wins,winRate:S.winRate.toFixed(2),campAvgWinRate:o[E].winRate.toFixed(2),performance:S.performance.toFixed(2)})}),y.sort((E,S)=>parseFloat(S.performance)-parseFloat(E.performance)),y.length>0&&v.push({player:s,totalGames:p.totalGames,campPerformance:y})}),v.sort((s,p)=>p.totalGames-s.totalGames),{campAverages:Object.keys(o).map(s=>({camp:s,totalGames:o[s].totalGames,winRate:o[s].winRate.toFixed(2)})),playerPerformance:v,minGamesRequired:f}},[e,t]),isLoading:r||i,error:a||m}}function _a(){const[e,r]=c.useState("player-performance"),[a,t]=c.useState("Villageois"),[i,m]=c.useState(5),{playerCampPerformance:d,isLoading:I,error:j}=Sa();console.log("PlayerCampPerformanceChart - playerCampPerformance:",d);const h=c.useMemo(()=>d?.campAverages?d.campAverages.map(l=>l.camp).sort():[],[d]),{campPlayerData:A,topPerformersData:b}=c.useMemo(()=>{if(!d?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:l}=d,u=[],o=[];for(const v of l)for(const g of v.campPerformance)if(g.games>=i){const C={player:v.player,camp:g.camp,games:g.games,wins:g.wins,winRate:g.winRate,performance:g.performance,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate)};o.push(C),g.camp===a&&u.push({player:v.player,...g,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate)})}const x=u.sort((v,g)=>g.performanceNum-v.performanceNum),f=o.sort((v,g)=>g.performanceNum-v.performanceNum).slice(0,20);return{campPlayerData:x,topPerformersData:f}},[d,a,i]);return I?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):j?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",j]}):d?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:e,onChange:l=>r(l.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),e==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:a,onChange:l=>t(l.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:h.map(l=>n.jsx("option",{value:l,children:l},l))})]}),(e==="player-performance"||e==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:i,onChange:l=>m(Number(l.target.value)),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:Ve.map(l=>n.jsx("option",{value:l,children:l},l))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:d.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:d.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[e==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",a]}),n.jsx(ee,{title:`Performance des Joueurs - ${a}`,children:n.jsx("div",{style:{height:500},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Y,{data:A.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:l,payload:u})=>{if(l&&u&&u.length>0){const o=u[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:o.player})}),n.jsxs("div",{children:["Parties: ",o.games]}),n.jsxs("div",{children:["Victoires: ",o.wins]}),n.jsxs("div",{children:["Taux personnel: ",o.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",o.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",o.performance>0?"+":"",o.performance]})]})}return null}}),n.jsx(H,{dataKey:"performanceNum",children:A.slice(0,15).map((l,u)=>n.jsx($,{fill:Q[l.player]||(l.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${u}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",a]}),n.jsx(ee,{title:`Relation Parties Jouées vs Performance - ${a}`,children:n.jsx("div",{style:{height:400},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Ia,{data:A,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(W,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:l,payload:u})=>{if(l&&u&&u.length>0){const o=u[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:o.player})}),n.jsxs("div",{children:["Parties: ",o.games]}),n.jsxs("div",{children:["Performance: ",o.performance>0?"+":"",o.performance]})]})}return null}}),n.jsx(Z,{dataKey:"performanceNum",name:"Performance",shape:l=>n.jsxs("g",{children:[n.jsx("circle",{cx:l.cx,cy:l.cy,r:12,fill:Q[l.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:l.cx,y:l.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:l.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),e==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${i} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Y,{data:b,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(M,{strokeDasharray:"3 3"}),n.jsx(G,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(W,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(B,{content:({active:l,payload:u})=>{if(l&&u&&u.length>0){const o=u[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:o.player})}),n.jsxs("div",{children:["Camp: ",o.camp]}),n.jsxs("div",{children:["Parties: ",o.games]}),n.jsxs("div",{children:["Taux personnel: ",o.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",o.performance]})]})}return null}}),n.jsx(H,{dataKey:"performanceNum",children:b.map((l,u)=>n.jsx($,{fill:Je[l.camp]||`var(--chart-color-${u%6+1})`},`cell-${u}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{_a as PlayerCampPerformanceChart};
