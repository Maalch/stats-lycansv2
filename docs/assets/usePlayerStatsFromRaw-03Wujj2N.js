import{a as o,d as P}from"./datasyncExport-Cb32QF6O.js";import{g as y,b as g}from"./index-C6WVRfsr.js";function d(r){if(r.length===0)return null;const e={};let n=0;r.forEach(a=>{const s=a.PlayerStats;s.length>0&&(n++,s.forEach(i=>{const t=y(i),m=g(i);if(t){e[t]||(e[t]={gamesPlayed:0,gamesPlayedPercent:"0",wins:0,winPercent:"0",camps:{},displayName:m}),e[t].displayName=m,e[t].gamesPlayed++;const c=o(i.MainRoleInitial,i.MainRoleChanges||[]);c&&(c in e[t].camps||(e[t].camps[c]=0),e[t].camps[c]++),i.Victorious&&e[t].wins++}}))}),Object.keys(e).forEach(a=>{const s=e[a];s.gamesPlayedPercent=(s.gamesPlayed/n*100).toFixed(2),s.winPercent=(s.wins/s.gamesPlayed*100).toFixed(2)});const l=Object.keys(e).map(a=>({player:e[a].displayName,gamesPlayed:e[a].gamesPlayed,gamesPlayedPercent:e[a].gamesPlayedPercent,wins:e[a].wins,winPercent:e[a].winPercent,camps:e[a].camps}));return l.sort((a,s)=>s.gamesPlayed-a.gamesPlayed),{totalGames:n,playerStats:l}}function u(){const{data:r,isLoading:e,error:n}=P(l=>d(l));return{data:r,isLoading:e,error:n}}export{u};
