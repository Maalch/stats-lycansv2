import{r as m,u as fe,a as ye,j as i}from"./index-DTqej8ed.js";import{u as ve}from"./baseStatsHook-CXndwJgi.js";import{g as q}from"./datasyncExport-C-C1WOG_.js";import{a as ge,u as xe,m as Pe}from"./api-BaHPHA7T.js";import{S as X,u as Ae,b as Z,G as be,d as je,e as we,f as Ce,g as Ee,h as Ie,F as Y,B as Q,C as B,X as L,Y as H,a as ee}from"./FullscreenChart-BuL-JNWH.js";import{m as O,u as Se,n as Te,o as Re,S as Oe,p as te,q as _e,t as ie,v as ne,w as Ne,x as De,y as se,b as oe,z as Fe,A as ke,B as ze,C as le,D as Ke,d as ce,E as Me,G as We,i as Ge,L as z,F,H as G,I as ae,J as Be,K as Le,M as W,N as He,O as de,P as $e,Q as Je,U as qe,V as Ze,h as Ve,W as Ue,X as Xe,Y as Ye,R as $,T as J}from"./CategoricalChart-iLdZG8l9.js";function me(a,e,t){return(e=Qe(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Qe(a){var e=ea(a,"string");return typeof e=="symbol"?e:e+""}function ea(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function aa(a){var e=Se();return m.useEffect(()=>(e(Te(a)),()=>{e(Re(a))}),[a,e]),null}class U extends m.Component{render(){return m.createElement(aa,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:O.allowDuplicatedCategory,allowDataOverflow:O.allowDataOverflow,reversed:O.reversed,includeHidden:O.includeHidden})}}me(U,"displayName","ZAxis");me(U,"defaultProps",{zAxisId:0,range:O.range,scale:O.scale,type:O.type});var ra=["option","isActive"];function k(){return k=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},k.apply(null,arguments)}function ta(a,e){if(a==null)return{};var t,r,o=ia(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)t=n[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(o[t]=a[t])}return o}function ia(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function na(a){var{option:e,isActive:t}=a,r=ta(a,ra);return typeof e=="string"?m.createElement(X,k({option:m.createElement(Oe,k({type:e},r)),isActive:t,shapeType:"symbols"},r)):m.createElement(X,k({option:e,isActive:t,shapeType:"symbols"},r))}var sa=(a,e,t,r,o,n,s)=>ie(a,"xAxis",e,s),oa=(a,e,t,r,o,n,s)=>ne(a,"xAxis",e,s),la=(a,e,t,r,o,n,s)=>ie(a,"yAxis",t,s),ca=(a,e,t,r,o,n,s)=>ne(a,"yAxis",t,s),da=(a,e,t,r)=>Ne(a,"zAxis",r,!1),ma=(a,e,t,r,o)=>o,pa=(a,e,t,r,o,n)=>n,ua=(a,e,t,r,o,n,s)=>_e(a,e,t,s),ha=te([De,ma],(a,e)=>a.filter(t=>t.type==="scatter").find(t=>t.id===e)),fa=te([ua,sa,oa,la,ca,da,ha,pa],(a,e,t,r,o,n,s,v)=>{var{chartData:p,dataStartIndex:u,dataEndIndex:f}=a;if(s!=null){var g;if(s?.data!=null&&s.data.length>0?g=s.data:g=p?.slice(u,f+1),!(g==null||e==null||r==null||t==null||o==null||t?.length===0||o?.length===0))return Sa({displayedData:g,xAxis:e,yAxis:r,zAxis:n,scatterSettings:s,xAxisTicks:t,yAxisTicks:o,cells:v})}}),ya=["onMouseEnter","onClick","onMouseLeave"],va=["id"],ga=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function V(a,e){if(a==null)return{};var t,r,o=xa(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(r=0;r<n.length;r++)t=n[r],e.indexOf(t)===-1&&{}.propertyIsEnumerable.call(a,t)&&(o[t]=a[t])}return o}function xa(a,e){if(a==null)return{};var t={};for(var r in a)if({}.hasOwnProperty.call(a,r)){if(e.indexOf(r)!==-1)continue;t[r]=a[r]}return t}function _(){return _=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(a[r]=t[r])}return a},_.apply(null,arguments)}function re(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(a);e&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable})),t.push.apply(t,r)}return t}function C(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?re(Object(t),!0).forEach(function(r){Pa(a,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):re(Object(t)).forEach(function(r){Object.defineProperty(a,r,Object.getOwnPropertyDescriptor(t,r))})}return a}function Pa(a,e,t){return(e=Aa(e))in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Aa(a){var e=ba(a,"string");return typeof e=="symbol"?e:e+""}function ba(a,e){if(typeof a!="object"||!a)return a;var t=a[Symbol.toPrimitive];if(t!==void 0){var r=t.call(a,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var ja=a=>{var{dataKey:e,name:t,fill:r,legendType:o,hide:n}=a;return[{inactive:n,dataKey:e,type:o,color:r,value:le(t,e),payload:a}]};function wa(a){var{points:e,props:t}=a,{line:r,lineType:o,lineJointType:n}=t;if(!r)return null;var s=de(t),v=Ve(r,!1),p,u;if(o==="joint")p=e.map(h=>({x:h.cx,y:h.cy}));else if(o==="fitting"){var{xmin:f,xmax:g,a:j,b:E}=Ue(e),P=h=>j*h+E;p=[{x:f,y:P(f)},{x:g,y:P(g)}]}var w=C(C(C({},s),{},{fill:"none",stroke:s&&s.fill},v),{},{points:p});return m.isValidElement(r)?u=m.cloneElement(r,w):typeof r=="function"?u=r(w):u=m.createElement(Xe,_({},w,{type:n})),m.createElement(z,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function pe(a){var{points:e,showLabels:t,allOtherScatterProps:r}=a,{shape:o,activeShape:n,dataKey:s}=r,v=ce(He),{onMouseEnter:p,onClick:u,onMouseLeave:f}=r,g=V(r,ya),j=we(p,r.dataKey),E=Ce(f),P=Ee(u,r.dataKey);if(e==null)return null;var{id:w}=r,h=V(r,va),l=de(h);return m.createElement(m.Fragment,null,m.createElement(wa,{points:e,props:h}),e.map((c,d)=>{var A=n&&v===String(d),S=A?n:o,I=C(C(C({key:"symbol-".concat(d)},l),c),{},{[Je]:d,[$e]:String(s)});return m.createElement(z,_({className:"recharts-scatter-symbol"},qe(g,c,d),{onMouseEnter:j(c,d),onMouseLeave:E(c,d),onClick:P(c,d),key:"symbol-".concat(c?.cx,"-").concat(c?.cy,"-").concat(c?.size,"-").concat(d)}),m.createElement(na,_({option:S,isActive:A},I)))}),t&&Ze.renderCallByParent(h,e))}function Ca(a){var{previousPointsRef:e,props:t}=a,{points:r,isAnimationActive:o,animationBegin:n,animationDuration:s,animationEasing:v}=t,p=e.current,u=Be(t,"recharts-scatter-"),[f,g]=m.useState(!1),j=m.useCallback(()=>{g(!1)},[]),E=m.useCallback(()=>{g(!0)},[]);return m.createElement(Le,{begin:n,duration:s,isActive:o,easing:v,onAnimationEnd:j,onAnimationStart:E,key:u},P=>{var w=P===1?r:r.map((h,l)=>{var c=p&&p[l];if(c){var d=W(c.cx,h.cx),A=W(c.cy,h.cy),S=W(c.size,h.size);return C(C({},h),{},{cx:d(P),cy:A(P),size:S(P)})}var I=W(0,h.size);return C(C({},h),{},{size:I(P)})});return P>0&&(e.current=w),m.createElement(z,null,m.createElement(pe,{points:w,allOtherScatterProps:t,showLabels:!f}))})}function Ea(a){var{points:e,isAnimationActive:t}=a,r=m.useRef(null),o=r.current;return t&&e&&e.length&&(!o||o!==e)?m.createElement(Ca,{props:a,previousPointsRef:r}):m.createElement(pe,{points:e,allOtherScatterProps:a,showLabels:!0})}function Ia(a){var{dataKey:e,points:t,stroke:r,strokeWidth:o,fill:n,name:s,hide:v,tooltipType:p}=a;return{dataDefinedOnItem:t?.map(u=>u.tooltipPayload),positions:t?.map(u=>u.tooltipPosition),settings:{stroke:r,strokeWidth:o,fill:n,nameKey:void 0,dataKey:e,name:le(s,e),hide:v,type:p,color:n,unit:""}}}function Sa(a){var{displayedData:e,xAxis:t,yAxis:r,zAxis:o,scatterSettings:n,xAxisTicks:s,yAxisTicks:v,cells:p}=a,u=F(t.dataKey)?n.dataKey:t.dataKey,f=F(r.dataKey)?n.dataKey:r.dataKey,g=o&&o.dataKey,j=o?o.range:U.defaultProps.range,E=j&&j[0],P=t.scale.bandwidth?t.scale.bandwidth():0,w=r.scale.bandwidth?r.scale.bandwidth():0;return e.map((h,l)=>{var c=G(h,u),d=G(h,f),A=!F(g)&&G(h,g)||"-",S=[{name:F(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:c,payload:h,dataKey:u,type:n.tooltipType},{name:F(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:d,payload:h,dataKey:f,type:n.tooltipType}];A!=="-"&&S.push({name:o.name||o.dataKey,unit:o.unit||"",value:A,payload:h,dataKey:g,type:n.tooltipType});var I=ae({axis:t,ticks:s,bandSize:P,entry:h,index:l,dataKey:u}),N=ae({axis:r,ticks:v,bandSize:w,entry:h,index:l,dataKey:f}),K=A!=="-"?o.scale(A):E,T=Math.sqrt(Math.max(K,0)/Math.PI);return C(C({},h),{},{cx:I,cy:N,x:I-T,y:N-T,width:2*T,height:2*T,size:K,node:{x:c,y:d,z:A},tooltipPayload:S,tooltipPosition:{x:I,y:N},payload:h},p&&p[l]&&p[l].props)})}var Ta=(a,e,t)=>({x:a.cx,y:a.cy,value:t==="x"?+a.node.x:+a.node.y,errorVal:G(a,e)});function Ra(a){var{hide:e,points:t,className:r,needClip:o,xAxisId:n,yAxisId:s,id:v,children:p}=a;if(e)return null;var u=Ge("recharts-scatter",r),f=v;return m.createElement(z,{className:u,clipPath:o?"url(#clipPath-".concat(f,")"):null,id:v},o&&m.createElement("defs",null,m.createElement(be,{clipPathId:f,xAxisId:n,yAxisId:s})),m.createElement(je,{xAxisId:n,yAxisId:s,data:t,dataPointFormatter:Ta,errorBarOffset:0},p),m.createElement(z,{key:"recharts-scatter-symbols"},m.createElement(Ea,a)))}var ue={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!We.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Oa(a){var e=se(a,ue),{animationBegin:t,animationDuration:r,animationEasing:o,hide:n,isAnimationActive:s,legendType:v,lineJointType:p,lineType:u,shape:f,xAxisId:g,yAxisId:j,zAxisId:E}=e,P=V(e,ga),{needClip:w}=Ae(g,j),h=m.useMemo(()=>Ke(a.children,Z),[a.children]),l=oe(),c=ce(d=>fa(d,g,j,E,a.id,h,l));return w==null?null:m.createElement(m.Fragment,null,m.createElement(Me,{fn:Ia,args:C(C({},a),{},{points:c})}),m.createElement(Ra,_({},P,{xAxisId:g,yAxisId:j,zAxisId:E,lineType:u,lineJointType:p,legendType:v,shape:f,hide:n,isAnimationActive:s,animationBegin:t,animationDuration:r,animationEasing:o,points:c,needClip:w})))}function he(a){var e=se(a,ue),t=oe();return m.createElement(Fe,{id:e.id,type:"scatter"},r=>m.createElement(m.Fragment,null,m.createElement(ke,{legendPayload:ja(e)}),m.createElement(ze,{type:"scatter",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:t}),m.createElement(Oa,_({},e,{id:r}))))}he.displayName="Scatter";var _a=["item"],Na=m.forwardRef((a,e)=>m.createElement(Ie,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_a,tooltipPayloadSearcher:Ye,categoricalChartProps:a,ref:e}));function Da(a){const e={};return a.forEach(t=>{const r=new Set;t.PlayerStats.forEach(n=>{const s=q(n.MainRoleFinal);r.add(s)}),r.forEach(n=>{e[n]||(e[n]={totalGames:0,wins:0,winRate:0,players:{}}),e[n].totalGames++});const o=new Set;t.PlayerStats.forEach(n=>{if(n.Victorious){const s=q(n.MainRoleFinal);o.add(s)}}),o.forEach(n=>{e[n]&&e[n].wins++})}),e}function Fa(a,e){const t={};return a.forEach(r=>{r.PlayerStats.forEach(o=>{const n=o.Username.trim();if(!n)return;const s=q(o.MainRoleFinal);e[s].players[n]||(e[s].players[n]={games:0,wins:0,winRate:0}),e[s].players[n].games++,o.Victorious&&e[s].players[n].wins++,t[n]||(t[n]={totalGames:0,camps:{}}),t[n].camps[s]||(t[n].camps[s]={games:0,wins:0,winRate:0,performance:0}),t[n].totalGames++,t[n].camps[s].games++,o.Victorious&&t[n].camps[s].wins++})}),t}function ka(a){Object.keys(a).forEach(e=>{a[e].totalGames>0&&(a[e].winRate=parseFloat((a[e].wins/a[e].totalGames*100).toFixed(2))),Object.keys(a[e].players).forEach(t=>{const r=a[e].players[t];r.games>0&&(r.winRate=parseFloat((r.wins/r.games*100).toFixed(2)))})})}function za(a,e){Object.keys(a).forEach(t=>{Object.keys(a[t].camps).forEach(r=>{const o=a[t].camps[r];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),e[r]&&e[r].winRate&&(o.performance=parseFloat((o.winRate-e[r].winRate).toFixed(2))))})})}function Ka(a,e,t){const r=[];return Object.keys(a).forEach(n=>{const s=a[n],v=[];Object.keys(s.camps).forEach(p=>{const u=s.camps[p];u.games>=t&&v.push({camp:p,games:u.games,wins:u.wins,winRate:u.winRate.toFixed(2),campAvgWinRate:e[p].winRate.toFixed(2),performance:u.performance.toFixed(2)})}),v.sort((p,u)=>parseFloat(u.performance)-parseFloat(p.performance)),v.length>0&&r.push({player:n,totalGames:s.totalGames,campPerformance:v})}),r.sort((n,s)=>s.totalGames-n.totalGames),{campAverages:Object.keys(e).map(n=>({camp:n,totalGames:e[n].totalGames,wins:e[n].wins,winRate:e[n].winRate.toFixed(2)})),playerPerformanceArray:r}}function Ma(a){if(a.length===0)return null;const e=Da(a),t=Fa(a,e);ka(e),za(t,e);const r=3,{campAverages:o,playerPerformanceArray:n}=Ka(t,e,r);return{campAverages:o,playerPerformance:n,minGamesRequired:r}}function Wa(){const{data:a,isLoading:e,error:t}=ve(Ma);return{playerCampPerformance:a,isLoading:e,error:t}}function qa(){const{navigateToGameDetails:a,navigationState:e,updateNavigationState:t}=fe(),{settings:r}=ye(),o=ge(),n=xe(),[s,v]=m.useState(e.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[p,u]=m.useState(e.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:f,isLoading:g,error:j}=Wa();m.useEffect(()=>{e.campPerformanceState||t({campPerformanceState:{selectedCampPerformanceCamp:s,selectedCampPerformanceMinGames:p}})},[s,p,e.campPerformanceState,t]);const E=m.useMemo(()=>f?.campAverages?["Tous les camps",...f.campAverages.map(c=>c.camp).sort()]:["Tous les camps"],[f]),{campPlayerData:P,topPerformersData:w}=m.useMemo(()=>{if(!f?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:l}=f,c=[],d=[];for(const b of l)for(const y of b.campPerformance)if(y.games>=p){const R={player:b.player,camp:y.camp,games:y.games,wins:y.wins,winRate:y.winRate,performance:y.performance,winRateNum:parseFloat(y.winRate),performanceNum:parseFloat(y.performance),campAvgWinRateNum:parseFloat(y.campAvgWinRate),isHighlightedAddition:!1};d.push(R),s!=="Tous les camps"&&y.camp===s&&c.push({player:b.player,...y,winRateNum:parseFloat(y.winRate),performanceNum:parseFloat(y.performance),campAvgWinRateNum:parseFloat(y.campAvgWinRate),isHighlightedAddition:!1})}const A=(b,y)=>{if(!r.highlightedPlayer||b.some(x=>x.player===r.highlightedPlayer&&(!y||x.camp===y)))return b;const M=l.find(x=>x.player===r.highlightedPlayer);if(!M)return b;const D=[];for(const x of M.campPerformance)(!y||x.camp===y)&&x.games>=1&&D.push({player:M.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate),isHighlightedAddition:!0});return[...b,...D]},S=s!=="Tous les camps"?A(c,s):[],I=A(d),N=S.sort((b,y)=>y.performanceNum-b.performanceNum),K=I.sort((b,y)=>y.performanceNum-b.performanceNum),T=(b,y)=>{const R=b.slice(0,y);if(R.some(x=>x.player===r.highlightedPlayer)||!r.highlightedPlayer)return R;const D=b.find(x=>x.player===r.highlightedPlayer);if(D){const x={...D,isHighlightedAddition:!0};return[...R,x]}return R};return{campPlayerData:T(N,15),topPerformersData:T(K,20)}},[f,s,p,r.highlightedPlayer]),h=l=>{l&&l.player&&a(s!=="Tous les camps"?{selectedPlayer:l.player,campFilter:{selectedCamp:s,campFilterMode:"wins-only",excludeTraitor:s==="Traître"},fromComponent:`Performance des Joueurs - ${s}`}:{selectedPlayer:l.player,campFilter:{selectedCamp:l.camp,campFilterMode:"wins-only",excludeTraitor:l.camp==="Traître"},fromComponent:"Performance des Joueurs - Tous les camps"})};return g?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):j?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",j]}):f?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:s,onChange:l=>{const c=l.target.value;v(c),t({campPerformanceState:{selectedCampPerformanceCamp:c,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:E.map(l=>i.jsx("option",{value:l,children:l},l))})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:p,onChange:l=>{const c=Number(l.target.value);u(c),t({campPerformanceState:{selectedCampPerformanceCamp:s,selectedCampPerformanceMinGames:c}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:Pe.map(l=>i.jsx("option",{value:l,children:l},l))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:f.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:f.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[s!=="Tous les camps"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Meilleurs joueurs en ",s]}),i.jsx(Y,{title:`Meilleurs Joueurs - ${s}`,children:i.jsx("div",{style:{height:500},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(Q,{data:P,margin:{top:20,right:30,left:20,bottom:0},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:l,y:c,payload:d})=>i.jsx("text",{x:l,y:c,dy:16,textAnchor:"end",fill:r.highlightedPlayer===d.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===d.value?14:13,fontWeight:r.highlightedPlayer===d.value?"bold":"italic",transform:`rotate(-45 ${l} ${c})`,children:d.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(J,{content:({active:l,payload:c})=>{if(l&&c&&c.length>0){const d=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Victoires: ",d.wins]}),i.jsxs("div",{children:["Taux personnel: ",d.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",d.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",d.performance>0?"+":"",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ee,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:P.map((l,c)=>{const d=r.highlightedPlayer===l.player,A=l.isHighlightedAddition;return i.jsx(Z,{fill:n[l.player]||(l.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:d?"var(--accent-primary)":"transparent",strokeWidth:d?3:0,strokeDasharray:A?"5,5":"none",opacity:A?.8:1},`cell-${c}`)})})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Performances en ",s," sur nombre de parties jouées"]}),i.jsx(Y,{title:`Performances vs Parties Jouées - ${s}`,children:i.jsx("div",{style:{height:400},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(Na,{data:P,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(H,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(J,{content:({active:l,payload:c})=>{if(l&&c&&c.length>0){const d=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Performance: ",d.performance>0?"+":"",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(he,{dataKey:"performanceNum",name:"Performance",onClick:l=>{l&&l.player&&a({selectedPlayer:l.player,campFilter:{selectedCamp:s,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${s}`})},shape:l=>{const c=r.highlightedPlayer===l.payload?.player,d=l.payload?.isHighlightedAddition;return i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:l.cx,cy:l.cy,r:c?15:12,fill:n[l.payload?.player]||"var(--accent-primary)",stroke:c?"var(--accent-primary)":"#222",strokeWidth:c?3:1,strokeDasharray:d?"5,5":"none",opacity:d?.8:1}),i.jsx("text",{x:l.cx,y:l.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:c?"12":"10",fontWeight:"bold",pointerEvents:"none",children:l.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})]}),s==="Tous les camps"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances - Tous les camps (Min. ${p} parties par camp)`}),i.jsx("div",{style:{height:600},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(Q,{data:w,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:l,y:c,payload:d})=>i.jsx("text",{x:l,y:c,dy:16,textAnchor:"end",fill:r.highlightedPlayer===d.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===d.value?14:13,fontWeight:r.highlightedPlayer===d.value?"bold":"italic",transform:`rotate(-45 ${l} ${c})`,children:d.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(J,{content:({active:l,payload:c})=>{if(l&&c&&c.length>0){const d=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:d.player})}),i.jsxs("div",{children:["Camp: ",d.camp]}),i.jsxs("div",{children:["Parties: ",d.games]}),i.jsxs("div",{children:["Taux personnel: ",d.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",d.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ee,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:h,children:w.map((l,c)=>{const d=r.highlightedPlayer===l.player,A=l.isHighlightedAddition;return i.jsx(Z,{fill:o[l.camp]||`var(--chart-color-${c%6+1})`,stroke:d?"var(--accent-primary)":"transparent",strokeWidth:d?3:0,strokeDasharray:A?"5,5":"none",opacity:A?.8:1},`cell-${c}`)})})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{qa as PlayerCampPerformanceChart};
