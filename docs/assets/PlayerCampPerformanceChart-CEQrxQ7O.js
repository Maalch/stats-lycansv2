import{r as l,j as a}from"./index-10c0XFzC.js";import{l as B,p as X}from"./api-BWHeASPZ.js";import{a6 as S,u as le,a7 as ce,a8 as de,a9 as Y,S as pe,G as Q,K as me,I as ee,J as ae,aa as ue,M as ve,P as he,U as re,V as ye,ab as fe,b as xe,d as te,Q as ge,Y as je,C as I,a4 as be,i as Pe,F as C,L as O,_ as F,$ as U,a0 as Ae,a1 as Se,a2 as z,h as G,D as Ie,ac as Ce,ad as Ee,ae as we,af as Ne,ag as Te,l as _e,ah as Ke,a3 as Oe,a5 as Re,R as T,T as _}from"./CategoricalChart-DPrP0Nbu.js";import{d as De,u as ze,G as Me,e as ke,L as Le,f as Fe,B as $,C as M,X as k,Y as L,a as W}from"./BarChart--toSdP8a.js";import{P as Be,a as $e}from"./PieChart-ul80fMhO.js";function ne(e,t,r){return(t=We(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function We(e){var t=Ge(e,"string");return typeof t=="symbol"?t:t+""}function Ge(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qe(e){var t=le();return l.useEffect(()=>(t(ce(e)),()=>{t(de(e))}),[e,t]),null}class q extends l.Component{render(){return l.createElement(qe,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:S.allowDuplicatedCategory,allowDataOverflow:S.allowDataOverflow,reversed:S.reversed,includeHidden:S.includeHidden})}}ne(q,"displayName","ZAxis");ne(q,"defaultProps",{zAxisId:0,range:S.range,scale:S.scale,type:S.type});var Ze=["option","isActive"];function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},K.apply(null,arguments)}function Je(e,t){if(e==null)return{};var r,n,o=Ve(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ve(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Xe(e){var{option:t,isActive:r}=e,n=Je(e,Ze);return typeof t=="string"?l.createElement(Y,K({option:l.createElement(pe,K({type:t},n)),isActive:r,shapeType:"symbols"},n)):l.createElement(Y,K({option:t,isActive:r,shapeType:"symbols"},n))}var Ye=(e,t,r,n,o,p,c)=>ee(e,"xAxis",t,c),Ue=(e,t,r,n,o,p,c)=>ae(e,"xAxis",t,c),He=(e,t,r,n,o,p,c)=>ee(e,"yAxis",r,c),Qe=(e,t,r,n,o,p,c)=>ae(e,"yAxis",r,c),ea=(e,t,r,n)=>ue(e,"zAxis",n,!1),aa=(e,t,r,n,o)=>o,ra=(e,t,r,n,o,p)=>p,ta=(e,t,r,n,o,p,c)=>me(e,t,r,c),na=Q([ve,aa],(e,t)=>{if(e.some(r=>r.type==="scatter"&&t.dataKey===r.dataKey&&t.data===r.data))return t}),ia=Q([ta,Ye,Ue,He,Qe,ea,na,ra],(e,t,r,n,o,p,c,y)=>{var{chartData:u,dataStartIndex:v,dataEndIndex:x}=e;if(c!=null){var h;if(c?.data!=null&&c.data.length>0?h=c.data:h=u?.slice(v,x+1),!(h==null||t==null||n==null||r==null||o==null||r?.length===0||o?.length===0))return ya({displayedData:h,xAxis:t,yAxis:n,zAxis:p,scatterSettings:c,xAxisTicks:r,yAxisTicks:o,cells:y})}}),sa=["onMouseEnter","onClick","onMouseLeave"],oa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function ie(e,t){if(e==null)return{};var r,n,o=la(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(n=0;n<p.length;n++)r=p[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function la(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E.apply(null,arguments)}function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H(Object(r),!0).forEach(function(n){Z(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z(e,t,r){return(t=ca(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ca(e){var t=da(e,"string");return typeof t=="symbol"?t:t+""}function da(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pa=e=>{var{dataKey:t,name:r,fill:n,legendType:o,hide:p}=e;return[{inactive:p,dataKey:t,type:o,color:n,value:re(r,t),payload:e}]};function ma(e){var{points:t,props:r}=e,{line:n,lineType:o,lineJointType:p}=r;if(!n)return null;var c=G(r,!1),y=G(n,!1),u,v;if(o==="joint")u=t.map(m=>({x:m.cx,y:m.cy}));else if(o==="fitting"){var{xmin:x,xmax:h,a:g,b:d}=Ke(t),s=m=>g*m+d;u=[{x,y:s(x)},{x:h,y:s(h)}]}var i=j(j(j({},c),{},{fill:"none",stroke:c&&c.fill},y),{},{points:u});return l.isValidElement(n)?v=l.cloneElement(n,i):typeof n=="function"?v=n(i):v=l.createElement(Oe,E({},i,{type:p})),l.createElement(O,{className:"recharts-scatter-line",key:"recharts-scatter-line"},v)}function se(e){var{points:t,showLabels:r,allOtherScatterProps:n}=e,{shape:o,activeShape:p,dataKey:c}=n,y=G(n,!1),u=te(Ie),{onMouseEnter:v,onClick:x,onMouseLeave:h}=n,g=ie(n,sa),d=Ce(v,n.dataKey),s=Ee(h),i=we(x,n.dataKey);return t==null?null:l.createElement(l.Fragment,null,l.createElement(ma,{points:t,props:n}),t.map((m,f)=>{var A=p&&u===String(f),b=A?p:o,P=j(j(j({key:"symbol-".concat(f)},y),m),{},{[Te]:f,[Ne]:String(c)});return l.createElement(O,E({className:"recharts-scatter-symbol"},_e(g,m,f),{onMouseEnter:d(m,f),onMouseLeave:s(m,f),onClick:i(m,f),key:"symbol-".concat(m?.cx,"-").concat(m?.cy,"-").concat(m?.size,"-").concat(f)}),l.createElement(Xe,E({option:b,isActive:A},P)))}),r&&Le.renderCallByParent(n,t))}function ua(e){var{previousPointsRef:t,props:r}=e,{points:n,isAnimationActive:o,animationBegin:p,animationDuration:c,animationEasing:y}=r,u=t.current,v=Ae(r,"recharts-scatter-"),[x,h]=l.useState(!1),g=l.useCallback(()=>{h(!1)},[]),d=l.useCallback(()=>{h(!0)},[]);return l.createElement(Se,{begin:p,duration:c,isActive:o,easing:y,from:{t:0},to:{t:1},onAnimationEnd:g,onAnimationStart:d,key:v},s=>{var{t:i}=s,m=i===1?n:n.map((f,A)=>{var b=u&&u[A];if(b){var P=z(b.cx,f.cx),R=z(b.cy,f.cy),w=z(b.size,f.size);return j(j({},f),{},{cx:P(i),cy:R(i),size:w(i)})}var N=z(0,f.size);return j(j({},f),{},{size:N(i)})});return i>0&&(t.current=m),l.createElement(O,null,l.createElement(se,{points:m,allOtherScatterProps:r,showLabels:!x}))})}function va(e){var{points:t,isAnimationActive:r}=e,n=l.useRef(null),o=n.current;return r&&t&&t.length&&(!o||o!==t)?l.createElement(ua,{props:e,previousPointsRef:n}):l.createElement(se,{points:t,allOtherScatterProps:e,showLabels:!0})}function ha(e){var{dataKey:t,points:r,stroke:n,strokeWidth:o,fill:p,name:c,hide:y,tooltipType:u}=e;return{dataDefinedOnItem:r?.map(v=>v.tooltipPayload),positions:r?.map(v=>v.tooltipPosition),settings:{stroke:n,strokeWidth:o,fill:p,nameKey:void 0,dataKey:t,name:re(c,t),hide:y,type:u,color:p,unit:""}}}function ya(e){var{displayedData:t,xAxis:r,yAxis:n,zAxis:o,scatterSettings:p,xAxisTicks:c,yAxisTicks:y,cells:u}=e,v=C(r.dataKey)?p.dataKey:r.dataKey,x=C(n.dataKey)?p.dataKey:n.dataKey,h=o&&o.dataKey,g=o?o.range:q.defaultProps.range,d=g&&g[0],s=r.scale.bandwidth?r.scale.bandwidth():0,i=n.scale.bandwidth?n.scale.bandwidth():0;return t.map((m,f)=>{var A=F(m,v),b=F(m,x),P=!C(h)&&F(m,h)||"-",R=[{name:C(r.dataKey)?p.name:r.name||r.dataKey,unit:r.unit||"",value:A,payload:m,dataKey:v,type:p.tooltipType},{name:C(n.dataKey)?p.name:n.name||n.dataKey,unit:n.unit||"",value:b,payload:m,dataKey:x,type:p.tooltipType}];P!=="-"&&R.push({name:o.name||o.dataKey,unit:o.unit||"",value:P,payload:m,dataKey:h,type:p.tooltipType});var w=U({axis:r,ticks:c,bandSize:s,entry:m,index:f,dataKey:v}),N=U({axis:n,ticks:y,bandSize:i,entry:m,index:f,dataKey:x}),V=P!=="-"?o.scale(P):d,D=Math.sqrt(Math.max(V,0)/Math.PI);return j(j({},m),{},{cx:w,cy:N,x:w-D,y:N-D,width:2*D,height:2*D,size:V,node:{x:A,y:b,z:P},tooltipPayload:R,tooltipPosition:{x:w,y:N},payload:m},u&&u[f]&&u[f].props)})}var fa=(e,t,r)=>({x:e.cx,y:e.cy,value:r==="x"?+e.node.x:+e.node.y,errorVal:F(e,t)});function xa(e){var t=l.useRef(be("recharts-scatter-")),{hide:r,points:n,className:o,needClip:p,xAxisId:c,yAxisId:y,id:u,children:v}=e;if(r)return null;var x=Pe("recharts-scatter",o),h=C(u)?t.current:u;return l.createElement(O,{className:x,clipPath:p?"url(#clipPath-".concat(h,")"):null},p&&l.createElement("defs",null,l.createElement(Me,{clipPathId:h,xAxisId:c,yAxisId:y})),l.createElement(ke,{xAxisId:c,yAxisId:y,data:n,dataPointFormatter:fa,errorBarOffset:0},v),l.createElement(O,{key:"recharts-scatter-symbols"},l.createElement(va,e)))}var oe={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!je.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function ga(e){var t=ye(e,oe),{animationBegin:r,animationDuration:n,animationEasing:o,hide:p,isAnimationActive:c,legendType:y,lineJointType:u,lineType:v,shape:x,xAxisId:h,yAxisId:g,zAxisId:d}=t,s=ie(t,oa),{needClip:i}=ze(h,g),m=l.useMemo(()=>fe(e.children,I),[e.children]),f=l.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),A=xe(),b=te(P=>ia(P,h,g,d,f,m,A));return i==null?null:l.createElement(l.Fragment,null,l.createElement(ge,{fn:ha,args:j(j({},e),{},{points:b})}),l.createElement(xa,E({},s,{xAxisId:h,yAxisId:g,zAxisId:d,lineType:v,lineJointType:u,legendType:y,shape:x,hide:p,isAnimationActive:c,animationBegin:r,animationDuration:n,animationEasing:o,points:b,needClip:i})))}class J extends l.Component{render(){return l.createElement(De,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},l.createElement(he,{legendPayload:pa(this.props)}),l.createElement(ga,this.props))}}Z(J,"displayName","Scatter");Z(J,"defaultProps",oe);var ja=["item"],ba=l.forwardRef((e,t)=>l.createElement(Fe,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:ja,tooltipPayloadSearcher:Re,categoricalChartProps:e,ref:t}));function Pa(){const[e,t]=l.useState(null),[r,n]=l.useState(!0),[o,p]=l.useState(null);return l.useEffect(()=>{(async()=>{try{n(!0),p(null);const u=await fetch("https://script.google.com/macros/s/AKfycbxrhG1mb7N6q7Mg88ogw0mirXgSihPpNPurZwiEOy9miG24Cc3AlGZCn2uoGnygNhck/exec?action=playerCampPerformance");if(!u.ok)throw new Error(`Erreur réseau: ${u.status}`);const v=await u.json();if(v.error)throw new Error(v.error);t(v)}catch(y){console.error("Erreur lors du chargement des statistiques de performance par camp:",y),p(y instanceof Error?y.message:"Erreur inconnue")}finally{n(!1)}})()},[]),{playerCampPerformance:e,isLoading:r,error:o}}function wa(){const[e,t]=l.useState("camp-averages"),[r,n]=l.useState("Villageois"),[o,p]=l.useState(5),{playerCampPerformance:c,isLoading:y,error:u}=Pa(),v=l.useMemo(()=>c?.campAverages?c.campAverages.map(d=>d.camp).sort():[],[c]),x=l.useMemo(()=>c?.campAverages?c.campAverages.map(d=>({...d,winRateNum:parseFloat(d.winRate)})).sort((d,s)=>s.winRateNum-d.winRateNum):[],[c]),h=l.useMemo(()=>c?.playerPerformance?c.playerPerformance.map(s=>{const i=s.campPerformance.find(m=>m.camp===r);return!i||i.games<o?null:{player:s.player,...i,winRateNum:parseFloat(i.winRate),performanceNum:parseFloat(i.performance),campAvgWinRateNum:parseFloat(i.campAvgWinRate)}}).filter(Boolean).sort((s,i)=>i.performanceNum-s.performanceNum):[],[c,r,o]),g=l.useMemo(()=>c?.playerPerformance?c.playerPerformance.flatMap(s=>s.campPerformance.filter(i=>i.games>=o).map(i=>({player:s.player,camp:i.camp,games:i.games,wins:i.wins,winRate:i.winRate,performance:i.performance,winRateNum:parseFloat(i.winRate),performanceNum:parseFloat(i.performance),campAvgWinRateNum:parseFloat(i.campAvgWinRate)}))).sort((s,i)=>i.performanceNum-s.performanceNum).slice(0,20):[],[c,o]);return y?a.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):u?a.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",u]}):c?a.jsxs("div",{className:"lycans-player-camp-performance",children:[a.jsx("h2",{children:"Performance des Joueurs par Camp"}),a.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),a.jsxs("select",{id:"view-mode-select",value:e,onChange:d=>t(d.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[a.jsx("option",{value:"camp-averages",children:"Moyennes par Camp"}),a.jsx("option",{value:"player-performance",children:"Performance par Camp"}),a.jsx("option",{value:"top-performers",children:"Top Performers"})]})]}),e==="player-performance"&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),a.jsx("select",{id:"camp-select",value:r,onChange:d=>n(d.target.value),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:v.map(d=>a.jsx("option",{value:d,children:d},d))})]}),(e==="player-performance"||e==="top-performers")&&a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"min-games-input",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),a.jsx("input",{id:"min-games-input",type:"number",min:"1",max:"50",value:o,onChange:d=>p(parseInt(d.target.value)||3),style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"70px"}})]})]}),a.jsxs("div",{className:"lycans-resume-conteneur",children:[a.jsxs("div",{className:"lycans-stat-carte",children:[a.jsx("h3",{children:"Camps Analysés"}),a.jsx("div",{className:"lycans-valeur-principale",children:c.campAverages.length}),a.jsx("p",{children:"camps différents"})]}),a.jsxs("div",{className:"lycans-stat-carte",children:[a.jsx("h3",{children:"Joueurs Évalués"}),a.jsx("div",{className:"lycans-valeur-principale",children:c.playerPerformance.length}),a.jsx("p",{children:"joueurs analysés"})]}),a.jsxs("div",{className:"lycans-stat-carte",children:[a.jsx("h3",{children:"Seuil Minimum"}),a.jsx("div",{className:"lycans-valeur-principale",children:c.minGamesRequired}),a.jsx("p",{children:"parties requises"})]})]}),a.jsxs("div",{className:"lycans-graphiques-groupe",children:[e==="camp-averages"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsx("h3",{children:"Taux de Victoire Moyen par Camp"}),a.jsx("div",{style:{height:400},children:a.jsx(T,{width:"100%",height:"100%",children:a.jsxs($,{data:x,margin:{top:20,right:30,left:20,bottom:80},children:[a.jsx(M,{strokeDasharray:"3 3"}),a.jsx(k,{dataKey:"camp",angle:-45,textAnchor:"end",height:90,interval:0,fontSize:11}),a.jsx(L,{label:{value:"Taux de victoire (%)",angle:-90,position:"insideLeft"},domain:[0,100]}),a.jsx(_,{content:({active:d,payload:s})=>{if(d&&s&&s.length>0){const i=s[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:i.camp})}),a.jsxs("div",{children:["Parties totales: ",i.totalGames]}),a.jsxs("div",{children:["Taux de victoire: ",i.winRate,"%"]})]})}return null}}),a.jsx(W,{dataKey:"winRateNum",children:x.map((d,s)=>a.jsx(I,{fill:B[d.camp]||`var(--chart-color-${s%6+1})`},`cell-${s}`))})]})})})]}),a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsx("h3",{children:"Distribution des Parties par Camp"}),a.jsx("div",{style:{height:400},children:a.jsx(T,{width:"100%",height:"100%",children:a.jsxs(Be,{children:[a.jsx($e,{data:x,cx:"50%",cy:"50%",labelLine:!1,outerRadius:120,fill:"#8884d8",dataKey:"totalGames",label:({camp:d,totalGames:s,percent:i})=>`${d}: ${s} (${((i!==void 0?i:0)*100).toFixed(1)}%)`,children:x.map((d,s)=>a.jsx(I,{fill:B[d.camp]||`var(--chart-color-${s%6+1})`},`cell-${s}`))}),a.jsx(_,{content:({active:d,payload:s})=>{if(d&&s&&s.length>0){const i=s[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:i.camp})}),a.jsxs("div",{children:["Parties: ",i.totalGames]}),a.jsxs("div",{children:["Taux victoire: ",i.winRate,"%"]})]})}return null}})]})})})]})]}),e==="player-performance"&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsxs("h3",{children:["Performance des Joueurs - ",r]}),a.jsx("div",{style:{height:500},children:a.jsx(T,{width:"100%",height:"100%",children:a.jsxs($,{data:h.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[a.jsx(M,{strokeDasharray:"3 3"}),a.jsx(k,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),a.jsx(L,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),a.jsx(_,{content:({active:d,payload:s})=>{if(d&&s&&s.length>0){const i=s[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:i.player})}),a.jsxs("div",{children:["Parties: ",i.games]}),a.jsxs("div",{children:["Victoires: ",i.wins]}),a.jsxs("div",{children:["Taux personnel: ",i.winRate,"%"]}),a.jsxs("div",{children:["Moyenne camp: ",i.campAvgWinRate,"%"]}),a.jsxs("div",{children:["Performance: ",i.performance>0?"+":"",i.performance,"%"]})]})}return null}}),a.jsx(W,{dataKey:"performanceNum",children:h.slice(0,15).map((d,s)=>a.jsx(I,{fill:X[d.player]||(d.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${s}`))})]})})})]}),a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",r]}),a.jsx("div",{style:{height:400},children:a.jsx(T,{width:"100%",height:"100%",children:a.jsxs(ba,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[a.jsx(M,{strokeDasharray:"3 3"}),a.jsx(k,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),a.jsx(L,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),a.jsx(_,{content:({active:d,payload:s})=>{if(d&&s&&s.length>0){const i=s[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:i.player})}),a.jsxs("div",{children:["Parties: ",i.games]}),a.jsxs("div",{children:["Performance: ",i.performance>0?"+":"",i.performance,"%"]})]})}return null}}),a.jsx(J,{dataKey:"performanceNum",name:"Performance",children:h.map((d,s)=>a.jsx(I,{fill:X[d.player]||"var(--accent-primary)"},`cell-${s}`))})]})})})]})]}),e==="top-performers"&&a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsx("h3",{children:"Top 20 Performances Toutes Camps Confondues"}),a.jsx("div",{style:{height:600},children:a.jsx(T,{width:"100%",height:"100%",children:a.jsxs($,{data:g,margin:{top:20,right:30,left:20,bottom:100},children:[a.jsx(M,{strokeDasharray:"3 3"}),a.jsx(k,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),a.jsx(L,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),a.jsx(_,{content:({active:d,payload:s})=>{if(d&&s&&s.length>0){const i=s[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:i.player})}),a.jsxs("div",{children:["Camp: ",i.camp]}),a.jsxs("div",{children:["Parties: ",i.games]}),a.jsxs("div",{children:["Taux personnel: ",i.winRate,"%"]}),a.jsxs("div",{children:["Performance: +",i.performance,"%"]})]})}return null}}),a.jsx(W,{dataKey:"performanceNum",children:g.map((d,s)=>a.jsx(I,{fill:B[d.camp]||`var(--chart-color-${s%6+1})`},`cell-${s}`))})]})})})]})]})]}):a.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{wa as PlayerCampPerformanceChart};
