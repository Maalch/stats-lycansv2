import{r as d,f as De,j as i}from"./index-BuBm72jB.js";import{a as Se}from"./baseStatsHook-ZXcxrSam.js";import{g as Ee}from"./gameUtils-rkfcKAVy.js";import{c as ke}from"./datasyncExport-BirWLS1z.js";import{u as Ne,i as oe,G as Ce,b as We,F as V,C as G,X as K,Y as z}from"./FullscreenChart-CuSiuX-l.js";import{b as Le}from"./api-CM4Q8j6M.js";import{a as J,e as U,a7 as ce,a8 as de,a9 as Re,aa as Z,ab as we,M as ue,N as Q,ac as Me,a4 as pe,H as he,O as Oe,ad as Te,U as Ve,ae as Ge,af as Ke,a3 as ze,V as me,ag as Be,ah as qe,u as _e,ai as $e,c as ve,L as O,W as ee,aj as ae,ak as w,Z as Fe,_ as Ye,a1 as R,Y as Xe,al as He,$ as Je,a0 as Ue,q as fe,am as F,a2 as Ze,an as _,a5 as Qe,R as B,T as q}from"./CategoricalChart-sWzCqWTI.js";import{g as ea,L as aa,a as Y}from"./LineChart-ByMejU4W.js";import{L as te}from"./Legend-DUHevFVk.js";import{B as ta,a as X}from"./BarChart-BjO_anOj.js";import{A as re,D as ra}from"./ActivePoints-fh3DEVtL.js";var ge=(e,t,a,r)=>ce(e,"xAxis",t,r),ye=(e,t,a,r)=>de(e,"xAxis",t,r),xe=(e,t,a,r)=>ce(e,"yAxis",a,r),je=(e,t,a,r)=>de(e,"yAxis",a,r),ia=J([U,ge,xe,ye,je],(e,t,a,r,l)=>ue(e,"xAxis")?Q(t,r,!1):Q(a,l,!1)),na=(e,t,a,r,l)=>l,be=J([Me,na],(e,t)=>e.filter(a=>a.type==="area").find(a=>a.id===t)),sa=(e,t,a,r,l)=>{var s,u=be(e,t,a,r,l);if(u!=null){var p=U(e),h=ue(p,"xAxis"),v;if(h?v=Z(e,"yAxis",a,r):v=Z(e,"xAxis",t,r),v!=null){var{stackId:P}=u,f=we(u);if(!(P==null||f==null)){var c=(s=v[P])===null||s===void 0?void 0:s.stackedData;return c?.find(o=>o.key===f)}}}},la=J([U,ge,xe,ye,je,sa,Re,ia,be],(e,t,a,r,l,s,u,p,h)=>{var{chartData:v,dataStartIndex:P,dataEndIndex:f}=u;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||a==null||r==null||l==null||r.length===0||l.length===0||p==null)){var{data:c}=h,o;if(c&&c.length>0?o=c:o=v?.slice(P,f+1),o!=null){var n=void 0;return ka({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:l,dataStartIndex:P,areaSettings:h,stackedData:s,displayedData:o,chartBaseValue:n,bandSize:p})}}}),oa=["id"],ca=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function Ae(e,t){if(e==null)return{};var a,r,l=da(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}function da(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),a.push.apply(a,r)}return a}function E(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ie(Object(a),!0).forEach(function(r){ua(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ie(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ua(e,t,a){return(t=pa(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pa(e){var t=ha(e,"string");return typeof t=="symbol"?t:t+""}function ha(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k(){return k=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},k.apply(null,arguments)}function $(e,t){return e&&e!=="none"?e:t}var ma=e=>{var{dataKey:t,name:a,stroke:r,fill:l,legendType:s,hide:u}=e;return[{inactive:u,dataKey:t,type:s,color:$(r,l),value:me(a,t),payload:e}]};function va(e){var{dataKey:t,data:a,stroke:r,strokeWidth:l,fill:s,name:u,hide:p,unit:h}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:l,fill:s,dataKey:t,nameKey:void 0,name:me(u,t),hide:p,type:e.tooltipType,color:$(r,s),unit:h}}}var fa=(e,t)=>{var a;if(d.isValidElement(e))a=d.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=ve("recharts-area-dot",typeof e!="boolean"?e.className:"");a=d.createElement(ra,k({},t,{className:r}))}return a};function ga(e,t){return e==null?!1:t?!0:e.length===1}function ya(e){var{clipPathId:t,points:a,props:r}=e,{needClip:l,dot:s,dataKey:u}=r;if(!ga(a,s))return null;var p=oe(s),h=fe(r),v=Ze(s),P=a.map((c,o)=>{var n=E(E(E({key:"dot-".concat(o),r:3},h),v),{},{index:o,cx:c.x,cy:c.y,dataKey:u,value:c.value,payload:c.payload,points:a});return fa(s,n)}),f={clipPath:l?"url(#clipPath-".concat(p?"":"dots-").concat(t,")"):void 0};return d.createElement(O,k({className:"recharts-area-dots"},f),P)}function xa(e){var{showLabels:t,children:a,points:r}=e,l=r.map(s=>{var u={x:s.x,y:s.y,width:0,height:0};return E(E({},u),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return d.createElement(Ue,{value:t?l:null},a)}function ne(e){var{points:t,baseLine:a,needClip:r,clipPathId:l,props:s}=e,{layout:u,type:p,stroke:h,connectNulls:v,isRange:P}=s,{id:f}=s,c=Ae(s,oa),o=fe(c);return d.createElement(d.Fragment,null,t?.length>1&&d.createElement(O,{clipPath:r?"url(#clipPath-".concat(l,")"):void 0},d.createElement(F,k({},o,{id:f,points:t,connectNulls:v,type:p,baseLine:a,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&d.createElement(F,k({},o,{className:"recharts-area-curve",layout:u,type:p,connectNulls:v,fill:"none",points:t})),h!=="none"&&P&&d.createElement(F,k({},o,{className:"recharts-area-curve",layout:u,type:p,connectNulls:v,fill:"none",points:a}))),d.createElement(ya,{points:t,props:c,clipPathId:l}))}function ja(e){var{alpha:t,baseLine:a,points:r,strokeWidth:l}=e,s=r[0].y,u=r[r.length-1].y;if(!_(s)||!_(u))return null;var p=t*Math.abs(s-u),h=Math.max(...r.map(v=>v.x||0));return w(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(v=>v.x||0),h)),w(h)?d.createElement("rect",{x:0,y:s<u?s:s-p,width:h+(l?parseInt("".concat(l),10):1),height:Math.floor(p)}):null}function ba(e){var{alpha:t,baseLine:a,points:r,strokeWidth:l}=e,s=r[0].x,u=r[r.length-1].x;if(!_(s)||!_(u))return null;var p=t*Math.abs(s-u),h=Math.max(...r.map(v=>v.y||0));return w(a)?h=Math.max(a,h):a&&Array.isArray(a)&&a.length&&(h=Math.max(...a.map(v=>v.y||0),h)),w(h)?d.createElement("rect",{x:s<u?s:s-p,y:0,width:p,height:Math.floor(h+(l?parseInt("".concat(l),10):1))}):null}function Aa(e){var{alpha:t,layout:a,points:r,baseLine:l,strokeWidth:s}=e;return a==="vertical"?d.createElement(ja,{alpha:t,points:r,baseLine:l,strokeWidth:s}):d.createElement(ba,{alpha:t,points:r,baseLine:l,strokeWidth:s})}function Pa(e){var{needClip:t,clipPathId:a,props:r,previousPointsRef:l,previousBaselineRef:s}=e,{points:u,baseLine:p,isAnimationActive:h,animationBegin:v,animationDuration:P,animationEasing:f,onAnimationStart:c,onAnimationEnd:o}=r,n=Fe(r,"recharts-area-"),[m,y]=d.useState(!1),g=!m,j=d.useCallback(()=>{typeof o=="function"&&o(),y(!1)},[o]),A=d.useCallback(()=>{typeof c=="function"&&c(),y(!0)},[c]),b=l.current,I=s.current;return d.createElement(xa,{showLabels:g,points:u},r.children,d.createElement(Ye,{animationId:n,begin:v,duration:P,isActive:h,easing:f,onAnimationEnd:j,onAnimationStart:A,key:n},x=>{if(b){var C=b.length/u.length,T=x===1?u:u.map((S,M)=>{var W=Math.floor(M*C);if(b[W]){var L=b[W];return E(E({},S),{},{x:R(L.x,S.x,x),y:R(L.y,S.y,x)})}return S}),N;return w(p)?N=R(I,p,x):Xe(p)||He(p)?N=R(I,0,x):N=p.map((S,M)=>{var W=Math.floor(M*C);if(Array.isArray(I)&&I[W]){var L=I[W];return E(E({},S),{},{x:R(L.x,S.x,x),y:R(L.y,S.y,x)})}return S}),x>0&&(l.current=T,s.current=N),d.createElement(ne,{points:T,baseLine:N,needClip:t,clipPathId:a,props:r})}return x>0&&(l.current=u,s.current=p),d.createElement(O,null,h&&d.createElement("defs",null,d.createElement("clipPath",{id:"animationClipPath-".concat(a)},d.createElement(Aa,{alpha:x,points:u,baseLine:p,layout:r.layout,strokeWidth:r.strokeWidth}))),d.createElement(O,{clipPath:"url(#animationClipPath-".concat(a,")")},d.createElement(ne,{points:u,baseLine:p,needClip:t,clipPathId:a,props:r})))}),d.createElement(Je,{label:r.label}))}function Ia(e){var{needClip:t,clipPathId:a,props:r}=e,l=d.useRef(null),s=d.useRef();return d.createElement(Pa,{needClip:t,clipPathId:a,props:r,previousPointsRef:l,previousBaselineRef:s})}class Da extends d.PureComponent{render(){var{hide:t,dot:a,points:r,className:l,top:s,left:u,needClip:p,xAxisId:h,yAxisId:v,width:P,height:f,id:c,baseLine:o}=this.props;if(t)return null;var n=ve("recharts-area",l),m=c,{r:y,strokeWidth:g}=ea(a),j=oe(a),A=y*2+g;return d.createElement(d.Fragment,null,d.createElement(O,{className:n},p&&d.createElement("defs",null,d.createElement(Ce,{clipPathId:m,xAxisId:h,yAxisId:v}),!j&&d.createElement("clipPath",{id:"clipPath-dots-".concat(m)},d.createElement("rect",{x:u-A/2,y:s-A/2,width:P+A,height:f+A}))),d.createElement(Ia,{needClip:p,clipPathId:m,props:this.props})),d.createElement(re,{points:r,mainColor:$(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(o)&&d.createElement(re,{points:o,mainColor:$(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var Pe={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!ze.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function Sa(e){var t,a=pe(e,Pe),{activeDot:r,animationBegin:l,animationDuration:s,animationEasing:u,connectNulls:p,dot:h,fill:v,fillOpacity:P,hide:f,isAnimationActive:c,legendType:o,stroke:n,xAxisId:m,yAxisId:y}=a,g=Ae(a,ca),j=Be(),A=qe(),{needClip:b}=Ne(m,y),I=he(),{points:x,isRange:C,baseLine:T}=(t=_e(Ie=>la(Ie,m,y,I,e.id)))!==null&&t!==void 0?t:{},N=$e();if(j!=="horizontal"&&j!=="vertical"||N==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:S,width:M,x:W,y:L}=N;return!x||!x.length?null:d.createElement(Da,k({},g,{activeDot:r,animationBegin:l,animationDuration:s,animationEasing:u,baseLine:T,connectNulls:p,dot:h,fill:v,fillOpacity:P,height:S,hide:f,layout:j,isAnimationActive:c,isRange:C,legendType:o,needClip:b,points:x,stroke:n,width:M,left:W,top:L,xAxisId:m,yAxisId:y}))}var Ea=(e,t,a,r,l)=>{var s=a??t;if(w(s))return s;var u=e==="horizontal"?l:r,p=u.scale.domain();if(u.type==="number"){var h=Math.max(p[0],p[1]),v=Math.min(p[0],p[1]);return s==="dataMin"?v:s==="dataMax"||h<0?h:Math.max(Math.min(p[0],p[1]),0)}return s==="dataMin"?p[0]:s==="dataMax"?p[1]:p[0]};function ka(e){var{areaSettings:{connectNulls:t,baseValue:a,dataKey:r},stackedData:l,layout:s,chartBaseValue:u,xAxis:p,yAxis:h,displayedData:v,dataStartIndex:P,xAxisTicks:f,yAxisTicks:c,bandSize:o}=e,n=l&&l.length,m=Ea(s,u,a,p,h),y=s==="horizontal",g=!1,j=v.map((b,I)=>{var x;n?x=l[P+I]:(x=ee(b,r),Array.isArray(x)?g=!0:x=[m,x]);var C=x[1]==null||n&&!t&&ee(b,r)==null;return y?{x:ae({axis:p,ticks:f,bandSize:o,entry:b,index:I}),y:C?null:h.scale(x[1]),value:x,payload:b}:{x:C?null:p.scale(x[1]),y:ae({axis:h,ticks:c,bandSize:o,entry:b,index:I}),value:x,payload:b}}),A;return n||g?A=j.map(b=>{var I=Array.isArray(b.value)?b.value[0]:null;return y?{x:b.x,y:I!=null&&b.y!=null?h.scale(I):null,payload:b.payload}:{x:I!=null?p.scale(I):null,y:b.y,payload:b.payload}}):A=y?h.scale(m):p.scale(m),{points:j,baseLine:A,isRange:g}}function Na(e){var t=pe(e,Pe),a=he();return d.createElement(Oe,{id:t.id,type:"area"},r=>d.createElement(d.Fragment,null,d.createElement(Te,{legendPayload:ma(t)}),d.createElement(Ve,{fn:va,args:t}),d.createElement(Ge,{type:"area",id:r,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:Ke(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:a,connectNulls:t.connectNulls}),d.createElement(Sa,k({},t,{id:r}))))}var H=d.memo(Na);H.displayName="Area";var Ca=["axis"],se=d.forwardRef((e,t)=>d.createElement(We,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ca,tooltipPayloadSearcher:Qe,categoricalChartProps:e,ref:t}));function Wa(e){if(!e||e.length===0)return null;const t=e.map(a=>{const r=Ee(a),l=ke(a.StartDate,a.EndDate)||0,s=De(new Date(a.StartDate));return{gameId:a.Id,date:s,mapName:a.MapName,playerCount:a.PlayerStats.length,winnerCamp:r,duration:l,modded:a.Modded}});return t.sort((a,r)=>{const l=s=>{const u=s.split("/");return u.length===3?new Date(parseInt(u[2]),parseInt(u[1])-1,parseInt(u[0])):new Date(s)};return l(r.date).getTime()-l(a.date).getTime()}),{totalGames:t.length,games:t,periodData:[]}}function La(){const{data:e,isLoading:t,error:a}=Se(Wa);return{data:e,isLoading:t,error:a}}function D(e,t){return t[e==="Loup"?"Loup":e]||"#808080"}function le(e){return e==="Villageois"||e==="Chasseur"||e==="Alchimiste"||e==="Villageois Élite"||e==="Protecteur"||e==="Disciple"||e==="Inquisiteur"?"Villageois":e==="Loup"||e==="Louveteau"||e==="Traître"?"Loup":"Solo"}function _a(){const{data:e,isLoading:t,error:a}=La(),r=Le(),[l,s]=d.useState("month"),u=d.useMemo(()=>{switch(l){case"month":return"par Mois";case"quarter":return"par Trimestre";case"year":return"par Année";default:return"par Session"}},[l]),p=d.useMemo(()=>{if(!e?.games)return new Map;const c=new Map;return e.games.forEach(o=>{if(!c.has(o.date)){const n=o.date.split("/");n.length===3?c.set(o.date,new Date(parseInt(n[2]),parseInt(n[1])-1,parseInt(n[0])).getTime()):c.set(o.date,new Date(o.date).getTime())}}),c},[e?.games]),h=d.useMemo(()=>{if(!e?.games)return[];const c={};return e.games.forEach(o=>{let n;const m=o.date.split("/");if(l==="month")if(m.length===3)n=`${m[1].padStart(2,"0")}/${m[2]}`;else{const g=new Date(o.date);n=`${String(g.getMonth()+1).padStart(2,"0")}/${g.getFullYear()}`}else if(l==="quarter")if(m.length===3){const g=parseInt(m[1],10);n=`T${Math.floor((g-1)/3)+1}/${m[2]}`}else{const g=new Date(o.date);n=`T${Math.floor(g.getMonth()/3)+1}/${g.getFullYear()}`}else l==="year"?m.length===3?n=`${m[2]}`:n=`${new Date(o.date).getFullYear()}`:n=o.date;c[n]||(c[n]={games:[],totalPlayers:0,totalDuration:0,campWins:{Villageois:0,Loup:0,Solo:0}}),c[n].games.push(o),c[n].totalPlayers+=o.playerCount,c[n].totalDuration+=o.duration;const y=le(o.winnerCamp);c[n].campWins[y]++}),Object.entries(c).map(([o,n])=>{const m=n.games.length,y=n.campWins.Villageois,g=n.campWins.Loup,j=n.campWins.Solo;return{period:o,totalGames:m,averagePlayers:m>0?Math.round(n.totalPlayers/m*10)/10:0,averageDuration:m>0?Math.round(n.totalDuration/m/60*10)/10:0,villageoisWins:y,loupWins:g,soloWins:j,villageoisWinRate:m>0?Math.round(y/m*1e3)/10:0,loupWinRate:m>0?Math.round(g/m*1e3)/10:0,soloWinRate:m>0?Math.round(j/m*1e3)/10:0}}).sort((o,n)=>{if(l==="month"){const[m,y]=o.period.split("/"),[g,j]=n.period.split("/"),A=new Date(parseInt(y),parseInt(m)-1,1),b=new Date(parseInt(j),parseInt(g)-1,1);return A.getTime()-b.getTime()}else if(l==="quarter"){const[m,y]=o.period.split("/"),[g,j]=n.period.split("/"),A=parseInt(m.replace(/\D/g,""),10)||1,b=parseInt(g.replace(/\D/g,""),10)||1,I=new Date(parseInt(y,10),(A-1)*3,1),x=new Date(parseInt(j,10),(b-1)*3,1);return I.getTime()-x.getTime()}else if(l==="year"){const m=parseInt(o.period,10),y=parseInt(n.period,10);return m-y}else{const m=p.get(o.period)||0,y=p.get(n.period)||0;return m-y}})},[e,l,p]),v=d.useMemo(()=>{if(!e?.games||e.games.length===0)return null;const c=e.games.length,o=e.games.reduce((j,A)=>j+A.playerCount,0),n=e.games.reduce((j,A)=>j+A.duration,0);let m=0,y=0,g=0;return e.games.forEach(j=>{const A=le(j.winnerCamp);A==="Villageois"?m++:A==="Loup"?y++:g++}),{totalGames:c,averagePlayers:Math.round(o/c*10)/10,averageDuration:Math.round(n/c/60),villageoisWinRate:Math.round(m/c*1e3)/10,loupWinRate:Math.round(y/c*1e3)/10,soloWinRate:Math.round(g/c*1e3)/10}},[e]),f=(c=>c<=15?{fontSize:12,angle:-45,height:80,interval:0}:c<=30?{fontSize:12,angle:-45,height:85,interval:1}:c<=50?{fontSize:12,angle:-60,height:95,interval:2}:{fontSize:12,angle:-75,height:105,interval:Math.floor(c/12)})(h.length);return t?i.jsx("div",{className:"donnees-attente",children:"Chargement de l'historique des parties..."}):a?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",a]}):e?i.jsxs("div",{className:"lycans-camps-container",children:[i.jsx("h2",{children:"Évolution des Parties"}),v&&i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Total Parties"}),i.jsx("p",{className:"lycans-stat-valeur",children:v.totalGames})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs / Partie"}),i.jsx("p",{className:"lycans-stat-valeur",children:v.averagePlayers})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Durée Moyenne"}),i.jsxs("p",{className:"lycans-stat-valeur",children:[v.averageDuration," min"]})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Victoires Villageois"}),i.jsxs("p",{className:"lycans-stat-valeur",style:{color:D("Villageois",r)},children:[v.villageoisWinRate,"%"]})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Victoires Loups"}),i.jsxs("p",{className:"lycans-stat-valeur",style:{color:D("Loup",r)},children:[v.loupWinRate,"%"]})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Victoires Solo"}),i.jsxs("p",{className:"lycans-stat-valeur",style:{color:"#808080"},children:[v.soloWinRate,"%"]})]})]}),i.jsxs("div",{className:"lycans-filtres-conteneur",style:{marginBottom:"1rem"},children:[i.jsx("label",{style:{marginRight:"0.5rem",fontWeight:"bold"},children:"Grouper :"}),i.jsxs("select",{value:l,onChange:c=>s(c.target.value),className:"lycans-select",children:[i.jsx("option",{value:"session",children:"Par Session"}),i.jsx("option",{value:"month",children:"Par Mois"}),i.jsx("option",{value:"quarter",children:"Par Trimestre"}),i.jsx("option",{value:"year",children:"Par Année"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Évolution des Victoires par Camp ",u]}),i.jsx(V,{title:`Évolution des Victoires par Camp ${u}`,children:i.jsx("div",{style:{height:400},children:i.jsx(B,{width:"100%",height:"100%",children:i.jsxs(aa,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(G,{strokeDasharray:"3 3"}),i.jsx(K,{dataKey:"period",angle:f.angle,textAnchor:"end",height:f.height,interval:f.interval,fontSize:f.fontSize}),i.jsx(z,{label:{value:"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),i.jsx(q,{content:({active:c,payload:o})=>{if(c&&o&&o.length>0){const n=o[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:n.period})}),i.jsxs("div",{children:["Parties: ",n.totalGames]}),i.jsxs("div",{style:{color:D("Villageois",r)},children:["Villageois: ",n.villageoisWinRate,"% (",n.villageoisWins,")"]}),i.jsxs("div",{style:{color:D("Loup",r)},children:["Loups: ",n.loupWinRate,"% (",n.loupWins,")"]}),i.jsxs("div",{style:{color:"#808080"},children:["Solo: ",n.soloWinRate,"% (",n.soloWins,")"]})]})}return null}}),i.jsx(te,{}),i.jsx(Y,{type:"monotone",dataKey:"villageoisWinRate",stroke:D("Villageois",r),strokeWidth:2,dot:{fill:D("Villageois",r),strokeWidth:2,r:4},name:"Villageois (%)"}),i.jsx(Y,{type:"monotone",dataKey:"loupWinRate",stroke:D("Loup",r),strokeWidth:2,dot:{fill:D("Loup",r),strokeWidth:2,r:4},name:"Loups (%)"}),i.jsx(Y,{type:"monotone",dataKey:"soloWinRate",stroke:"#808080",strokeWidth:2,dot:{fill:"#808080",strokeWidth:2,r:4},name:"Solo (%)"})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Répartition des Victoires ",u]}),i.jsx(V,{title:`Répartition des Victoires ${u}`,children:i.jsx("div",{style:{height:400},children:i.jsx(B,{width:"100%",height:"100%",children:i.jsxs(ta,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(G,{strokeDasharray:"3 3"}),i.jsx(K,{dataKey:"period",angle:f.angle,textAnchor:"end",height:f.height,interval:f.interval,fontSize:f.fontSize}),i.jsx(z,{label:{value:"Nombre de victoires",angle:270,position:"left",style:{textAnchor:"middle"}},allowDecimals:!1}),i.jsx(q,{content:({active:c,payload:o})=>{if(c&&o&&o.length>0){const n=o[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:n.period})}),i.jsxs("div",{children:["Total: ",n.totalGames," parties"]}),i.jsxs("div",{style:{color:D("Villageois",r)},children:["Villageois: ",n.villageoisWins]}),i.jsxs("div",{style:{color:D("Loup",r)},children:["Loups: ",n.loupWins]}),i.jsxs("div",{style:{color:"#808080"},children:["Solo: ",n.soloWins]})]})}return null}}),i.jsx(te,{}),i.jsx(X,{dataKey:"villageoisWins",stackId:"wins",fill:D("Villageois",r),name:"Villageois"}),i.jsx(X,{dataKey:"loupWins",stackId:"wins",fill:D("Loup",r),name:"Loups"}),i.jsx(X,{dataKey:"soloWins",stackId:"wins",fill:"#808080",name:"Solo"})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Évolution du Nombre de Joueurs ",u]}),i.jsx(V,{title:`Évolution du Nombre de Joueurs ${u}`,children:i.jsx("div",{style:{height:400},children:i.jsx(B,{width:"100%",height:"100%",children:i.jsxs(se,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(G,{strokeDasharray:"3 3"}),i.jsx(K,{dataKey:"period",angle:f.angle,textAnchor:"end",height:f.height,interval:f.interval,fontSize:f.fontSize}),i.jsx(z,{label:{value:"Joueurs moyens",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(q,{content:({active:c,payload:o})=>{if(c&&o&&o.length>0){const n=o[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:n.period})}),i.jsxs("div",{children:["Parties: ",n.totalGames]}),i.jsxs("div",{children:["Joueurs moyens: ",n.averagePlayers]})]})}return null}}),i.jsx(H,{type:"monotone",dataKey:"averagePlayers",stroke:"var(--accent-secondary)",fill:"var(--accent-secondary)",fillOpacity:.3,name:"Joueurs moyens"})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Évolution de la Durée des Parties ",u]}),i.jsx(V,{title:`Évolution de la Durée des Parties ${u}`,children:i.jsx("div",{style:{height:400},children:i.jsx(B,{width:"100%",height:"100%",children:i.jsxs(se,{data:h,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(G,{strokeDasharray:"3 3"}),i.jsx(K,{dataKey:"period",angle:f.angle,textAnchor:"end",height:f.height,interval:f.interval,fontSize:f.fontSize}),i.jsx(z,{label:{value:"Durée moyenne (min)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(q,{content:({active:c,payload:o})=>{if(c&&o&&o.length>0){const n=o[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:n.period})}),i.jsxs("div",{children:["Parties: ",n.totalGames]}),i.jsxs("div",{children:["Durée moyenne: ",n.averageDuration," min"]})]})}return null}}),i.jsx(H,{type:"monotone",dataKey:"averageDuration",stroke:"var(--chart-color-3)",fill:"var(--chart-color-3)",fillOpacity:.3,name:"Durée moyenne (min)"})]})})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée d'historique disponible"})}export{_a as GlobalGameHistoryChart};
