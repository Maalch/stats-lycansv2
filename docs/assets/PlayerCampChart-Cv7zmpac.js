import{g as _,j as a,u as fe,a as de,r as D}from"./index-ChcOUgiP.js";import{u as he}from"./baseStatsHook-DACp2zvb.js";import{a as J,b as ee,g as ge}from"./datasyncExport-Sk8THFwE.js";import{g as K}from"./roleUtils-C8smGkiJ.js";import{u as ye}from"./useJoueursData-DleR9K96.js";import{a as Pe,u as xe,m as ve}from"./api-BCVJ6fWK.js";import{F as ae,C as re,X as se,Y as ie,a as Re}from"./FullscreenChart-cW55YvBF.js";import{R as te,T as oe}from"./CategoricalChart-DlFRYeio.js";import{B as Ce,a as je}from"./BarChart-fcARKXYP.js";import{S as we,a as Te}from"./ScatterChart-CaeZPPAK.js";function B(t,r){const l=J(t.MainRoleInitial,t.MainRoleChanges||[]),o=K(t);return ge(l,r,o)}function Q(t,r=!1,l=!1){const o={};return t.forEach(p=>{const c=new Set;p.PlayerStats.forEach(s=>{const n=B(s,{regroupWolfSubRoles:r,regroupVillagers:l});c.add(n)}),c.forEach(s=>{o[s]||(o[s]={totalGames:0,wins:0,winRate:0,players:{}}),o[s].totalGames++});const d=new Set;p.PlayerStats.forEach(s=>{if(s.Victorious){const n=B(s,{regroupWolfSubRoles:r,regroupVillagers:l});d.add(n)}}),d.forEach(s=>{o[s]&&o[s].wins++})}),o}function Z(t,r,l=!1,o=!1){const p={};return t.forEach(c=>{c.PlayerStats.forEach(d=>{const s=_(d),n=d.Username,e=B(d,{regroupWolfSubRoles:l,regroupVillagers:o}),C=e==="Autres"?"R√¥les sp√©ciaux":e;r[C].players[s]||(r[C].players[s]={games:0,wins:0,winRate:0,displayName:n}),r[C].players[s].games++,r[C].players[s].displayName=n,d.Victorious&&r[C].players[s].wins++,p[s]||(p[s]={totalGames:0,camps:{},displayName:n}),p[s].displayName=n,p[s].camps[C]||(p[s].camps[C]={games:0,wins:0,winRate:0,performance:0}),p[s].totalGames++,p[s].camps[C].games++,d.Victorious&&p[s].camps[C].wins++})}),p}function be(t){const r={};return r["R√¥les sp√©ciaux"]={totalGames:0,wins:0,winRate:0,players:{}},t.forEach(l=>{l.PlayerStats.forEach(o=>{const p=K(o),c=J(o.MainRoleInitial,o.MainRoleChanges||[]);ee(c,p)==="Autres"&&(r["R√¥les sp√©ciaux"].totalGames++,o.Victorious&&r["R√¥les sp√©ciaux"].wins++)})}),r}function Fe(t,r){const l={};return t.forEach(o=>{o.PlayerStats.forEach(p=>{const c=_(p),d=p.Username,s=K(p);if(ee(J(p.MainRoleInitial,p.MainRoleChanges||[]),s)==="Autres"){const e="R√¥les sp√©ciaux";r[e].players[c]||(r[e].players[c]={games:0,wins:0,winRate:0,displayName:d}),r[e].players[c].games++,r[e].players[c].displayName=d,p.Victorious&&r[e].players[c].wins++,l[c]||(l[c]={totalGames:0,camps:{},displayName:d}),l[c].displayName=d,l[c].camps[e]||(l[c].camps[e]={games:0,wins:0,winRate:0,performance:0}),l[c].totalGames++,l[c].camps[e].games++,p.Victorious&&l[c].camps[e].wins++}})}),l}function z(t){Object.keys(t).forEach(r=>{t[r].totalGames>0&&(t[r].winRate=parseFloat((t[r].wins/t[r].totalGames*100).toFixed(2))),Object.keys(t[r].players).forEach(l=>{const o=t[r].players[l];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)))})})}function q(t,r){Object.keys(t).forEach(l=>{Object.keys(t[l].camps).forEach(o=>{const p=t[l].camps[o];p.games>0&&(p.winRate=parseFloat((p.wins/p.games*100).toFixed(2)),r[o]&&r[o].winRate!==void 0?p.performance=parseFloat((p.winRate-r[o].winRate).toFixed(2)):p.performance=0)})})}function Ae(t,r,l){const o=[];return Object.keys(t).forEach(c=>{const d=t[c],s=[];Object.keys(d.camps).forEach(n=>{const e=d.camps[n];if(e.games>=l){const C=r[n]&&r[n].winRate!==void 0?r[n].winRate.toFixed(2):"0.00";s.push({camp:n,games:e.games,wins:e.wins,winRate:e.winRate.toFixed(2),campAvgWinRate:C,performance:e.performance.toFixed(2)})}}),s.sort((n,e)=>parseFloat(e.performance)-parseFloat(n.performance)),s.length>0&&o.push({player:d.displayName,totalGames:d.totalGames,campPerformance:s})}),o.sort((c,d)=>d.totalGames-c.totalGames),{campAverages:Object.keys(r).map(c=>({camp:c,totalGames:r[c].totalGames,wins:r[c].wins,winRate:r[c].winRate.toFixed(2)})),playerPerformanceArray:o}}function Ne(t){if(t.length===0)return null;const r=Q(t,!1,!1),l=Q(t,!0,!0),o=be(t),p=Z(t,r,!1,!1),c=Z(t,l,!0,!0),d=Fe(t,o);z(r),z(l),z(o),q(p,r),q(c,l),q(d,o);const s={...r},n={...p};l.Loup&&(s["Camp Loup"]=l.Loup,Object.keys(c).forEach(x=>{n[x]||(n[x]=c[x]),c[x].camps.Loup&&(n[x].camps["Camp Loup"]=c[x].camps.Loup)})),l.Villageois&&(s["Camp Villageois"]=l.Villageois,Object.keys(c).forEach(x=>{n[x]||(n[x]=c[x]),c[x].camps.Villageois&&(n[x].camps["Camp Villageois"]=c[x].camps.Villageois)})),o["R√¥les sp√©ciaux"]&&(s["R√¥les sp√©ciaux"]=o["R√¥les sp√©ciaux"],Object.keys(d).forEach(x=>{n[x]||(n[x]=d[x]),d[x].camps["R√¥les sp√©ciaux"]&&(n[x].camps["R√¥les sp√©ciaux"]=d[x].camps["R√¥les sp√©ciaux"])}));const e=3,{campAverages:C,playerPerformanceArray:j}=Ae(n,s,e);return{campAverages:C,playerPerformance:j,minGamesRequired:e}}function Ve(){const{data:t,isLoading:r,error:l}=he(Ne);return{playerCampPerformance:t,isLoading:r,error:l}}function We({viewMode:t,selectedCamp:r,chartData:l,highlightedPlayer:o,lycansColorScheme:p,playersColor:c,onBarClick:d}){return a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsx("h3",{children:t==="performance"?r==="Tous les camps"?"Meilleures performances - Tous les camps":`Meilleurs joueurs en ${r}`:r==="Tous les camps"?"Plus grand % de parties - Tous les camps":`Plus grand % de parties en ${r}`}),a.jsx(ae,{title:t==="performance"?r==="Tous les camps"?"Meilleures Performances - Tous les camps":`Meilleurs Joueurs - ${r}`:r==="Tous les camps"?"Pourcentage de Parties Jou√©es - Tous les camps":`Pourcentage de Parties Jou√©es - ${r}`,children:a.jsx("div",{style:{height:500},children:a.jsx(te,{width:"100%",height:"100%",children:a.jsxs(Ce,{data:l,margin:{top:20,right:30,left:20,bottom:0},children:[a.jsx(re,{strokeDasharray:"3 3"}),a.jsx(se,{dataKey:r==="Tous les camps"?"uniqueKey":"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:n,payload:e,index:C})=>{const j=l[C],x=j?.player||e.value,F=o===(j?.player||e.value);return a.jsx("text",{x:s,y:n,dy:16,textAnchor:"end",fill:F?"var(--accent-primary)":"var(--text-secondary)",fontSize:F?14:13,fontWeight:F?"bold":"italic",transform:`rotate(-45 ${s} ${n})`,children:x})}}),a.jsx(ie,{domain:t==="playPercentage"?[0,100]:["auto","auto"],label:{value:t==="performance"?"Performance vs moyenne (%)":"Pourcentage de parties jou√©es (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),a.jsx(oe,{content:({active:s,payload:n})=>{if(s&&n&&n.length>0){const e=n[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:r==="Tous les camps"?`${e.player} - ${e.camp}`:e.player})}),t==="performance"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:["Parties: ",e.games]}),a.jsxs("div",{children:["Victoires: ",e.wins]}),a.jsxs("div",{children:["Taux personnel: ",e.winRate,"%"]}),r!=="Tous les camps"&&a.jsxs("div",{children:["Moyenne camp: ",e.campAvgWinRate,"%"]}),a.jsxs("div",{children:["Performance: ",e.performance>0?"+":"",e.performance]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:["Parties dans ce r√¥le: ",e.games]}),a.jsxs("div",{children:["Total parties: ",e.totalGames]}),a.jsxs("div",{children:["Pourcentage: ",e.playPercentage?.toFixed(1),"%"]}),a.jsxs("div",{children:["Victoires: ",e.wins]}),a.jsxs("div",{children:["Taux de victoire: ",e.winRate,"%"]})]}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),a.jsx(je,{dataKey:t==="performance"?"performanceNum":"playPercentage",style:{cursor:"pointer"},onClick:d,children:l.map((s,n)=>{const e=o===s.player,C=s.isHighlightedAddition;let j;return r==="Tous les camps"?j=p[s.camp]||`var(--chart-color-${n%6+1})`:j=c[s.player]||"var(--accent-primary)",a.jsx(Re,{fill:j,stroke:e?"var(--accent-primary)":"transparent",strokeWidth:e?3:0,strokeDasharray:C?"5,5":"none",opacity:C?.8:1},`cell-${n}`)})})]})})})})]})}function Ge({viewMode:t,selectedCamp:r,chartData:l,highlightedPlayer:o,lycansColorScheme:p,playersColor:c,onScatterClick:d}){return a.jsxs("div",{className:"lycans-graphique-section",children:[a.jsx("h3",{children:t==="performance"?r==="Tous les camps"?"Vue Partie/Performance - Tous les camps":`Vue Partie/Performance - ${r}`:r==="Tous les camps"?"Vue Pourcentage/Taux de victoire - Tous les camps":`Vue Pourcentage/Taux de victoire - ${r}`}),a.jsx(ae,{title:t==="performance"?r==="Tous les camps"?"Vue Partie/Performance - Tous les camps":`Vue Partie/Performance - ${r}`:r==="Tous les camps"?"Vue Pourcentage/Taux de victoire - Tous les camps":`Vue Pourcentage/Taux de victoire - ${r}`,children:a.jsx("div",{style:{height:500},children:a.jsx(te,{width:"100%",height:"100%",children:a.jsxs(we,{margin:{top:20,right:30,left:20,bottom:40},children:[a.jsx(re,{strokeDasharray:"3 3"}),a.jsx(se,{type:"number",dataKey:"games",name:"Parties",label:{value:"Nombre de parties",position:"bottom"}}),a.jsx(ie,{type:"number",dataKey:t==="performance"?"performanceNum":r==="Tous les camps"?"playPercentage":"winRateNum",name:t==="performance"?"Performance":r==="Tous les camps"?"Pourcentage":"Taux de victoire",domain:t==="performance"?["auto","auto"]:[0,100],label:{value:t==="performance"?"Performance vs moyenne (%)":r==="Tous les camps"?"Pourcentage de parties jou√©es (%)":"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),a.jsx(oe,{cursor:{strokeDasharray:"3 3"},content:({active:s,payload:n})=>{if(s&&n&&n.length>0){const e=n[0].payload;return a.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[a.jsx("div",{children:a.jsx("strong",{children:r==="Tous les camps"?`${e.player} - ${e.camp}`:e.player})}),t==="performance"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:["Parties: ",e.games]}),a.jsxs("div",{children:["Victoires: ",e.wins]}),a.jsxs("div",{children:["Taux personnel: ",e.winRate,"%"]}),r!=="Tous les camps"&&a.jsxs("div",{children:["Moyenne camp: ",e.campAvgWinRate,"%"]}),a.jsxs("div",{children:["Performance: ",e.performance>0?"+":"",e.performance]})]}):a.jsx(a.Fragment,{children:r==="Tous les camps"?a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:["Parties dans ce r√¥le: ",e.games]}),a.jsxs("div",{children:["Total parties: ",e.totalGames]}),a.jsxs("div",{children:["Pourcentage: ",e.playPercentage?.toFixed(1),"%"]}),a.jsxs("div",{children:["Victoires: ",e.wins]}),a.jsxs("div",{children:["Taux de victoire: ",e.winRate,"%"]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:["Parties: ",e.games]}),a.jsxs("div",{children:["Victoires: ",e.wins]}),a.jsxs("div",{children:["Taux de victoire: ",e.winRate,"%"]})]})}),a.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"üñ±Ô∏è Cliquez pour voir les parties"})]})}return null}}),a.jsx(Te,{data:l,onClick:d,shape:s=>{const n=o===s.payload?.player,e=s.payload?.isHighlightedAddition;return a.jsxs("g",{style:{cursor:"pointer"},children:[a.jsx("circle",{cx:s.cx,cy:s.cy,r:n?15:12,fill:r==="Tous les camps"?p[s.payload?.camp]||"var(--accent-primary)":c[s.payload?.player]||"var(--accent-primary)",stroke:n?"var(--accent-primary)":"#222",strokeWidth:n?3:1,strokeDasharray:e?"5,5":"none",opacity:e?.8:1}),a.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:n?"12":"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})}function Be(){const{navigateToGameDetails:t,navigationState:r,updateNavigationState:l}=fe(),{settings:o}=de(),p=Pe(),{joueursData:c}=ye(),d=xe(c),[s,n]=D.useState(r.campPerformanceState?.viewMode||"performance"),[e,C]=D.useState(r.campPerformanceState?.selectedCampPerformanceCamp||"Camp Villageois"),[j,x]=D.useState(r.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:F,isLoading:ne,error:O}=Ve();D.useEffect(()=>{r.campPerformanceState||l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:e,selectedCampPerformanceMinGames:j}})},[s,e,j,r.campPerformanceState,l]);const le=D.useMemo(()=>{if(!F?.campAverages)return["Tous les camps"];const i=F.campAverages.map(W=>W.camp),m=["Tous les camps"];i.includes("Camp Villageois")&&m.push("Camp Villageois"),i.includes("Villageois")&&m.push("Villageois"),i.includes("Chasseur")&&m.push("Chasseur"),i.includes("Alchimiste")&&m.push("Alchimiste"),i.includes("Protecteur")&&m.push("Protecteur"),i.includes("Disciple")&&m.push("Disciple"),i.includes("Camp Loup")&&m.push("Camp Loup"),i.includes("Loup")&&m.push("Loup"),i.includes("Tra√Ætre")&&m.push("Tra√Ætre"),i.includes("Louveteau")&&m.push("Louveteau"),i.includes("R√¥les sp√©ciaux")&&m.push("R√¥les sp√©ciaux");const R=["Camp Villageois","Camp Loup","R√¥les sp√©ciaux"],N=[...["Camp Villageois","Villageois","Chasseur","Alchimiste","Protecteur","Disciple","Camp Loup","Loup","Tra√Ætre","Louveteau"],...R],$=i.filter(W=>!N.includes(W)).sort();return[...m,...$]},[F]),{campPlayPercentageData:ce,topPlayPercentageData:me,totalPlayPercentagePlayers:L}=D.useMemo(()=>{if(!F?.playerPerformance||s!=="playPercentage")return{campPlayPercentageData:[],topPlayPercentageData:[],totalPlayPercentagePlayers:0};const{playerPerformance:i}=F,m=[],R=[],T=new Map;for(const h of i){const w=h.campPerformance.reduce((f,A)=>f+A.games,0);for(const f of h.campPerformance)if(f.games>=j){const A=f.games/w*100,u=`${h.player}-${f.camp}`,y={player:h.player,camp:f.camp,games:f.games,wins:f.wins,winRate:f.winRate,performance:f.performance,winRateNum:parseFloat(f.winRate),performanceNum:parseFloat(f.performance),campAvgWinRateNum:parseFloat(f.campAvgWinRate),totalGames:w,playPercentage:A,isHighlightedAddition:!1,uniqueKey:u,playerCamp:u},V=T.get(h.player);(!V||y.playPercentage>V.playPercentage)&&T.set(h.player,y),e!=="Tous les camps"&&f.camp===e&&m.push(y)}}R.push(...T.values());const N=(h,w,f=!1)=>{if(!o.highlightedPlayer||h.some(P=>P.player===o.highlightedPlayer&&(!w||P.camp===w)))return h;const u=i.find(P=>P.player===o.highlightedPlayer);if(!u)return h;const y=u.campPerformance.reduce((P,b)=>P+b.games,0);if(f){let P=null;for(const b of u.campPerformance)if(b.games>=1){const k=b.games/y*100,Y=`${u.player}-${b.camp}`,I={player:u.player,camp:b.camp,games:b.games,wins:b.wins,winRate:b.winRate,performance:b.performance,winRateNum:parseFloat(b.winRate),performanceNum:parseFloat(b.performance),campAvgWinRateNum:parseFloat(b.campAvgWinRate),totalGames:y,playPercentage:k,isHighlightedAddition:!0,uniqueKey:Y,playerCamp:Y};(!P||I.playPercentage>P.playPercentage)&&(P=I)}return P?[...h,P]:h}const V=[];for(const P of u.campPerformance)if((!w||P.camp===w)&&P.games>=1){const b=P.games/y*100,k=`${u.player}-${P.camp}`;V.push({player:u.player,camp:P.camp,games:P.games,wins:P.wins,winRate:P.winRate,performance:P.performance,winRateNum:parseFloat(P.winRate),performanceNum:parseFloat(P.performance),campAvgWinRateNum:parseFloat(P.campAvgWinRate),totalGames:y,playPercentage:b,isHighlightedAddition:!0,uniqueKey:k,playerCamp:k})}return[...h,...V]},$=e!=="Tous les camps"?N(m,e,!1):[],W=N(R,void 0,!0),S=$.sort((h,w)=>w.playPercentage-h.playPercentage),H=W.sort((h,w)=>w.playPercentage-h.playPercentage),M=(h,w)=>{const f=h.slice(0,w);if(f.some(y=>y.player===o.highlightedPlayer)||!o.highlightedPlayer)return f;const u=h.find(y=>y.player===o.highlightedPlayer);if(u){const y={...u,isHighlightedAddition:!0};return[...f,y]}return f};let G=0;e==="Tous les camps"?G=T.size:G=m.length;const v=M(S,15),g=M(H,15);return{campPlayPercentageData:v,topPlayPercentageData:g,totalPlayPercentagePlayers:G}},[F,e,j,o.highlightedPlayer,s]),{campPlayerData:pe,topPerformersData:ue,totalMatchingPlayers:E}=D.useMemo(()=>{if(!F?.playerPerformance||s!=="performance")return{campPlayerData:[],topPerformersData:[],totalMatchingPlayers:0};const{playerPerformance:i}=F,m=[],R=[],T=new Map;for(const v of i)for(const g of v.campPerformance)if(g.games>=j){const h=`${v.player}-${g.camp}`,w={player:v.player,camp:g.camp,games:g.games,wins:g.wins,winRate:g.winRate,performance:g.performance,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h},f=T.get(v.player);(!f||w.performanceNum>f.performanceNum)&&T.set(v.player,w),e!=="Tous les camps"&&g.camp===e&&m.push({player:v.player,...g,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1,uniqueKey:h,playerCamp:h})}R.push(...T.values());const N=(v,g,h=!1)=>{if(!o.highlightedPlayer||v.some(u=>u.player===o.highlightedPlayer&&(!g||u.camp===g)))return v;const f=i.find(u=>u.player===o.highlightedPlayer);if(!f)return v;if(h){let u=null;for(const y of f.campPerformance)if(y.games>=1){const V=`${f.player}-${y.camp}`,P={player:f.player,camp:y.camp,games:y.games,wins:y.wins,winRate:y.winRate,performance:y.performance,winRateNum:parseFloat(y.winRate),performanceNum:parseFloat(y.performance),campAvgWinRateNum:parseFloat(y.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:V,playerCamp:V};(!u||P.performanceNum>u.performanceNum)&&(u=P)}return u?[...v,u]:v}const A=[];for(const u of f.campPerformance)if((!g||u.camp===g)&&u.games>=1){const y=`${f.player}-${u.camp}`;A.push({player:f.player,camp:u.camp,games:u.games,wins:u.wins,winRate:u.winRate,performance:u.performance,winRateNum:parseFloat(u.winRate),performanceNum:parseFloat(u.performance),campAvgWinRateNum:parseFloat(u.campAvgWinRate),isHighlightedAddition:!0,uniqueKey:y,playerCamp:y})}return[...v,...A]},$=e!=="Tous les camps"?N(m,e,!1):[],W=N(R,void 0,!0),S=$.sort((v,g)=>g.performanceNum-v.performanceNum),H=W.sort((v,g)=>g.performanceNum-v.performanceNum),M=(v,g)=>{const h=v.slice(0,g);if(h.some(A=>A.player===o.highlightedPlayer)||!o.highlightedPlayer)return h;const f=v.find(A=>A.player===o.highlightedPlayer);if(f){const A={...f,isHighlightedAddition:!0};return[...h,A]}return h};let G=0;return e==="Tous les camps"?G=T.size:G=m.length,{campPlayerData:M(S,15),topPerformersData:M(H,15),totalMatchingPlayers:G}},[F,e,j,o.highlightedPlayer,s]),U=i=>{i&&i.player&&(e!=="Tous les camps"?t(e==="Camp Loup"?{selectedPlayer:i.player,campFilter:{selectedCamp:"Camp Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:`Performance des Joueurs - ${e}`}:e==="Camp Villageois"?{selectedPlayer:i.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeVillagers:!1},fromComponent:`Performance des Joueurs - ${e}`}:e==="R√¥les sp√©ciaux"?{selectedPlayer:i.player,fromComponent:`Performance des Joueurs - ${e}`}:{selectedPlayer:i.player,campFilter:{selectedCamp:e,campFilterMode:"wins-only",excludeWolfSubRoles:e==="Tra√Ætre"||e==="Louveteau",excludeVillagers:e==="Chasseur"||e==="Alchimiste"||e==="Protecteur"||e==="Disciple"},fromComponent:`Performance des Joueurs - ${e}`}):i.camp==="Camp Loup"?t({selectedPlayer:i.player,campFilter:{selectedCamp:"Loup",campFilterMode:"wins-only",excludeWolfSubRoles:!1},fromComponent:"Performance des Joueurs - Tous les camps"}):i.camp==="Camp Villageois"?t({selectedPlayer:i.player,campFilter:{selectedCamp:"Villageois",campFilterMode:"wins-only",excludeWolfSubRoles:!0},fromComponent:"Performance des Joueurs - Tous les camps"}):i.camp==="R√¥les sp√©ciaux"?t({selectedPlayer:i.player,fromComponent:"Performance des Joueurs - Tous les camps"}):t({selectedPlayer:i.player,campFilter:{selectedCamp:i.camp,campFilterMode:"wins-only",excludeWolfSubRoles:i.camp==="Tra√Ætre"||i.camp==="Louveteau",excludeVillagers:i.camp==="Chasseur"||i.camp==="Alchimiste"||i.camp==="Protecteur"||i.camp==="Disciple"},fromComponent:"Performance des Joueurs - Tous les camps"}))};if(ne)return a.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."});if(O)return a.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",O]});if(!F)return a.jsx("div",{className:"donnees-manquantes",children:"Aucune donn√©e de performance par camp disponible"});const X=s==="performance"?e==="Tous les camps"?ue:pe:e==="Tous les camps"?me:ce;return a.jsxs("div",{className:"lycans-player-camp-performance",children:[a.jsx("h2",{children:s==="performance"?"Meilleures Performances par Camp":"Pourcentage de Parties Jou√©es par R√¥le"}),a.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Affichage:"}),a.jsxs("select",{id:"view-mode-select",value:s,onChange:i=>{const m=i.target.value;n(m),l({campPerformanceState:{viewMode:m,selectedCampPerformanceCamp:e,selectedCampPerformanceMinGames:j}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:[a.jsx("option",{value:"performance",children:"üèÜ Meilleures performances"}),a.jsx("option",{value:"playPercentage",children:"üìä % parties jou√©es"})]})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),a.jsx("select",{id:"camp-select",value:e,onChange:i=>{const m=i.target.value;C(m),l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:m,selectedCampPerformanceMinGames:j}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"200px"},children:le.map(i=>{let m=i,R=!1,T=!1,N=!1;return i==="Tous les camps"?(m="üìä Tous les camps",N=!0):i==="Camp Villageois"?(m="   üèòÔ∏è Camp Villageois",R=!0,T=!0):i==="Villageois"?(m="   Villageois",R=!0):i==="Chasseur"?(m="     Chasseur",R=!0):i==="Alchimiste"?(m="     Alchimiste",R=!0):i==="Protecteur"?(m="     Protecteur",R=!0):i==="Disciple"?(m="     Disciple",R=!0):i==="Camp Loup"?(m="   üê∫ Camp Loup",R=!0,T=!0):i==="Loup"?(m="     Loup",R=!0):i==="Tra√Ætre"?(m="     Tra√Ætre",R=!0):i==="Louveteau"?(m="     Louveteau",R=!0):i==="R√¥les sp√©ciaux"?(m="   ‚≠ê R√¥les sp√©ciaux",R=!0,T=!0):(m=`     ${i}`,R=!0),a.jsx("option",{value:i,style:{fontFamily:"monospace",fontSize:R?"0.85rem":"0.9rem",fontWeight:T?"bold":"normal",color:T?"var(--accent-primary)":N?"var(--accent-secondary)":"inherit"},children:m},i)})})]}),a.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[a.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),a.jsx("select",{id:"min-games-select",value:j,onChange:i=>{const m=Number(i.target.value);x(m),l({campPerformanceState:{viewMode:s,selectedCampPerformanceCamp:e,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ve.map(i=>a.jsx("option",{value:i,children:i},i))})]})]}),a.jsx("div",{style:{textAlign:"center",marginBottom:"1.5rem",padding:"0.75rem",background:"var(--bg-secondary)",borderRadius:"8px",border:"1px solid var(--border-color)"},children:a.jsxs("span",{style:{color:"var(--text-secondary)",fontSize:"0.95rem",fontWeight:"500"},children:[s==="performance"?E:L," joueur",(s==="performance"?E:L)!==1?"s":""," ",(s==="performance"?E:L)!==1?"correspondent":"correspond"," aux crit√®res"]})}),a.jsxs("div",{className:"lycans-graphiques-groupe",children:[a.jsx(We,{viewMode:s,selectedCamp:e,chartData:X,highlightedPlayer:o.highlightedPlayer,lycansColorScheme:p,playersColor:d,onBarClick:U}),a.jsx(Ge,{viewMode:s,selectedCamp:e,chartData:X,highlightedPlayer:o.highlightedPlayer,lycansColorScheme:p,playersColor:d,onScatterClick:U})]})]})}export{Be as PlayerCampChart};
