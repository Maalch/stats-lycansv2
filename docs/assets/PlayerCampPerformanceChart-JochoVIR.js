import{r as d,b as de,s as Q,g as ee,d as me,a as pe,u as ue,j as n}from"./index-DCpoS_oe.js";import{u as fe}from"./baseStatsHook-CJib86J1.js";import{m as ye,p as q,a as ve}from"./api-beq3FXpM.js";import{S as J,d as he,u as xe,b as L,G as ge,e as Pe,f as be,g as je,h as Ae,i as Ce,F as Z,B as H,C as D,X as F,Y as M,a as U}from"./FullscreenChart-CaBsMOYs.js";import{m as S,u as we,n as Se,o as Ie,S as Ee,p as ae,q as Oe,t as re,v as te,w as Te,x as Re,y as _e,z as ne,A as Ne,B as ze,b as Ke,d as ie,C as De,G as Fe,D as Me,i as ke,E,L as R,F as K,H as X,I as Ge,J as Le,K as z,h as W,M as We,N as Be,O as $e,P as Ve,Q as qe,U as Je,V as Ze,W as He,R as k,T as G}from"./CategoricalChart-iECuOcaC.js";function se(e,r,t){return(r=Ue(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Ue(e){var r=Xe(e,"string");return typeof r=="symbol"?r:r+""}function Xe(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ye(e){var r=we();return d.useEffect(()=>(r(Se(e)),()=>{r(Ie(e))}),[e,r]),null}class B extends d.Component{render(){return d.createElement(Ye,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:S.allowDuplicatedCategory,allowDataOverflow:S.allowDataOverflow,reversed:S.reversed,includeHidden:S.includeHidden})}}se(B,"displayName","ZAxis");se(B,"defaultProps",{zAxisId:0,range:S.range,scale:S.scale,type:S.type});var Qe=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},T.apply(null,arguments)}function ea(e,r){if(e==null)return{};var t,a,o=aa(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function aa(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function ra(e){var{option:r,isActive:t}=e,a=ea(e,Qe);return typeof r=="string"?d.createElement(J,T({option:d.createElement(Ee,T({type:r},a)),isActive:t,shapeType:"symbols"},a)):d.createElement(J,T({option:r,isActive:t,shapeType:"symbols"},a))}var ta=(e,r,t,a,o,i,c)=>re(e,"xAxis",r,c),na=(e,r,t,a,o,i,c)=>te(e,"xAxis",r,c),ia=(e,r,t,a,o,i,c)=>re(e,"yAxis",t,c),sa=(e,r,t,a,o,i,c)=>te(e,"yAxis",t,c),oa=(e,r,t,a)=>Te(e,"zAxis",a,!1),la=(e,r,t,a,o)=>o,ca=(e,r,t,a,o,i)=>i,da=(e,r,t,a,o,i,c)=>Oe(e,r,t,c),ma=ae([Re,la],(e,r)=>{if(e.some(t=>t.type==="scatter"&&r.dataKey===t.dataKey&&r.data===t.data))return r}),pa=ae([da,ta,na,ia,sa,oa,ma,ca],(e,r,t,a,o,i,c,m)=>{var{chartData:y,dataStartIndex:l,dataEndIndex:v}=e;if(c!=null){var u;if(c?.data!=null&&c.data.length>0?u=c.data:u=y?.slice(l,v+1),!(u==null||r==null||a==null||t==null||o==null||t?.length===0||o?.length===0))return Aa({displayedData:u,xAxis:r,yAxis:a,zAxis:i,scatterSettings:c,xAxisTicks:t,yAxisTicks:o,cells:m})}}),ua=["onMouseEnter","onClick","onMouseLeave"],fa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function oe(e,r){if(e==null)return{};var t,a,o=ya(e,r);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],r.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function ya(e,r){if(e==null)return{};var t={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(r.indexOf(a)!==-1)continue;t[a]=e[a]}return t}function O(){return O=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var a in t)({}).hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},O.apply(null,arguments)}function Y(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,a)}return t}function j(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Y(Object(t),!0).forEach(function(a){$(e,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Y(Object(t)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))})}return e}function $(e,r,t){return(r=va(r))in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function va(e){var r=ha(e,"string");return typeof r=="symbol"?r:r+""}function ha(e,r){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var a=t.call(e,r);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var xa=e=>{var{dataKey:r,name:t,fill:a,legendType:o,hide:i}=e;return[{inactive:i,dataKey:r,type:o,color:a,value:ne(t,r),payload:e}]};function ga(e){var{points:r,props:t}=e,{line:a,lineType:o,lineJointType:i}=t;if(!a)return null;var c=W(t,!1),m=W(a,!1),y,l;if(o==="joint")y=r.map(f=>({x:f.cx,y:f.cy}));else if(o==="fitting"){var{xmin:v,xmax:u,a:P,b}=Je(r),A=f=>P*f+b;y=[{x:v,y:A(v)},{x:u,y:A(u)}]}var g=j(j(j({},c),{},{fill:"none",stroke:c&&c.fill},m),{},{points:y});return d.isValidElement(a)?l=d.cloneElement(a,g):typeof a=="function"?l=a(g):l=d.createElement(Ze,O({},g,{type:i})),d.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},l)}function le(e){var{points:r,showLabels:t,allOtherScatterProps:a}=e,{shape:o,activeShape:i,dataKey:c}=a,m=W(a,!1),y=ie(We),{onMouseEnter:l,onClick:v,onMouseLeave:u}=a,P=oe(a,ua),b=be(l,a.dataKey),A=je(u),g=Ae(v,a.dataKey);return r==null?null:d.createElement(d.Fragment,null,d.createElement(ga,{points:r,props:a}),r.map((f,s)=>{var p=i&&y===String(s),h=p?i:o,C=j(j(j({key:"symbol-".concat(s)},m),f),{},{[$e]:s,[Be]:String(c)});return d.createElement(R,O({className:"recharts-scatter-symbol"},Ve(P,f,s),{onMouseEnter:b(f,s),onMouseLeave:A(f,s),onClick:g(f,s),key:"symbol-".concat(f?.cx,"-").concat(f?.cy,"-").concat(f?.size,"-").concat(s)}),d.createElement(ra,O({option:h,isActive:p},C)))}),t&&qe.renderCallByParent(a,r))}function Pa(e){var{previousPointsRef:r,props:t}=e,{points:a,isAnimationActive:o,animationBegin:i,animationDuration:c,animationEasing:m}=t,y=r.current,l=Ge(t,"recharts-scatter-"),[v,u]=d.useState(!1),P=d.useCallback(()=>{u(!1)},[]),b=d.useCallback(()=>{u(!0)},[]);return d.createElement(Le,{begin:i,duration:c,isActive:o,easing:m,from:{t:0},to:{t:1},onAnimationEnd:P,onAnimationStart:b,key:l},A=>{var{t:g}=A,f=g===1?a:a.map((s,p)=>{var h=y&&y[p];if(h){var C=z(h.cx,s.cx),I=z(h.cy,s.cy),w=z(h.size,s.size);return j(j({},s),{},{cx:C(g),cy:I(g),size:w(g)})}var x=z(0,s.size);return j(j({},s),{},{size:x(g)})});return g>0&&(r.current=f),d.createElement(R,null,d.createElement(le,{points:f,allOtherScatterProps:t,showLabels:!v}))})}function ba(e){var{points:r,isAnimationActive:t}=e,a=d.useRef(null),o=a.current;return t&&r&&r.length&&(!o||o!==r)?d.createElement(Pa,{props:e,previousPointsRef:a}):d.createElement(le,{points:r,allOtherScatterProps:e,showLabels:!0})}function ja(e){var{dataKey:r,points:t,stroke:a,strokeWidth:o,fill:i,name:c,hide:m,tooltipType:y}=e;return{dataDefinedOnItem:t?.map(l=>l.tooltipPayload),positions:t?.map(l=>l.tooltipPosition),settings:{stroke:a,strokeWidth:o,fill:i,nameKey:void 0,dataKey:r,name:ne(c,r),hide:m,type:y,color:i,unit:""}}}function Aa(e){var{displayedData:r,xAxis:t,yAxis:a,zAxis:o,scatterSettings:i,xAxisTicks:c,yAxisTicks:m,cells:y}=e,l=E(t.dataKey)?i.dataKey:t.dataKey,v=E(a.dataKey)?i.dataKey:a.dataKey,u=o&&o.dataKey,P=o?o.range:B.defaultProps.range,b=P&&P[0],A=t.scale.bandwidth?t.scale.bandwidth():0,g=a.scale.bandwidth?a.scale.bandwidth():0;return r.map((f,s)=>{var p=K(f,l),h=K(f,v),C=!E(u)&&K(f,u)||"-",I=[{name:E(t.dataKey)?i.name:t.name||t.dataKey,unit:t.unit||"",value:p,payload:f,dataKey:l,type:i.tooltipType},{name:E(a.dataKey)?i.name:a.name||a.dataKey,unit:a.unit||"",value:h,payload:f,dataKey:v,type:i.tooltipType}];C!=="-"&&I.push({name:o.name||o.dataKey,unit:o.unit||"",value:C,payload:f,dataKey:u,type:i.tooltipType});var w=X({axis:t,ticks:c,bandSize:A,entry:f,index:s,dataKey:l}),x=X({axis:a,ticks:m,bandSize:g,entry:f,index:s,dataKey:v}),_=C!=="-"?o.scale(C):b,N=Math.sqrt(Math.max(_,0)/Math.PI);return j(j({},f),{},{cx:w,cy:x,x:w-N,y:x-N,width:2*N,height:2*N,size:_,node:{x:p,y:h,z:C},tooltipPayload:I,tooltipPosition:{x:w,y:x},payload:f},y&&y[s]&&y[s].props)})}var Ca=(e,r,t)=>({x:e.cx,y:e.cy,value:t==="x"?+e.node.x:+e.node.y,errorVal:K(e,r)});function wa(e){var r=d.useRef(Me("recharts-scatter-")),{hide:t,points:a,className:o,needClip:i,xAxisId:c,yAxisId:m,id:y,children:l}=e;if(t)return null;var v=ke("recharts-scatter",o),u=E(y)?r.current:y;return d.createElement(R,{className:v,clipPath:i?"url(#clipPath-".concat(u,")"):null},i&&d.createElement("defs",null,d.createElement(ge,{clipPathId:u,xAxisId:c,yAxisId:m})),d.createElement(Pe,{xAxisId:c,yAxisId:m,data:a,dataPointFormatter:Ca,errorBarOffset:0},l),d.createElement(R,{key:"recharts-scatter-symbols"},d.createElement(ba,e)))}var ce={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Fe.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Sa(e){var r=Ne(e,ce),{animationBegin:t,animationDuration:a,animationEasing:o,hide:i,isAnimationActive:c,legendType:m,lineJointType:y,lineType:l,shape:v,xAxisId:u,yAxisId:P,zAxisId:b}=r,A=oe(r,fa),{needClip:g}=xe(u,P),f=d.useMemo(()=>ze(e.children,L),[e.children]),s=d.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),p=Ke(),h=ie(C=>pa(C,u,P,b,s,f,p));return g==null?null:d.createElement(d.Fragment,null,d.createElement(De,{fn:ja,args:j(j({},e),{},{points:h})}),d.createElement(wa,O({},A,{xAxisId:u,yAxisId:P,zAxisId:b,lineType:l,lineJointType:y,legendType:m,shape:v,hide:i,isAnimationActive:c,animationBegin:t,animationDuration:a,animationEasing:o,points:h,needClip:g})))}class V extends d.Component{render(){return d.createElement(he,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},d.createElement(_e,{legendPayload:xa(this.props)}),d.createElement(Sa,this.props))}}$(V,"displayName","Scatter");$(V,"defaultProps",ce);var Ia=["item"],Ea=d.forwardRef((e,r)=>d.createElement(Ce,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Ia,tooltipPayloadSearcher:He,categoricalChartProps:e,ref:r}));function Oa(e,r){const t={};return e.forEach(a=>{const o=a.Game.toString(),i=a["Liste des joueurs"],c=a["Camp victorieux"];if(o&&i&&c){const m=Q(i),y=new Set;m.forEach(l=>{const v=l.trim();if(v){const u=ee(r,o,v);y.add(u)}}),y.forEach(l=>{t[l]||(t[l]={totalGames:0,wins:0,winRate:0,players:{}}),t[l].totalGames++}),y.forEach(l=>{me(l,c)&&t[l].wins++})}}),t}function Ta(e,r,t){const a={};return e.forEach(o=>{const i=o.Game.toString(),c=o["Liste des joueurs"],m=o["Liste des gagnants"];i&&c&&m&&Q(c).forEach(l=>{const v=l.trim();if(v){const u=ee(r,i,v);t[u].players[v]||(t[u].players[v]={games:0,wins:0,winRate:0}),t[u].players[v].games++;const P=pe(v,m);P&&t[u].players[v].wins++,a[v]||(a[v]={totalGames:0,camps:{}}),a[v].camps[u]||(a[v].camps[u]={games:0,wins:0,winRate:0,performance:0}),a[v].totalGames++,a[v].camps[u].games++,P&&a[v].camps[u].wins++}})}),a}function Ra(e){Object.keys(e).forEach(r=>{e[r].totalGames>0&&(e[r].winRate=parseFloat((e[r].wins/e[r].totalGames*100).toFixed(2))),Object.keys(e[r].players).forEach(t=>{const a=e[r].players[t];a.games>0&&(a.winRate=parseFloat((a.wins/a.games*100).toFixed(2)))})})}function _a(e,r){Object.keys(e).forEach(t=>{Object.keys(e[t].camps).forEach(a=>{const o=e[t].camps[a];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),r[a]&&r[a].winRate&&(o.performance=parseFloat((o.winRate-r[a].winRate).toFixed(2))))})})}function Na(e,r,t){const a=[];return Object.keys(e).forEach(i=>{const c=e[i],m=[];Object.keys(c.camps).forEach(y=>{const l=c.camps[y];l.games>=t&&m.push({camp:y,games:l.games,wins:l.wins,winRate:l.winRate.toFixed(2),campAvgWinRate:r[y].winRate.toFixed(2),performance:l.performance.toFixed(2)})}),m.sort((y,l)=>parseFloat(l.performance)-parseFloat(y.performance)),m.length>0&&a.push({player:i,totalGames:c.totalGames,campPerformance:m})}),a.sort((i,c)=>c.totalGames-i.totalGames),{campAverages:Object.keys(r).map(i=>({camp:i,totalGames:r[i].totalGames,wins:r[i].wins,winRate:r[i].winRate.toFixed(2)})),playerPerformanceArray:a}}function za(e,r){if(e.length===0||r.length===0)return null;const t=de(r),a=Oa(e,t),o=Ta(e,t,a);Ra(a),_a(o,a);const i=5,{campAverages:c,playerPerformanceArray:m}=Na(o,a,i);return{campAverages:c,playerPerformance:m,minGamesRequired:i}}function Ka(){const{data:e,isLoading:r,error:t}=fe(za);return{playerCampPerformance:e,isLoading:r,error:t}}function La(){const{navigateToGameDetails:e,navigationState:r,updateNavigationState:t}=ue(),[a,o]=d.useState(r.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[i,c]=d.useState(r.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[m,y]=d.useState(r.campPerformanceState?.selectedCampPerformanceMinGames||5),{playerCampPerformance:l,isLoading:v,error:u}=Ka();d.useEffect(()=>{r.campPerformanceState||t({campPerformanceState:{selectedCampPerformanceView:a,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:m}})},[a,i,m,r.campPerformanceState,t]);const P=d.useMemo(()=>l?.campAverages?l.campAverages.map(s=>s.camp).sort():[],[l]),{campPlayerData:b,topPerformersData:A}=d.useMemo(()=>{if(!l?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=l,p=[],h=[];for(const w of s)for(const x of w.campPerformance)if(x.games>=m){const _={player:w.player,camp:x.camp,games:x.games,wins:x.wins,winRate:x.winRate,performance:x.performance,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)};h.push(_),x.camp===i&&p.push({player:w.player,...x,winRateNum:parseFloat(x.winRate),performanceNum:parseFloat(x.performance),campAvgWinRateNum:parseFloat(x.campAvgWinRate)})}const C=p.sort((w,x)=>x.performanceNum-w.performanceNum),I=h.sort((w,x)=>x.performanceNum-w.performanceNum).slice(0,20);return{campPlayerData:C,topPerformersData:I}},[l,i,m]),g=s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:i,campFilterMode:"wins-only"},fromComponent:`Performance des Joueurs - ${i}`})},f=s=>{s&&s.player&&s.camp&&e({selectedPlayer:s.player,campFilter:{selectedCamp:s.camp,campFilterMode:"wins-only"},fromComponent:`Top 20 des Performances (Min. ${m} parties dans ce camp)`})};return v?n.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):u?n.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",u]}):l?n.jsxs("div",{className:"lycans-player-camp-performance",children:[n.jsx("h2",{children:"Meilleurs Performances par Camp"}),n.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),n.jsxs("select",{id:"view-mode-select",value:a,onChange:s=>{const p=s.target.value;o(p),t({campPerformanceState:{selectedCampPerformanceView:p,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[n.jsx("option",{value:"player-performance",children:"Camp"}),n.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),a==="player-performance"&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),n.jsx("select",{id:"camp-select",value:i,onChange:s=>{const p=s.target.value;c(p),t({campPerformanceState:{selectedCampPerformanceView:a,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:m}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:P.map(s=>n.jsx("option",{value:s,children:s},s))})]}),(a==="player-performance"||a==="top-performers")&&n.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[n.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),n.jsx("select",{id:"min-games-select",value:m,onChange:s=>{const p=Number(s.target.value);y(p),t({campPerformanceState:{selectedCampPerformanceView:a,selectedCampPerformanceCamp:i,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:ye.map(s=>n.jsx("option",{value:s,children:s},s))})]})]}),n.jsxs("div",{className:"lycans-resume-conteneur",children:[n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Camps Analysés"}),n.jsx("div",{className:"lycans-valeur-principale",children:l.campAverages.length}),n.jsx("p",{children:"camps différents"})]}),n.jsxs("div",{className:"lycans-stat-carte",children:[n.jsx("h3",{children:"Joueurs Évalués"}),n.jsx("div",{className:"lycans-valeur-principale",children:l.playerPerformance.length}),n.jsx("p",{children:"joueurs analysés"})]})]}),n.jsxs("div",{className:"lycans-graphiques-groupe",children:[a==="player-performance"&&n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Performance des Joueurs - ",i]}),n.jsx(Z,{title:`Performance des Joueurs - ${i}`,children:n.jsx("div",{style:{height:500},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(H,{data:b.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const h=p[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Victoires: ",h.wins]}),n.jsxs("div",{children:["Taux personnel: ",h.winRate,"%"]}),n.jsxs("div",{children:["Moyenne camp: ",h.campAvgWinRate,"%"]}),n.jsxs("div",{children:["Performance: ",h.performance>0?"+":"",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(U,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:g,children:b.slice(0,15).map((s,p)=>n.jsx(L,{fill:q[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${p}`))})]})})})})]}),n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",i]}),n.jsx(Z,{title:`Relation Parties Jouées vs Performance - ${i}`,children:n.jsx("div",{style:{height:400},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(Ea,{data:b,margin:{top:20,right:30,left:20,bottom:20},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),n.jsx(M,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const h=p[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Performance: ",h.performance>0?"+":"",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(V,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:i,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${i}`})},shape:s=>n.jsxs("g",{style:{cursor:"pointer"},children:[n.jsx("circle",{cx:s.cx,cy:s.cy,r:12,fill:q[s.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),n.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),a==="top-performers"&&n.jsxs("div",{className:"lycans-graphique-section",children:[n.jsx("h3",{children:`Top 20 des Performances (Min. ${m} parties dans ce camp)`}),n.jsx("div",{style:{height:600},children:n.jsx(k,{width:"100%",height:"100%",children:n.jsxs(H,{data:A,margin:{top:20,right:30,left:20,bottom:100},children:[n.jsx(D,{strokeDasharray:"3 3"}),n.jsx(F,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),n.jsx(M,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),n.jsx(G,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const h=p[0].payload;return n.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[n.jsx("div",{children:n.jsx("strong",{children:h.player})}),n.jsxs("div",{children:["Camp: ",h.camp]}),n.jsxs("div",{children:["Parties: ",h.games]}),n.jsxs("div",{children:["Taux personnel: ",h.winRate,"%"]}),n.jsxs("div",{children:["Performance: +",h.performance]}),n.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),n.jsx(U,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:f,children:A.map((s,p)=>n.jsx(L,{fill:ve[s.camp]||`var(--chart-color-${p%6+1})`},`cell-${p}`))})]})})})]})]})]}):n.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{La as PlayerCampPerformanceChart};
