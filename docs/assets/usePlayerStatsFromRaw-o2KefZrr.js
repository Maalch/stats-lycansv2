import{a as c}from"./baseStatsHook-BrPryrbF.js";function m(n){if(n.length===0)return null;const e={};let r=0;n.forEach(t=>{const a=t.PlayerStats;a.length>0&&(r++,a.forEach(o=>{const s=o.Username.trim();if(s){e[s]||(e[s]={gamesPlayed:0,gamesPlayedPercent:"0",wins:0,winPercent:"0",camps:{Villageois:0,Loup:0,Traître:0,"Idiot du Village":0,Cannibale:0,Agent:0,Espion:0,Scientifique:0,Amoureux:0,"La Bête":0,"Chasseur de primes":0,Vaudou:0}}),e[s].gamesPlayed++;const l=o.MainRoleInitial;l in e[s].camps&&e[s].camps[l]++,o.Victorious&&e[s].wins++}}))}),Object.keys(e).forEach(t=>{const a=e[t];a.gamesPlayedPercent=(a.gamesPlayed/r*100).toFixed(2),a.winPercent=(a.wins/a.gamesPlayed*100).toFixed(2)});const i=Object.keys(e).map(t=>({player:t,...e[t]}));return i.sort((t,a)=>a.gamesPlayed-t.gamesPlayed),{totalGames:r,playerStats:i}}function y(){const{data:n,isLoading:e,error:r}=c(i=>m(i));return{data:n,isLoading:e,error:r}}export{y as u};
