import{r as d,f as Se,j as r}from"./index-CRVotvbE.js";import{a as Ee}from"./baseStatsHook-B0G-DkG5.js";import{g as We}from"./gameUtils-rkfcKAVy.js";import{c as Ce}from"./datasyncExport-BirWLS1z.js";import{u as ke,G as Ne,b as Le,F as V,C as K,X as z,Y as B}from"./FullscreenChart-CvK6X1_C.js";import{b as Re}from"./api-BHqP4DlK.js";import{a as Y,e as U,ab as ue,ac as pe,ad as we,ae as Me,af as Te,ag as Oe,V as he,W as te,ah as Ge,ai as Ve,o as me,D as Ke,Q as ve,X as ze,aj as Be,ak as qe,al as _e,$ as fe,a0 as $e,A as Fe,am as Xe,an as Ye,u as Je,ao as He,c as Ze,ap as Qe,Z as Ue,L as $,a1 as re,aq as ie,ar as O,a4 as ea,as as aa,a5 as ta,a8 as M,a3 as ra,at as ia,a6 as na,a7 as sa,t as ye,s as la,au as J,av as F,aw as oa,a9 as ca,R as q,T as _}from"./CategoricalChart-I4QsiQeR.js";import{g as da,L as ua,a as H}from"./LineChart-DfsmN5pZ.js";import{L as ne}from"./Legend-8O679eCR.js";import{s as ee,b as ae,B as pa,a as Z}from"./BarChart-DqFoxfsr.js";import{A as se,a as ha}from"./ActivePoints-CbVZDtmW.js";var ge=(e,a,t)=>ue(e,"xAxis",ee(e,a),t),xe=(e,a,t)=>pe(e,"xAxis",ee(e,a),t),je=(e,a,t)=>ue(e,"yAxis",ae(e,a),t),Ae=(e,a,t)=>pe(e,"yAxis",ae(e,a),t),ma=Y([U,ge,je,xe,Ae],(e,a,t,i,n)=>he(e,"xAxis")?te(a,i,!1):te(t,n,!1)),va=(e,a)=>a,be=Y([Ge,va],(e,a)=>e.filter(t=>t.type==="area").find(t=>t.id===a)),Pe=e=>{var a=U(e),t=he(a,"xAxis");return t?"yAxis":"xAxis"},fa=(e,a)=>{var t=Pe(e);return t==="yAxis"?ae(e,a):ee(e,a)},ya=(e,a,t)=>Te(e,Pe(e),fa(e,a),t),ga=Y([be,ya],(e,a)=>{var t;if(!(e==null||a==null)){var{stackId:i}=e,n=Oe(e);if(!(i==null||n==null)){var o=(t=a[i])===null||t===void 0?void 0:t.stackedData,u=o?.find(l=>l.key===n);if(u!=null)return u.map(l=>[l[0],l[1]])}}}),xa=Y([U,ge,je,xe,Ae,ga,we,ma,be,Me],(e,a,t,i,n,o,u,l,m,f)=>{var{chartData:y,dataStartIndex:v,dataEndIndex:p}=u;if(!(m==null||e!=="horizontal"&&e!=="vertical"||a==null||t==null||i==null||n==null||i.length===0||n.length===0||l==null)){var{data:c}=m,s;if(c&&c.length>0?s=c:s=y?.slice(v,p+1),s!=null)return Ga({layout:e,xAxis:a,yAxis:t,xAxisTicks:i,yAxisTicks:n,dataStartIndex:v,areaSettings:m,stackedData:o,displayedData:s,chartBaseValue:f,bandSize:l})}}),ja=["id"],Aa=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function w(){return w=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var i in t)({}).hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},w.apply(null,arguments)}function Ie(e,a){if(e==null)return{};var t,i,n=ba(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)t=o[i],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}function ba(e,a){if(e==null)return{};var t={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(a.indexOf(i)!==-1)continue;t[i]=e[i]}return t}function le(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);a&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),t.push.apply(t,i)}return t}function T(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?le(Object(t),!0).forEach(function(i){Pa(e,i,t[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):le(Object(t)).forEach(function(i){Object.defineProperty(e,i,Object.getOwnPropertyDescriptor(t,i))})}return e}function Pa(e,a,t){return(a=Ia(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function Ia(e){var a=Da(e,"string");return typeof a=="symbol"?a:a+""}function Da(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var i=t.call(e,a);if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function X(e,a){return e&&e!=="none"?e:a}var Sa=e=>{var{dataKey:a,name:t,stroke:i,fill:n,legendType:o,hide:u}=e;return[{inactive:u,dataKey:a,type:o,color:X(i,n),value:fe(t,a),payload:e}]},Ea=d.memo(e=>{var{dataKey:a,data:t,stroke:i,strokeWidth:n,fill:o,name:u,hide:l,unit:m,tooltipType:f,id:y}=e,v={dataDefinedOnItem:t,getPosition:Fe,settings:{stroke:i,strokeWidth:n,fill:o,dataKey:a,nameKey:void 0,name:fe(u,a),hide:l,type:f,color:X(i,o),unit:m,graphicalItemId:y}};return d.createElement($e,{tooltipEntrySettings:v})});function Wa(e){var{clipPathId:a,points:t,props:i}=e,{needClip:n,dot:o,dataKey:u}=i,l=ye(i);return d.createElement(ha,{points:t,dot:o,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:u,baseProps:l,needClip:n,clipPathId:a})}function Ca(e){var{showLabels:a,children:t,points:i}=e,n=i.map(o=>{var u,l,m={x:(u=o.x)!==null&&u!==void 0?u:0,y:(l=o.y)!==null&&l!==void 0?l:0,width:0,lowerWidth:0,upperWidth:0,height:0};return T(T({},m),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:m,fill:void 0})});return d.createElement(sa,{value:a?n:void 0},t)}function oe(e){var{points:a,baseLine:t,needClip:i,clipPathId:n,props:o}=e,{layout:u,type:l,stroke:m,connectNulls:f,isRange:y}=o,{id:v}=o,p=Ie(o,ja),c=ye(p),s=la(p);return d.createElement(d.Fragment,null,a?.length>1&&d.createElement($,{clipPath:i?"url(#clipPath-".concat(n,")"):void 0},d.createElement(J,w({},s,{id:v,points:a,connectNulls:f,type:l,baseLine:t,layout:u,stroke:"none",className:"recharts-area-area"})),m!=="none"&&d.createElement(J,w({},c,{className:"recharts-area-curve",layout:u,type:l,connectNulls:f,fill:"none",points:a})),m!=="none"&&y&&d.createElement(J,w({},c,{className:"recharts-area-curve",layout:u,type:l,connectNulls:f,fill:"none",points:t}))),d.createElement(Wa,{points:a,props:p,clipPathId:n}))}function ka(e){var a,t,{alpha:i,baseLine:n,points:o,strokeWidth:u}=e,l=(a=o[0])===null||a===void 0?void 0:a.y,m=(t=o[o.length-1])===null||t===void 0?void 0:t.y;if(!F(l)||!F(m))return null;var f=i*Math.abs(l-m),y=Math.max(...o.map(v=>v.x||0));return O(n)?y=Math.max(n,y):n&&Array.isArray(n)&&n.length&&(y=Math.max(...n.map(v=>v.x||0),y)),O(y)?d.createElement("rect",{x:0,y:l<m?l:l-f,width:y+(u?parseInt("".concat(u),10):1),height:Math.floor(f)}):null}function Na(e){var a,t,{alpha:i,baseLine:n,points:o,strokeWidth:u}=e,l=(a=o[0])===null||a===void 0?void 0:a.x,m=(t=o[o.length-1])===null||t===void 0?void 0:t.x;if(!F(l)||!F(m))return null;var f=i*Math.abs(l-m),y=Math.max(...o.map(v=>v.y||0));return O(n)?y=Math.max(n,y):n&&Array.isArray(n)&&n.length&&(y=Math.max(...n.map(v=>v.y||0),y)),O(y)?d.createElement("rect",{x:l<m?l:l-f,y:0,width:f,height:Math.floor(y+(u?parseInt("".concat(u),10):1))}):null}function La(e){var{alpha:a,layout:t,points:i,baseLine:n,strokeWidth:o}=e;return t==="vertical"?d.createElement(ka,{alpha:a,points:i,baseLine:n,strokeWidth:o}):d.createElement(Na,{alpha:a,points:i,baseLine:n,strokeWidth:o})}function Ra(e){var{needClip:a,clipPathId:t,props:i,previousPointsRef:n,previousBaselineRef:o}=e,{points:u,baseLine:l,isAnimationActive:m,animationBegin:f,animationDuration:y,animationEasing:v,onAnimationStart:p,onAnimationEnd:c}=i,s=d.useMemo(()=>({points:u,baseLine:l}),[u,l]),h=ea(s,"recharts-area-"),g=aa(),[x,j]=d.useState(!1),b=!x,A=d.useCallback(()=>{typeof c=="function"&&c(),j(!1)},[c]),I=d.useCallback(()=>{typeof p=="function"&&p(),j(!0)},[p]);if(g==null)return null;var P=n.current,S=o.current;return d.createElement(Ca,{showLabels:b,points:u},i.children,d.createElement(ta,{animationId:h,begin:f,duration:y,isActive:m,easing:v,onAnimationEnd:A,onAnimationStart:I,key:h},D=>{if(P){var W=P.length/u.length,L=D===1?u:u.map((E,N)=>{var R=Math.floor(N*W);if(P[R]){var G=P[R];return T(T({},E),{},{x:M(G.x,E.x,D),y:M(G.y,E.y,D)})}return E}),k;return O(l)?k=M(S,l,D):ra(l)||ia(l)?k=M(S,0,D):k=l.map((E,N)=>{var R=Math.floor(N*W);if(Array.isArray(S)&&S[R]){var G=S[R];return T(T({},E),{},{x:M(G.x,E.x,D),y:M(G.y,E.y,D)})}return E}),D>0&&(n.current=L,o.current=k),d.createElement(oe,{points:L,baseLine:k,needClip:a,clipPathId:t,props:i})}return D>0&&(n.current=u,o.current=l),d.createElement($,null,m&&d.createElement("defs",null,d.createElement("clipPath",{id:"animationClipPath-".concat(t)},d.createElement(La,{alpha:D,points:u,baseLine:l,layout:g,strokeWidth:i.strokeWidth}))),d.createElement($,{clipPath:"url(#animationClipPath-".concat(t,")")},d.createElement(oe,{points:u,baseLine:l,needClip:a,clipPathId:t,props:i})))}),d.createElement(na,{label:i.label}))}function wa(e){var{needClip:a,clipPathId:t,props:i}=e,n=d.useRef(null),o=d.useRef();return d.createElement(Ra,{needClip:a,clipPathId:t,props:i,previousPointsRef:n,previousBaselineRef:o})}class Ma extends d.PureComponent{render(){var{hide:a,dot:t,points:i,className:n,top:o,left:u,needClip:l,xAxisId:m,yAxisId:f,width:y,height:v,id:p,baseLine:c,zIndex:s}=this.props;if(a)return null;var h=Ze("recharts-area",n),g=p,{r:x,strokeWidth:j}=da(t),b=Qe(t),A=x*2+j,I=l?"url(#clipPath-".concat(b?"":"dots-").concat(g,")"):void 0;return d.createElement(Ue,{zIndex:s},d.createElement($,{className:h},l&&d.createElement("defs",null,d.createElement(Ne,{clipPathId:g,xAxisId:m,yAxisId:f}),!b&&d.createElement("clipPath",{id:"clipPath-dots-".concat(g)},d.createElement("rect",{x:u-A/2,y:o-A/2,width:y+A,height:v+A}))),d.createElement(wa,{needClip:l,clipPathId:g,props:this.props})),d.createElement(se,{points:i,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}),this.props.isRange&&Array.isArray(c)&&d.createElement(se,{points:c,mainColor:X(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:I}))}}var De={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:Ke.area};function Ta(e){var a,t=me(e,De),{activeDot:i,animationBegin:n,animationDuration:o,animationEasing:u,connectNulls:l,dot:m,fill:f,fillOpacity:y,hide:v,isAnimationActive:p,legendType:c,stroke:s,xAxisId:h,yAxisId:g}=t,x=Ie(t,Aa),j=Xe(),b=Ye(),{needClip:A}=ke(h,g),I=ve(),{points:P,isRange:S,baseLine:D}=(a=Je(R=>xa(R,e.id,I)))!==null&&a!==void 0?a:{},W=He();if(j!=="horizontal"&&j!=="vertical"||W==null||b!=="AreaChart"&&b!=="ComposedChart")return null;var{height:L,width:k,x:E,y:N}=W;return!P||!P.length?null:d.createElement(Ma,w({},x,{activeDot:i,animationBegin:n,animationDuration:o,animationEasing:u,baseLine:D,connectNulls:l,dot:m,fill:f,fillOpacity:y,height:L,hide:v,layout:j,isAnimationActive:p==="auto"?!oa.isSsr:p,isRange:S,legendType:c,needClip:A,points:P,stroke:s,width:k,left:E,top:N,xAxisId:h,yAxisId:g}))}var Oa=(e,a,t,i,n)=>{var o=t??a;if(O(o))return o;var u=e==="horizontal"?n:i,l=u.scale.domain();if(u.type==="number"){var m=Math.max(l[0],l[1]),f=Math.min(l[0],l[1]);return o==="dataMin"?f:o==="dataMax"||m<0?m:Math.max(Math.min(l[0],l[1]),0)}return o==="dataMin"?l[0]:o==="dataMax"?l[1]:l[0]};function Ga(e){var{areaSettings:{connectNulls:a,baseValue:t,dataKey:i},stackedData:n,layout:o,chartBaseValue:u,xAxis:l,yAxis:m,displayedData:f,dataStartIndex:y,xAxisTicks:v,yAxisTicks:p,bandSize:c}=e,s=n&&n.length,h=Oa(o,u,t,l,m),g=o==="horizontal",x=!1,j=f.map((A,I)=>{var P,S,D,W;if(s)W=n[y+I];else{var L=re(A,i);Array.isArray(L)?(W=L,x=!0):W=[h,L]}var k=(P=(S=W)===null||S===void 0?void 0:S[1])!==null&&P!==void 0?P:null,E=k==null||s&&!a&&re(A,i)==null;if(g){var N;return{x:ie({axis:l,ticks:v,bandSize:c,entry:A,index:I}),y:E?null:(N=m.scale.map(k))!==null&&N!==void 0?N:null,value:W,payload:A}}return{x:E?null:(D=l.scale.map(k))!==null&&D!==void 0?D:null,y:ie({axis:m,ticks:p,bandSize:c,entry:A,index:I}),value:W,payload:A}}),b;return s||x?b=j.map(A=>{var I,P=Array.isArray(A.value)?A.value[0]:null;if(g){var S;return{x:A.x,y:P!=null&&A.y!=null&&(S=m.scale.map(P))!==null&&S!==void 0?S:null,payload:A.payload}}return{x:P!=null&&(I=l.scale.map(P))!==null&&I!==void 0?I:null,y:A.y,payload:A.payload}}):b=g?m.scale.map(h):l.scale.map(h),{points:j,baseLine:b??0,isRange:x}}function Va(e){var a=me(e,De),t=ve();return d.createElement(ze,{id:a.id,type:"area"},i=>d.createElement(d.Fragment,null,d.createElement(Be,{legendPayload:Sa(a)}),d.createElement(Ea,{dataKey:a.dataKey,data:a.data,stroke:a.stroke,strokeWidth:a.strokeWidth,fill:a.fill,name:a.name,hide:a.hide,unit:a.unit,tooltipType:a.tooltipType,id:i}),d.createElement(qe,{type:"area",id:i,data:a.data,dataKey:a.dataKey,xAxisId:a.xAxisId,yAxisId:a.yAxisId,zAxisId:0,stackId:_e(a.stackId),hide:a.hide,barSize:void 0,baseValue:a.baseValue,isPanorama:t,connectNulls:a.connectNulls}),d.createElement(Ta,w({},a,{id:i}))))}var Q=d.memo(Va,Ve);Q.displayName="Area";var Ka=["axis"],ce=d.forwardRef((e,a)=>d.createElement(Le,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ka,tooltipPayloadSearcher:ca,categoricalChartProps:e,ref:a}));function za(e){if(!e||e.length===0)return null;const a=e.map(t=>{const i=We(t),n=Ce(t.StartDate,t.EndDate)||0,o=Se(new Date(t.StartDate));return{gameId:t.Id,date:o,mapName:t.MapName,playerCount:t.PlayerStats.length,winnerCamp:i,duration:n,modded:t.Modded}});return a.sort((t,i)=>{const n=o=>{const u=o.split("/");return u.length===3?new Date(parseInt(u[2]),parseInt(u[1])-1,parseInt(u[0])):new Date(o)};return n(i.date).getTime()-n(t.date).getTime()}),{totalGames:a.length,games:a,periodData:[]}}function Ba(){const{data:e,isLoading:a,error:t}=Ee(za);return{data:e,isLoading:a,error:t}}function C(e,a){return a[e==="Loup"?"Loup":e]||"#808080"}function de(e){return e==="Villageois"||e==="Chasseur"||e==="Alchimiste"||e==="Villageois Élite"||e==="Protecteur"||e==="Disciple"||e==="Inquisiteur"?"Villageois":e==="Loup"||e==="Louveteau"||e==="Traître"?"Loup":"Solo"}function et(){const{data:e,isLoading:a,error:t}=Ba(),i=Re(),[n,o]=d.useState("month"),u=d.useMemo(()=>{switch(n){case"month":return"par Mois";case"quarter":return"par Trimestre";case"year":return"par Année";default:return"par Session"}},[n]),l=d.useMemo(()=>{if(!e?.games)return new Map;const p=new Map;return e.games.forEach(c=>{if(!p.has(c.date)){const s=c.date.split("/");s.length===3?p.set(c.date,new Date(parseInt(s[2]),parseInt(s[1])-1,parseInt(s[0])).getTime()):p.set(c.date,new Date(c.date).getTime())}}),p},[e?.games]),m=d.useMemo(()=>{if(!e?.games)return[];const p={};return e.games.forEach(c=>{let s;const h=c.date.split("/");if(n==="month")if(h.length===3)s=`${h[1].padStart(2,"0")}/${h[2]}`;else{const x=new Date(c.date);s=`${String(x.getMonth()+1).padStart(2,"0")}/${x.getFullYear()}`}else if(n==="quarter")if(h.length===3){const x=parseInt(h[1],10);s=`T${Math.floor((x-1)/3)+1}/${h[2]}`}else{const x=new Date(c.date);s=`T${Math.floor(x.getMonth()/3)+1}/${x.getFullYear()}`}else n==="year"?h.length===3?s=`${h[2]}`:s=`${new Date(c.date).getFullYear()}`:s=c.date;p[s]||(p[s]={games:[],totalPlayers:0,totalDuration:0,campWins:{Villageois:0,Loup:0,Solo:0}}),p[s].games.push(c),p[s].totalPlayers+=c.playerCount,p[s].totalDuration+=c.duration;const g=de(c.winnerCamp);p[s].campWins[g]++}),Object.entries(p).map(([c,s])=>{const h=s.games.length,g=s.campWins.Villageois,x=s.campWins.Loup,j=s.campWins.Solo;return{period:c,totalGames:h,averagePlayers:h>0?Math.round(s.totalPlayers/h*10)/10:0,averageDuration:h>0?Math.round(s.totalDuration/h/60*10)/10:0,villageoisWins:g,loupWins:x,soloWins:j,villageoisWinRate:h>0?Math.round(g/h*1e3)/10:0,loupWinRate:h>0?Math.round(x/h*1e3)/10:0,soloWinRate:h>0?Math.round(j/h*1e3)/10:0}}).sort((c,s)=>{if(n==="month"){const[h,g]=c.period.split("/"),[x,j]=s.period.split("/"),b=new Date(parseInt(g),parseInt(h)-1,1),A=new Date(parseInt(j),parseInt(x)-1,1);return b.getTime()-A.getTime()}else if(n==="quarter"){const[h,g]=c.period.split("/"),[x,j]=s.period.split("/"),b=parseInt(h.replace(/\D/g,""),10)||1,A=parseInt(x.replace(/\D/g,""),10)||1,I=new Date(parseInt(g,10),(b-1)*3,1),P=new Date(parseInt(j,10),(A-1)*3,1);return I.getTime()-P.getTime()}else if(n==="year"){const h=parseInt(c.period,10),g=parseInt(s.period,10);return h-g}else{const h=l.get(c.period)||0,g=l.get(s.period)||0;return h-g}})},[e,n,l]),f=d.useMemo(()=>{if(!e?.games||e.games.length===0)return null;const p=e.games.length,c=e.games.reduce((j,b)=>j+b.playerCount,0),s=e.games.reduce((j,b)=>j+b.duration,0);let h=0,g=0,x=0;return e.games.forEach(j=>{const b=de(j.winnerCamp);b==="Villageois"?h++:b==="Loup"?g++:x++}),{totalGames:p,averagePlayers:Math.round(c/p*10)/10,averageDuration:Math.round(s/p/60),villageoisWinRate:Math.round(h/p*1e3)/10,loupWinRate:Math.round(g/p*1e3)/10,soloWinRate:Math.round(x/p*1e3)/10}},[e]),v=(p=>p<=15?{fontSize:12,angle:-45,height:80,interval:0}:p<=30?{fontSize:12,angle:-45,height:85,interval:1}:p<=50?{fontSize:12,angle:-60,height:95,interval:2}:{fontSize:12,angle:-75,height:105,interval:Math.floor(p/12)})(m.length);return a?r.jsx("div",{className:"donnees-attente",children:"Chargement de l'historique des parties..."}):t?r.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",t]}):e?r.jsxs("div",{className:"lycans-camps-container",children:[r.jsx("h2",{children:"Évolution des Parties"}),f&&r.jsxs("div",{className:"lycans-resume-conteneur",children:[r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Total Parties"}),r.jsx("p",{className:"lycans-stat-valeur",children:f.totalGames})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Joueurs / Partie"}),r.jsx("p",{className:"lycans-stat-valeur",children:f.averagePlayers})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Durée Moyenne"}),r.jsxs("p",{className:"lycans-stat-valeur",children:[f.averageDuration," min"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Villageois"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:C("Villageois",i)},children:[f.villageoisWinRate,"%"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Loups"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:C("Loup",i)},children:[f.loupWinRate,"%"]})]}),r.jsxs("div",{className:"lycans-stat-carte",children:[r.jsx("h3",{children:"Victoires Solo"}),r.jsxs("p",{className:"lycans-stat-valeur",style:{color:"#808080"},children:[f.soloWinRate,"%"]})]})]}),r.jsxs("div",{className:"lycans-filtres-conteneur",style:{marginBottom:"1rem"},children:[r.jsx("label",{style:{marginRight:"0.5rem",fontWeight:"bold"},children:"Grouper :"}),r.jsxs("select",{value:n,onChange:p=>o(p.target.value),className:"lycans-select",children:[r.jsx("option",{value:"session",children:"Par Session"}),r.jsx("option",{value:"month",children:"Par Mois"}),r.jsx("option",{value:"quarter",children:"Par Trimestre"}),r.jsx("option",{value:"year",children:"Par Année"})]})]}),r.jsxs("div",{className:"lycans-graphiques-groupe",children:[r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution des Victoires par Camp ",u]}),r.jsx(V,{title:`Évolution des Victoires par Camp ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(q,{width:"100%",height:"100%",children:r.jsxs(ua,{data:m,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(K,{strokeDasharray:"3 3"}),r.jsx(z,{dataKey:"period",angle:v.angle,textAnchor:"end",height:v.height,interval:v.interval,fontSize:v.fontSize}),r.jsx(B,{label:{value:"Taux de victoire (%)",angle:270,position:"left",style:{textAnchor:"middle"}},domain:[0,100]}),r.jsx(_,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{style:{color:C("Villageois",i)},children:["Villageois: ",s.villageoisWinRate,"% (",s.villageoisWins,")"]}),r.jsxs("div",{style:{color:C("Loup",i)},children:["Loups: ",s.loupWinRate,"% (",s.loupWins,")"]}),r.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWinRate,"% (",s.soloWins,")"]})]})}return null}}),r.jsx(ne,{}),r.jsx(H,{type:"monotone",dataKey:"villageoisWinRate",stroke:C("Villageois",i),strokeWidth:2,dot:{fill:C("Villageois",i),strokeWidth:2,r:4},name:"Villageois (%)"}),r.jsx(H,{type:"monotone",dataKey:"loupWinRate",stroke:C("Loup",i),strokeWidth:2,dot:{fill:C("Loup",i),strokeWidth:2,r:4},name:"Loups (%)"}),r.jsx(H,{type:"monotone",dataKey:"soloWinRate",stroke:"#808080",strokeWidth:2,dot:{fill:"#808080",strokeWidth:2,r:4},name:"Solo (%)"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Répartition des Victoires ",u]}),r.jsx(V,{title:`Répartition des Victoires ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(q,{width:"100%",height:"100%",children:r.jsxs(pa,{data:m,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(K,{strokeDasharray:"3 3"}),r.jsx(z,{dataKey:"period",angle:v.angle,textAnchor:"end",height:v.height,interval:v.interval,fontSize:v.fontSize}),r.jsx(B,{label:{value:"Nombre de victoires",angle:270,position:"left",style:{textAnchor:"middle"}},allowDecimals:!1}),r.jsx(_,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Total: ",s.totalGames," parties"]}),r.jsxs("div",{style:{color:C("Villageois",i)},children:["Villageois: ",s.villageoisWins]}),r.jsxs("div",{style:{color:C("Loup",i)},children:["Loups: ",s.loupWins]}),r.jsxs("div",{style:{color:"#808080"},children:["Solo: ",s.soloWins]})]})}return null}}),r.jsx(ne,{}),r.jsx(Z,{dataKey:"villageoisWins",stackId:"wins",fill:C("Villageois",i),name:"Villageois"}),r.jsx(Z,{dataKey:"loupWins",stackId:"wins",fill:C("Loup",i),name:"Loups"}),r.jsx(Z,{dataKey:"soloWins",stackId:"wins",fill:"#808080",name:"Solo"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution du Nombre de Joueurs ",u]}),r.jsx(V,{title:`Évolution du Nombre de Joueurs ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(q,{width:"100%",height:"100%",children:r.jsxs(ce,{data:m,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(K,{strokeDasharray:"3 3"}),r.jsx(z,{dataKey:"period",angle:v.angle,textAnchor:"end",height:v.height,interval:v.interval,fontSize:v.fontSize}),r.jsx(B,{label:{value:"Joueurs moyens",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(_,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{children:["Joueurs moyens: ",s.averagePlayers]})]})}return null}}),r.jsx(Q,{type:"monotone",dataKey:"averagePlayers",stroke:"var(--accent-secondary)",fill:"var(--accent-secondary)",fillOpacity:.3,name:"Joueurs moyens"})]})})})})]}),r.jsxs("div",{className:"lycans-graphique-section",children:[r.jsxs("h3",{children:["Évolution de la Durée des Parties ",u]}),r.jsx(V,{title:`Évolution de la Durée des Parties ${u}`,children:r.jsx("div",{style:{height:400},children:r.jsx(q,{width:"100%",height:"100%",children:r.jsxs(ce,{data:m,margin:{top:20,right:30,left:20,bottom:20},children:[r.jsx(K,{strokeDasharray:"3 3"}),r.jsx(z,{dataKey:"period",angle:v.angle,textAnchor:"end",height:v.height,interval:v.interval,fontSize:v.fontSize}),r.jsx(B,{label:{value:"Durée moyenne (min)",angle:270,position:"left",style:{textAnchor:"middle"}}}),r.jsx(_,{content:({active:p,payload:c})=>{if(p&&c&&c.length>0){const s=c[0].payload;return r.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[r.jsx("div",{children:r.jsx("strong",{children:s.period})}),r.jsxs("div",{children:["Parties: ",s.totalGames]}),r.jsxs("div",{children:["Durée moyenne: ",s.averageDuration," min"]})]})}return null}}),r.jsx(Q,{type:"monotone",dataKey:"averageDuration",stroke:"var(--chart-color-3)",fill:"var(--chart-color-3)",fillOpacity:.3,name:"Durée moyenne (min)"})]})})})})]})]})]}):r.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée d'historique disponible"})}export{et as GlobalGameHistoryChart};
