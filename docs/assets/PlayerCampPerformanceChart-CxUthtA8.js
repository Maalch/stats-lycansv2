import{r as m,u as me,j as i}from"./index-Uj4uAhiY.js";import{u as de}from"./baseStatsHook-g0IqiQBX.js";import{g as W}from"./gameUtils-BuNbDi0M.js";import{m as pe,p as $,a as ue}from"./api-BopyM-ip.js";import{S as J,u as fe,b as L,G as ye,d as ve,e as he,f as xe,g as ge,h as Pe,F as q,B as Z,C as z,X as M,Y as K,a as U}from"./FullscreenChart-6xRBJ4e6.js";import{m as E,u as be,n as je,o as Ae,S as Ce,p as H,q as we,t as Q,v as ee,w as Ie,x as Ee,y as ae,b as re,z as Se,A as Oe,B as Te,C as te,D as Re,d as ne,E as _e,G as Ne,i as Fe,L as R,F as O,H as D,I as X,J as De,K as ze,M as F,N as Me,O as ie,P as Ke,Q as ke,U as Ge,V as We,h as Le,W as Be,X as Ve,Y as $e,R as k,T as G}from"./CategoricalChart-CcaPf_JG.js";function se(a,e,r){return(e=Je(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function Je(a){var e=qe(a,"string");return typeof e=="symbol"?e:e+""}function qe(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}function Ze(a){var e=be();return m.useEffect(()=>(e(je(a)),()=>{e(Ae(a))}),[a,e]),null}class V extends m.Component{render(){return m.createElement(Ze,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:E.allowDuplicatedCategory,allowDataOverflow:E.allowDataOverflow,reversed:E.reversed,includeHidden:E.includeHidden})}}se(V,"displayName","ZAxis");se(V,"defaultProps",{zAxisId:0,range:E.range,scale:E.scale,type:E.type});var Ue=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},T.apply(null,arguments)}function Xe(a,e){if(a==null)return{};var r,t,s=Ye(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(t=0;t<n.length;t++)r=n[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function Ye(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function He(a){var{option:e,isActive:r}=a,t=Xe(a,Ue);return typeof e=="string"?m.createElement(J,T({option:m.createElement(Ce,T({type:e},t)),isActive:r,shapeType:"symbols"},t)):m.createElement(J,T({option:e,isActive:r,shapeType:"symbols"},t))}var Qe=(a,e,r,t,s,n,l)=>Q(a,"xAxis",e,l),ea=(a,e,r,t,s,n,l)=>ee(a,"xAxis",e,l),aa=(a,e,r,t,s,n,l)=>Q(a,"yAxis",r,l),ra=(a,e,r,t,s,n,l)=>ee(a,"yAxis",r,l),ta=(a,e,r,t)=>Ie(a,"zAxis",t,!1),na=(a,e,r,t,s)=>s,ia=(a,e,r,t,s,n)=>n,sa=(a,e,r,t,s,n,l)=>we(a,e,r,l),oa=H([Ee,na],(a,e)=>a.filter(r=>r.type==="scatter").find(r=>r.id===e)),la=H([sa,Qe,ea,aa,ra,ta,oa,ia],(a,e,r,t,s,n,l,u)=>{var{chartData:f,dataStartIndex:d,dataEndIndex:x}=a;if(l!=null){var v;if(l?.data!=null&&l.data.length>0?v=l.data:v=f?.slice(d,x+1),!(v==null||e==null||t==null||r==null||s==null||r?.length===0||s?.length===0))return ba({displayedData:v,xAxis:e,yAxis:t,zAxis:n,scatterSettings:l,xAxisTicks:r,yAxisTicks:s,cells:u})}}),ca=["onMouseEnter","onClick","onMouseLeave"],ma=["id"],da=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function B(a,e){if(a==null)return{};var r,t,s=pa(a,e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(a);for(t=0;t<n.length;t++)r=n[t],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(a,r)&&(s[r]=a[r])}return s}function pa(a,e){if(a==null)return{};var r={};for(var t in a)if({}.hasOwnProperty.call(a,t)){if(e.indexOf(t)!==-1)continue;r[t]=a[t]}return r}function S(){return S=Object.assign?Object.assign.bind():function(a){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var t in r)({}).hasOwnProperty.call(r,t)&&(a[t]=r[t])}return a},S.apply(null,arguments)}function Y(a,e){var r=Object.keys(a);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(a);e&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),r.push.apply(r,t)}return r}function C(a){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y(Object(r),!0).forEach(function(t){ua(a,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach(function(t){Object.defineProperty(a,t,Object.getOwnPropertyDescriptor(r,t))})}return a}function ua(a,e,r){return(e=fa(e))in a?Object.defineProperty(a,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[e]=r,a}function fa(a){var e=ya(a,"string");return typeof e=="symbol"?e:e+""}function ya(a,e){if(typeof a!="object"||!a)return a;var r=a[Symbol.toPrimitive];if(r!==void 0){var t=r.call(a,e);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(a)}var va=a=>{var{dataKey:e,name:r,fill:t,legendType:s,hide:n}=a;return[{inactive:n,dataKey:e,type:s,color:t,value:te(r,e),payload:a}]};function ha(a){var{points:e,props:r}=a,{line:t,lineType:s,lineJointType:n}=r;if(!t)return null;var l=ie(r),u=Le(t,!1),f,d;if(s==="joint")f=e.map(y=>({x:y.cx,y:y.cy}));else if(s==="fitting"){var{xmin:x,xmax:v,a:b,b:j}=Be(e),g=y=>b*y+j;f=[{x,y:g(x)},{x:v,y:g(v)}]}var A=C(C(C({},l),{},{fill:"none",stroke:l&&l.fill},u),{},{points:f});return m.isValidElement(t)?d=m.cloneElement(t,A):typeof t=="function"?d=t(A):d=m.createElement(Ve,S({},A,{type:n})),m.createElement(R,{className:"recharts-scatter-line",key:"recharts-scatter-line"},d)}function oe(a){var{points:e,showLabels:r,allOtherScatterProps:t}=a,{shape:s,activeShape:n,dataKey:l}=t,u=ne(Me),{onMouseEnter:f,onClick:d,onMouseLeave:x}=t,v=B(t,ca),b=he(f,t.dataKey),j=xe(x),g=ge(d,t.dataKey);if(e==null)return null;var{id:A}=t,y=B(t,ma),o=ie(y);return m.createElement(m.Fragment,null,m.createElement(ha,{points:e,props:y}),e.map((c,p)=>{var w=n&&u===String(p),I=w?n:s,P=C(C(C({key:"symbol-".concat(p)},o),c),{},{[ke]:p,[Ke]:String(l)});return m.createElement(R,S({className:"recharts-scatter-symbol"},Ge(v,c,p),{onMouseEnter:b(c,p),onMouseLeave:j(c,p),onClick:g(c,p),key:"symbol-".concat(c?.cx,"-").concat(c?.cy,"-").concat(c?.size,"-").concat(p)}),m.createElement(He,S({option:I,isActive:w},P)))}),r&&We.renderCallByParent(y,e))}function xa(a){var{previousPointsRef:e,props:r}=a,{points:t,isAnimationActive:s,animationBegin:n,animationDuration:l,animationEasing:u}=r,f=e.current,d=De(r,"recharts-scatter-"),[x,v]=m.useState(!1),b=m.useCallback(()=>{v(!1)},[]),j=m.useCallback(()=>{v(!0)},[]);return m.createElement(ze,{begin:n,duration:l,isActive:s,easing:u,onAnimationEnd:b,onAnimationStart:j,key:d},g=>{var A=g===1?t:t.map((y,o)=>{var c=f&&f[o];if(c){var p=F(c.cx,y.cx),w=F(c.cy,y.cy),I=F(c.size,y.size);return C(C({},y),{},{cx:p(g),cy:w(g),size:I(g)})}var P=F(0,y.size);return C(C({},y),{},{size:P(g)})});return g>0&&(e.current=A),m.createElement(R,null,m.createElement(oe,{points:A,allOtherScatterProps:r,showLabels:!x}))})}function ga(a){var{points:e,isAnimationActive:r}=a,t=m.useRef(null),s=t.current;return r&&e&&e.length&&(!s||s!==e)?m.createElement(xa,{props:a,previousPointsRef:t}):m.createElement(oe,{points:e,allOtherScatterProps:a,showLabels:!0})}function Pa(a){var{dataKey:e,points:r,stroke:t,strokeWidth:s,fill:n,name:l,hide:u,tooltipType:f}=a;return{dataDefinedOnItem:r?.map(d=>d.tooltipPayload),positions:r?.map(d=>d.tooltipPosition),settings:{stroke:t,strokeWidth:s,fill:n,nameKey:void 0,dataKey:e,name:te(l,e),hide:u,type:f,color:n,unit:""}}}function ba(a){var{displayedData:e,xAxis:r,yAxis:t,zAxis:s,scatterSettings:n,xAxisTicks:l,yAxisTicks:u,cells:f}=a,d=O(r.dataKey)?n.dataKey:r.dataKey,x=O(t.dataKey)?n.dataKey:t.dataKey,v=s&&s.dataKey,b=s?s.range:V.defaultProps.range,j=b&&b[0],g=r.scale.bandwidth?r.scale.bandwidth():0,A=t.scale.bandwidth?t.scale.bandwidth():0;return e.map((y,o)=>{var c=D(y,d),p=D(y,x),w=!O(v)&&D(y,v)||"-",I=[{name:O(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:c,payload:y,dataKey:d,type:n.tooltipType},{name:O(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:p,payload:y,dataKey:x,type:n.tooltipType}];w!=="-"&&I.push({name:s.name||s.dataKey,unit:s.unit||"",value:w,payload:y,dataKey:v,type:n.tooltipType});var P=X({axis:r,ticks:l,bandSize:g,entry:y,index:o,dataKey:d}),h=X({axis:t,ticks:u,bandSize:A,entry:y,index:o,dataKey:x}),_=w!=="-"?s.scale(w):j,N=Math.sqrt(Math.max(_,0)/Math.PI);return C(C({},y),{},{cx:P,cy:h,x:P-N,y:h-N,width:2*N,height:2*N,size:_,node:{x:c,y:p,z:w},tooltipPayload:I,tooltipPosition:{x:P,y:h},payload:y},f&&f[o]&&f[o].props)})}var ja=(a,e,r)=>({x:a.cx,y:a.cy,value:r==="x"?+a.node.x:+a.node.y,errorVal:D(a,e)});function Aa(a){var{hide:e,points:r,className:t,needClip:s,xAxisId:n,yAxisId:l,id:u,children:f}=a;if(e)return null;var d=Fe("recharts-scatter",t),x=u;return m.createElement(R,{className:d,clipPath:s?"url(#clipPath-".concat(x,")"):null,id:u},s&&m.createElement("defs",null,m.createElement(ye,{clipPathId:x,xAxisId:n,yAxisId:l})),m.createElement(ve,{xAxisId:n,yAxisId:l,data:r,dataPointFormatter:ja,errorBarOffset:0},f),m.createElement(R,{key:"recharts-scatter-symbols"},m.createElement(ga,a)))}var le={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Ne.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function Ca(a){var e=ae(a,le),{animationBegin:r,animationDuration:t,animationEasing:s,hide:n,isAnimationActive:l,legendType:u,lineJointType:f,lineType:d,shape:x,xAxisId:v,yAxisId:b,zAxisId:j}=e,g=B(e,da),{needClip:A}=fe(v,b),y=m.useMemo(()=>Re(a.children,L),[a.children]),o=re(),c=ne(p=>la(p,v,b,j,a.id,y,o));return A==null?null:m.createElement(m.Fragment,null,m.createElement(_e,{fn:Pa,args:C(C({},a),{},{points:c})}),m.createElement(Aa,S({},g,{xAxisId:v,yAxisId:b,zAxisId:j,lineType:d,lineJointType:f,legendType:u,shape:x,hide:n,isAnimationActive:l,animationBegin:r,animationDuration:t,animationEasing:s,points:c,needClip:A})))}function ce(a){var e=ae(a,le),r=re();return m.createElement(Se,{id:e.id,type:"scatter"},t=>m.createElement(m.Fragment,null,m.createElement(Oe,{legendPayload:va(e)}),m.createElement(Te,{type:"scatter",id:t,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:e.zAxisId,dataKey:e.dataKey,hide:e.hide,name:e.name,tooltipType:e.tooltipType,isPanorama:r}),m.createElement(Ca,S({},e,{id:t}))))}ce.displayName="Scatter";var wa=["item"],Ia=m.forwardRef((a,e)=>m.createElement(Pe,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wa,tooltipPayloadSearcher:$e,categoricalChartProps:a,ref:e}));function Ea(a){const e={};return a.forEach(r=>{const t=new Set;r.PlayerStats.forEach(n=>{const l=W(n.MainRoleInitial);t.add(l)}),t.forEach(n=>{e[n]||(e[n]={totalGames:0,wins:0,winRate:0,players:{}}),e[n].totalGames++});const s=new Set;r.PlayerStats.forEach(n=>{if(n.Victorious){const l=W(n.MainRoleInitial);s.add(l)}}),s.forEach(n=>{e[n]&&e[n].wins++})}),e}function Sa(a,e){const r={};return a.forEach(t=>{t.PlayerStats.forEach(s=>{const n=s.Username.trim();if(!n)return;const l=W(s.MainRoleInitial);e[l].players[n]||(e[l].players[n]={games:0,wins:0,winRate:0}),e[l].players[n].games++,s.Victorious&&e[l].players[n].wins++,r[n]||(r[n]={totalGames:0,camps:{}}),r[n].camps[l]||(r[n].camps[l]={games:0,wins:0,winRate:0,performance:0}),r[n].totalGames++,r[n].camps[l].games++,s.Victorious&&r[n].camps[l].wins++})}),r}function Oa(a){Object.keys(a).forEach(e=>{a[e].totalGames>0&&(a[e].winRate=parseFloat((a[e].wins/a[e].totalGames*100).toFixed(2))),Object.keys(a[e].players).forEach(r=>{const t=a[e].players[r];t.games>0&&(t.winRate=parseFloat((t.wins/t.games*100).toFixed(2)))})})}function Ta(a,e){Object.keys(a).forEach(r=>{Object.keys(a[r].camps).forEach(t=>{const s=a[r].camps[t];s.games>0&&(s.winRate=parseFloat((s.wins/s.games*100).toFixed(2)),e[t]&&e[t].winRate&&(s.performance=parseFloat((s.winRate-e[t].winRate).toFixed(2))))})})}function Ra(a,e,r){const t=[];return Object.keys(a).forEach(n=>{const l=a[n],u=[];Object.keys(l.camps).forEach(f=>{const d=l.camps[f];d.games>=r&&u.push({camp:f,games:d.games,wins:d.wins,winRate:d.winRate.toFixed(2),campAvgWinRate:e[f].winRate.toFixed(2),performance:d.performance.toFixed(2)})}),u.sort((f,d)=>parseFloat(d.performance)-parseFloat(f.performance)),u.length>0&&t.push({player:n,totalGames:l.totalGames,campPerformance:u})}),t.sort((n,l)=>l.totalGames-n.totalGames),{campAverages:Object.keys(e).map(n=>({camp:n,totalGames:e[n].totalGames,wins:e[n].wins,winRate:e[n].winRate.toFixed(2)})),playerPerformanceArray:t}}function _a(a){if(a.length===0)return null;const e=Ea(a),r=Sa(a,e);Oa(e),Ta(r,e);const t=3,{campAverages:s,playerPerformanceArray:n}=Ra(r,e,t);return{campAverages:s,playerPerformance:n,minGamesRequired:t}}function Na(){const{data:a,isLoading:e,error:r}=de(_a);return{playerCampPerformance:a,isLoading:e,error:r}}function Ga(){const{navigateToGameDetails:a,navigationState:e,updateNavigationState:r}=me(),[t,s]=m.useState(e.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[n,l]=m.useState(e.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[u,f]=m.useState(e.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:d,isLoading:x,error:v}=Na();m.useEffect(()=>{e.campPerformanceState||r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:u}})},[t,n,u,e.campPerformanceState,r]);const b=m.useMemo(()=>d?.campAverages?d.campAverages.map(o=>o.camp).sort():[],[d]),{campPlayerData:j,topPerformersData:g}=m.useMemo(()=>{if(!d?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:o}=d,c=[],p=[];for(const P of o)for(const h of P.campPerformance)if(h.games>=u){const _={player:P.player,camp:h.camp,games:h.games,wins:h.wins,winRate:h.winRate,performance:h.performance,winRateNum:parseFloat(h.winRate),performanceNum:parseFloat(h.performance),campAvgWinRateNum:parseFloat(h.campAvgWinRate)};p.push(_),h.camp===n&&c.push({player:P.player,...h,winRateNum:parseFloat(h.winRate),performanceNum:parseFloat(h.performance),campAvgWinRateNum:parseFloat(h.campAvgWinRate)})}const w=c.sort((P,h)=>h.performanceNum-P.performanceNum),I=p.sort((P,h)=>h.performanceNum-P.performanceNum).slice(0,20);return{campPlayerData:w,topPerformersData:I}},[d,n,u]),A=o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:n,campFilterMode:"wins-only",excludeTraitor:n==="Traître"},fromComponent:`Performance des Joueurs - ${n}`})},y=o=>{o&&o.player&&o.camp&&a({selectedPlayer:o.player,campFilter:{selectedCamp:o.camp,campFilterMode:"wins-only",excludeTraitor:o.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${u} parties dans ce camp)`})};return x?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):v?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",v]}):d?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),i.jsxs("select",{id:"view-mode-select",value:t,onChange:o=>{const c=o.target.value;s(c),r({campPerformanceState:{selectedCampPerformanceView:c,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:u}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[i.jsx("option",{value:"player-performance",children:"Camp"}),i.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),t==="player-performance"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:n,onChange:o=>{const c=o.target.value;l(c),r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:c,selectedCampPerformanceMinGames:u}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:b.map(o=>i.jsx("option",{value:o,children:o},o))})]}),(t==="player-performance"||t==="top-performers")&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:u,onChange:o=>{const c=Number(o.target.value);f(c),r({campPerformanceState:{selectedCampPerformanceView:t,selectedCampPerformanceCamp:n,selectedCampPerformanceMinGames:c}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:pe.map(o=>i.jsx("option",{value:o,children:o},o))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:d.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:d.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[t==="player-performance"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Performance des Joueurs - ",n]}),i.jsx(q,{title:`Performance des Joueurs - ${n}`,children:i.jsx("div",{style:{height:500},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(Z,{data:j.slice(0,15),margin:{top:20,right:30,left:20,bottom:100},children:[i.jsx(z,{strokeDasharray:"3 3"}),i.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),i.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const p=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Victoires: ",p.wins]}),i.jsxs("div",{children:["Taux personnel: ",p.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",p.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",p.performance>0?"+":"",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(U,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:A,children:j.slice(0,15).map((o,c)=>i.jsx(L,{fill:$[o.player]||(o.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)")},`cell-${c}`))})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Relation Parties Jouées vs Performance - ",n]}),i.jsx(q,{title:`Relation Parties Jouées vs Performance - ${n}`,children:i.jsx("div",{style:{height:400},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(Ia,{data:j,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(z,{strokeDasharray:"3 3"}),i.jsx(M,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(K,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const p=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Performance: ",p.performance>0?"+":"",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(ce,{dataKey:"performanceNum",name:"Performance",onClick:o=>{o&&o.player&&a({selectedPlayer:o.player,campFilter:{selectedCamp:n,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${n}`})},shape:o=>i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:o.cx,cy:o.cy,r:12,fill:$[o.payload?.player]||"var(--accent-primary)",stroke:"#222",strokeWidth:1}),i.jsx("text",{x:o.cx,y:o.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:"10",fontWeight:"bold",pointerEvents:"none",children:o.payload?.player?.charAt(0).toUpperCase()})]})})]})})})})]})]}),t==="top-performers"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances (Min. ${u} parties dans ce camp)`}),i.jsx("div",{style:{height:600},children:i.jsx(k,{width:"100%",height:"100%",children:i.jsxs(Z,{data:g,margin:{top:20,right:30,left:20,bottom:100},children:[i.jsx(z,{strokeDasharray:"3 3"}),i.jsx(M,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:10}),i.jsx(K,{label:{value:"Performance vs moyenne (%)",angle:-90,position:"insideLeft"}}),i.jsx(G,{content:({active:o,payload:c})=>{if(o&&c&&c.length>0){const p=c[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:p.player})}),i.jsxs("div",{children:["Camp: ",p.camp]}),i.jsxs("div",{children:["Parties: ",p.games]}),i.jsxs("div",{children:["Taux personnel: ",p.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",p.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(U,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:y,children:g.map((o,c)=>i.jsx(L,{fill:ue[o.camp]||`var(--chart-color-${c%6+1})`},`cell-${c}`))})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ga as PlayerCampPerformanceChart};
