import{r as n}from"./index-BFcVbxiC.js";import{aJ as P,u as q,aK as H,aL as Q,aj as N,ax as ee,p as W,w as te,t as Z,v as F,aM as ae,x as re,S as ie,B as J,D as ne,aa as se,b as oe,d as $,A as le,G as ce,C as de,P as ue,i as pe,o as S,L as K,I as j,J as B,K as ve,M as me,N as D,h as z,m as ye,ad as fe,ae as he,af as xe,ag as Ae,ah as ge,ai as be,aN as Ie,O as Pe,Q as Se}from"./CategoricalChart-jlol99yu.js";import{d as Ee,u as _e,G as Oe,e as Te,L as Ke,f as Ce}from"./BarChart-laXCa6Im.js";function G(e,t,a){return(t=we(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function we(e){var t=De(e,"string");return typeof t=="symbol"?t:t+""}function De(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function je(e){var t=q();return n.useEffect(()=>(t(H(e)),()=>{t(Q(e))}),[e,t]),null}class M extends n.Component{render(){return n.createElement(je,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:P.allowDuplicatedCategory,allowDataOverflow:P.allowDataOverflow,reversed:P.reversed,includeHidden:P.includeHidden})}}G(M,"displayName","ZAxis");G(M,"defaultProps",{zAxisId:0,range:P.range,scale:P.scale,type:P.type});var ze=["option","isActive"];function T(){return T=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},T.apply(null,arguments)}function Me(e,t){if(e==null)return{};var a,r,i=Le(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Le(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ke(e){var{option:t,isActive:a}=e,r=Me(e,ze);return typeof t=="string"?n.createElement(N,T({option:n.createElement(ee,T({type:t},r)),isActive:a,shapeType:"symbols"},r)):n.createElement(N,T({option:t,isActive:a,shapeType:"symbols"},r))}var Ne=(e,t,a,r,i,s,l)=>Z(e,"xAxis",t,l),Be=(e,t,a,r,i,s,l)=>F(e,"xAxis",t,l),Re=(e,t,a,r,i,s,l)=>Z(e,"yAxis",a,l),We=(e,t,a,r,i,s,l)=>F(e,"yAxis",a,l),Ze=(e,t,a,r)=>ae(e,"zAxis",r,!1),Fe=(e,t,a,r,i)=>i,Je=(e,t,a,r,i,s)=>s,$e=(e,t,a,r,i,s,l)=>te(e,t,a,l),Ge=W([re,Fe],(e,t)=>{if(e.some(a=>a.type==="scatter"&&t.dataKey===a.dataKey&&t.data===a.data))return t}),Ue=W([$e,Ne,Be,Re,We,Ze,Ge,Je],(e,t,a,r,i,s,l,m)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:y}=e;if(l!=null){var d;if(l?.data!=null&&l.data.length>0?d=l.data:d=c?.slice(u,y+1),!(d==null||t==null||r==null||a==null||i==null||a?.length===0||i?.length===0))return it({displayedData:d,xAxis:t,yAxis:r,zAxis:s,scatterSettings:l,xAxisTicks:a,yAxisTicks:i,cells:m})}}),Ve=["onMouseEnter","onClick","onMouseLeave"],Xe=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function U(e,t){if(e==null)return{};var a,r,i=Ye(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)a=s[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}function Ye(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function E(){return E=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},E.apply(null,arguments)}function R(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),a.push.apply(a,r)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?R(Object(a),!0).forEach(function(r){L(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):R(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function L(e,t,a){return(t=qe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function qe(e){var t=He(e,"string");return typeof t=="symbol"?t:t+""}function He(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qe=e=>{var{dataKey:t,name:a,fill:r,legendType:i,hide:s}=e;return[{inactive:s,dataKey:t,type:i,color:r,value:J(a,t),payload:e}]};function et(e){var{points:t,props:a}=e,{line:r,lineType:i,lineJointType:s}=a;if(!r)return null;var l=z(a,!1),m=z(r,!1),c,u;if(i==="joint")c=t.map(o=>({x:o.cx,y:o.cy}));else if(i==="fitting"){var{xmin:y,xmax:d,a:h,b:g}=Ie(t),b=o=>h*o+g;c=[{x:y,y:b(y)},{x:d,y:b(d)}]}var v=f(f(f({},l),{},{fill:"none",stroke:l&&l.fill},m),{},{points:c});return n.isValidElement(r)?u=n.cloneElement(r,v):typeof r=="function"?u=r(v):u=n.createElement(Pe,E({},v,{type:s})),n.createElement(K,{className:"recharts-scatter-line",key:"recharts-scatter-line"},u)}function V(e){var{points:t,showLabels:a,allOtherScatterProps:r}=e,{shape:i,activeShape:s,dataKey:l}=r,m=z(r,!1),c=$(ye),{onMouseEnter:u,onClick:y,onMouseLeave:d}=r,h=U(r,Ve),g=fe(u,r.dataKey),b=he(d),v=xe(y,r.dataKey);return t==null?null:n.createElement(n.Fragment,null,n.createElement(et,{points:t,props:r}),t.map((o,p)=>{var I=s&&c===String(p),x=I?s:i,A=f(f(f({key:"symbol-".concat(p)},m),o),{},{[ge]:p,[Ae]:String(l)});return n.createElement(K,E({className:"recharts-scatter-symbol"},be(h,o,p),{onMouseEnter:g(o,p),onMouseLeave:b(o,p),onClick:v(o,p),key:"symbol-".concat(o?.cx,"-").concat(o?.cy,"-").concat(o?.size,"-").concat(p)}),n.createElement(ke,E({option:x,isActive:I},A)))}),a&&Ke.renderCallByParent(r,t))}function tt(e){var{previousPointsRef:t,props:a}=e,{points:r,isAnimationActive:i,animationBegin:s,animationDuration:l,animationEasing:m}=a,c=t.current,u=ve(a,"recharts-scatter-"),[y,d]=n.useState(!1),h=n.useCallback(()=>{d(!1)},[]),g=n.useCallback(()=>{d(!0)},[]);return n.createElement(me,{begin:s,duration:l,isActive:i,easing:m,from:{t:0},to:{t:1},onAnimationEnd:h,onAnimationStart:g,key:u},b=>{var{t:v}=b,o=v===1?r:r.map((p,I)=>{var x=c&&c[I];if(x){var A=D(x.cx,p.cx),C=D(x.cy,p.cy),_=D(x.size,p.size);return f(f({},p),{},{cx:A(v),cy:C(v),size:_(v)})}var O=D(0,p.size);return f(f({},p),{},{size:O(v)})});return v>0&&(t.current=o),n.createElement(K,null,n.createElement(V,{points:o,allOtherScatterProps:a,showLabels:!y}))})}function at(e){var{points:t,isAnimationActive:a}=e,r=n.useRef(null),i=r.current;return a&&t&&t.length&&(!i||i!==t)?n.createElement(tt,{props:e,previousPointsRef:r}):n.createElement(V,{points:t,allOtherScatterProps:e,showLabels:!0})}function rt(e){var{dataKey:t,points:a,stroke:r,strokeWidth:i,fill:s,name:l,hide:m,tooltipType:c}=e;return{dataDefinedOnItem:a?.map(u=>u.tooltipPayload),positions:a?.map(u=>u.tooltipPosition),settings:{stroke:r,strokeWidth:i,fill:s,nameKey:void 0,dataKey:t,name:J(l,t),hide:m,type:c,color:s,unit:""}}}function it(e){var{displayedData:t,xAxis:a,yAxis:r,zAxis:i,scatterSettings:s,xAxisTicks:l,yAxisTicks:m,cells:c}=e,u=S(a.dataKey)?s.dataKey:a.dataKey,y=S(r.dataKey)?s.dataKey:r.dataKey,d=i&&i.dataKey,h=i?i.range:M.defaultProps.range,g=h&&h[0],b=a.scale.bandwidth?a.scale.bandwidth():0,v=r.scale.bandwidth?r.scale.bandwidth():0;return t.map((o,p)=>{var I=j(o,u),x=j(o,y),A=!S(d)&&j(o,d)||"-",C=[{name:S(a.dataKey)?s.name:a.name||a.dataKey,unit:a.unit||"",value:I,payload:o,dataKey:u,type:s.tooltipType},{name:S(r.dataKey)?s.name:r.name||r.dataKey,unit:r.unit||"",value:x,payload:o,dataKey:y,type:s.tooltipType}];A!=="-"&&C.push({name:i.name||i.dataKey,unit:i.unit||"",value:A,payload:o,dataKey:d,type:s.tooltipType});var _=B({axis:a,ticks:l,bandSize:b,entry:o,index:p,dataKey:u}),O=B({axis:r,ticks:m,bandSize:v,entry:o,index:p,dataKey:y}),k=A!=="-"?i.scale(A):g,w=Math.sqrt(Math.max(k,0)/Math.PI);return f(f({},o),{},{cx:_,cy:O,x:_-w,y:O-w,width:2*w,height:2*w,size:k,node:{x:I,y:x,z:A},tooltipPayload:C,tooltipPosition:{x:_,y:O},payload:o},c&&c[p]&&c[p].props)})}var nt=(e,t,a)=>({x:e.cx,y:e.cy,value:a==="x"?+e.node.x:+e.node.y,errorVal:j(e,t)});function st(e){var t=n.useRef(ue("recharts-scatter-")),{hide:a,points:r,className:i,needClip:s,xAxisId:l,yAxisId:m,id:c,children:u}=e;if(a)return null;var y=pe("recharts-scatter",i),d=S(c)?t.current:c;return n.createElement(K,{className:y,clipPath:s?"url(#clipPath-".concat(d,")"):null},s&&n.createElement("defs",null,n.createElement(Oe,{clipPathId:d,xAxisId:l,yAxisId:m})),n.createElement(Te,{xAxisId:l,yAxisId:m,data:r,dataPointFormatter:nt,errorBarOffset:0},u),n.createElement(K,{key:"recharts-scatter-symbols"},n.createElement(at,e)))}var X={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!ce.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function ot(e){var t=ne(e,X),{animationBegin:a,animationDuration:r,animationEasing:i,hide:s,isAnimationActive:l,legendType:m,lineJointType:c,lineType:u,shape:y,xAxisId:d,yAxisId:h,zAxisId:g}=t,b=U(t,Xe),{needClip:v}=_e(d,h),o=n.useMemo(()=>se(e.children,de),[e.children]),p=n.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),I=oe(),x=$(A=>Ue(A,d,h,g,p,o,I));return v==null?null:n.createElement(n.Fragment,null,n.createElement(le,{fn:rt,args:f(f({},e),{},{points:x})}),n.createElement(st,E({},b,{xAxisId:d,yAxisId:h,zAxisId:g,lineType:u,lineJointType:c,legendType:m,shape:y,hide:s,isAnimationActive:l,animationBegin:a,animationDuration:r,animationEasing:i,points:x,needClip:v})))}class Y extends n.Component{render(){return n.createElement(Ee,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},n.createElement(ie,{legendPayload:Qe(this.props)}),n.createElement(ot,this.props))}}L(Y,"displayName","Scatter");L(Y,"defaultProps",X);var lt=["item"],pt=n.forwardRef((e,t)=>n.createElement(Ce,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:lt,tooltipPayloadSearcher:Se,categoricalChartProps:e,ref:t}));export{pt as S,M as Z,Y as a};
