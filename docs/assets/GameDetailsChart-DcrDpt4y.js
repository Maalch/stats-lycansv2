import{r as I,j as e,u as J}from"./index-qcnvDDF3.js";import{b as z}from"./baseStatsHook-br_xh1LJ.js";import{b as N,a as V,g as k}from"./gameUtils-BuNbDi0M.js";import{a as W,b as Y}from"./api-B4NWc1Vf.js";function _(a,n){if(!a)return null;try{const s=new URL(a);let t="",r=0;if(s.hostname==="youtu.be"){t=s.pathname.slice(1);const l=s.searchParams.get("t");l&&(r=parseInt(l,10)||0)}else if(s.hostname==="www.youtube.com"||s.hostname==="youtube.com"){t=s.searchParams.get("v")||"";const l=s.searchParams.get("t");l&&(r=parseInt(l,10)||0)}if(!t)return null;const o=`https://www.youtube.com/embed/${t}?start=${r}`;if(n)try{const l=new URL(n);let u=0;if(l.hostname==="youtu.be"){const c=l.searchParams.get("t");c&&(u=parseInt(c,10)||0)}else if(l.hostname==="www.youtube.com"||l.hostname==="youtube.com"){const c=l.searchParams.get("t");c&&(u=parseInt(c,10)||0)}if(u>r)return`${o}&end=${u}`}catch(l){console.warn("Failed to parse end URL:",n,l)}return o}catch(s){return console.warn("Failed to create YouTube embed URL:",a,s),null}}function K(a,n){if(!a||!n)return null;try{const s=new Date(a),t=new Date(n);if(isNaN(s.getTime())||isNaN(t.getTime()))return console.warn("Invalid date format:",a,n),null;const r=t.getTime()-s.getTime();return r>0?Math.round(r/1e3):null}catch(s){return console.warn("Failed to calculate game duration:",a,n,s),null}}function B(a,n,s=!1){const t=n.PlayerStats.find(o=>o.Username.toLowerCase()===a.toLowerCase());if(!t)return"Villageois";const r=N(t.MainRoleInitial);return r==="Tra√Ætre"?s?"Tra√Ætre":"Loup":r}function Q(a,n,s){const t=a.toLowerCase(),r=s.PlayerStats.find(l=>l.Username.toLowerCase()===t);return r?N(r.MainRoleInitial)===n:!1}function X(a,n,s){const t=a.filter(r=>r.PlayerStats.some(o=>o.Username.toLowerCase()===n.toLowerCase()));return!s||s==="all-assignments"?t:s==="wins-only"?t.filter(r=>r.PlayerStats.some(o=>o.Username.toLowerCase()===n.toLowerCase()&&o.Victorious)):t}function Z(a,n){return a.filter(s=>s.DisplayedId===n)}function ee(a,n){return a.filter(s=>n.includes(s.DisplayedId))}function ae(a,n){return a.filter(s=>{const r=new Date(s.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});if(n.includes("/")&&n.split("/").length===2){const[o,l]=n.split("/"),u=r.split("/");if(u.length===3){const[,c,m]=u;return c===o&&m===l}}else return r===n;return!1})}function se(a,n){return a.filter(s=>{const t=s.HarvestGoal,r=s.HarvestDone;if(t==null||r===null||r===void 0||t===0)return!1;const o=r/t*100;switch(n){case"0-25%":return o>=0&&o<=25;case"26-50%":return o>25&&o<=50;case"51-75%":return o>50&&o<=75;case"76-99%":return o>75&&o<=99;case"100%":return o>=100;default:return!0}})}function te(a,n){return a.filter(s=>{if(!s.EndTiming)return!1;const t=s.EndTiming.match(/(?:Nuit|Jour)\s+(\d+)/);return t?parseInt(t[1],10)===n:!1})}function ne(a,n,s){const{selectedCamp:t,campFilterMode:r,_smallCamps:o,excludeTraitor:l}=n;return a.filter(u=>{if(s){if(t==="Autres"&&o)return o.some(y=>Q(s,y,u))?r==="wins-only"?u.PlayerStats.find(d=>d.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1;const c=B(s,u,l);let m=!1;return t==="Loup"&&l?m=c==="Loup"&&!u.PlayerStats.some(p=>p.Username.toLowerCase()===s.toLowerCase()&&p.MainRoleInitial==="Tra√Ætre"):m=c===t,m?r==="wins-only"?u.PlayerStats.find(y=>y.Username.toLowerCase()===s.toLowerCase())?.Victorious===!0:!0:!1}else if(r==="wins-only"){const c=V(u);return t==="Autres"&&o?o.includes(c):c===t}else return t==="Autres"&&o?o.some(c=>u.PlayerStats.some(m=>N(m.MainRoleInitial)===c)):u.PlayerStats.some(c=>N(c.MainRoleInitial)===t)})}function re(a,n,s){const{selectedPlayers:t,playersFilterMode:r,winnerPlayer:o}=n;return a.filter(l=>{const u=l.PlayerStats.map(p=>p.Username.toLowerCase());if(!t.every(p=>u.includes(p.toLowerCase())))return!1;const m=t.map(p=>B(p,l));switch(r){case"all-common-games":return o?l.PlayerStats.find(h=>h.Username.toLowerCase()===o.toLowerCase())?.Victorious===!0:!0;case"opposing-camps":const p=m.map(C=>C==="Tra√Ætre"?"Loup":C);if(!([...new Set(p)].length>1))return!1;if(o){const C=t.findIndex(h=>h.toLowerCase()===o.toLowerCase());if(C!==-1){const h=p[C],D=V(l),b=D==="Tra√Ætre"?"Loup":D;return h==="Agent"&&b==="Agent"?l.PlayerStats.find(v=>v.Username.toLowerCase()===o.toLowerCase())?.Victorious===!0:h===b}}return!0;case"same-camp":const j=m.map(C=>C==="Tra√Ætre"?"Loup":C);if(!([...new Set(j)].length===1))return!1;const P=j[0];if(s&&s.selectedCamp){const C=s.selectedCamp;if(C==="Loup"&&s.excludeTraitor&&(!t.every(b=>m[t.indexOf(b)]==="Loup")||t.some(b=>{const w=l.PlayerStats.find(v=>v.Username.toLowerCase()===b.toLowerCase());return N(w?.MainRoleInitial)==="Tra√Ætre"}))||P!==C)return!1}if(o){const C=V(l),h=C==="Tra√Ætre"?"Loup":C;return P==="Agent"&&h==="Agent"?t.every(D=>l.PlayerStats.find(w=>w.Username.toLowerCase()===D.toLowerCase())?.Victorious===!0):P===h}return!0;default:return!0}})}function le(a,n){const{selectedPlayerPair:s,selectedPairRole:t}=n;return s.length!==2?a:a.filter(r=>{const o=r.PlayerStats.map(u=>u.Username.toLowerCase());if(!s.every(u=>o.includes(u.toLowerCase())))return!1;switch(t){case"wolves":return s.every(u=>{const c=r.PlayerStats.find(m=>m.Username.toLowerCase()===u.toLowerCase());return N(c?.MainRoleInitial)==="Loup"});case"lovers":return s.every(u=>{const c=r.PlayerStats.find(m=>m.Username.toLowerCase()===u.toLowerCase());return N(c?.MainRoleInitial)==="Amoureux"});default:return!0}})}function ie(a,n){if(!n)return a;let s=[...a];return n.selectedPlayer&&(s=X(s,n.selectedPlayer,n.selectedPlayerWinMode)),n.selectedGame&&(s=Z(s,n.selectedGame)),n.selectedGameIds&&(s=ee(s,n.selectedGameIds)),n.campFilter&&(s=ne(s,n.campFilter,n.selectedPlayer)),n.selectedDate&&(s=ae(s,n.selectedDate)),n.selectedHarvestRange&&(s=se(s,n.selectedHarvestRange)),n.selectedGameDuration&&(s=te(s,n.selectedGameDuration)),n.multiPlayerFilter&&(s=re(s,n.multiPlayerFilter,n.campFilter)),n.playerPairFilter&&(s=le(s,n.playerPairFilter)),s}function oe(a,n){return a.length===0?null:ie(a,n).map(t=>{const r=t.PlayerStats.length,o=t.PlayerStats.filter(h=>N(h.MainRoleInitial)==="Loup"),l=t.PlayerStats.filter(h=>N(h.MainRoleInitial)==="Tra√Ætre"),u=t.PlayerStats.filter(h=>N(h.MainRoleInitial)==="Amoureux"),c=t.PlayerStats.filter(h=>h.Victorious),m=o.length+l.length,p=V(t),y=["Loup","Villageois","Amoureux"],d=t.PlayerStats.filter(h=>!y.includes(N(h.MainRoleInitial))),j=d.length>0?d.map(h=>N(h.MainRoleInitial)).join(", "):null,$=new Date(t.StartDate).toLocaleDateString("fr-FR",{day:"2-digit",month:"2-digit",year:"numeric"});let P=0;if(t.EndTiming){const h=t.EndTiming.match(/[UNJMC](\d+)/);h&&(P=parseInt(h[1],10))}let C=null;return t.HarvestGoal&&t.HarvestGoal>0&&(C=t.HarvestDone/t.HarvestGoal),{gameId:t.DisplayedId,date:$,isModded:t.Modded||!1,playerCount:r,wolfCount:m,hasTraitor:l.length>0,hasLovers:u.length>0,soloRoles:j,winningCamp:p,dayCount:P,winners:c.map(h=>h.Username).join(", "),harvest:t.HarvestDone,totalHarvest:t.HarvestGoal,harvestPercentage:C,playersList:t.PlayerStats.map(h=>h.Username).join(", "),versions:t.Version||null,map:t.MapName,youtubeEmbedUrl:_(t.LegacyData?.VODLink||null,t.LegacyData?.VODLinkEnd||null),gameDuration:K(t.StartDate,t.EndDate),playerData:t.PlayerStats}})}function ce(a){const{data:n,isLoading:s,error:t}=z(r=>oe(r,a));return{data:n||[],isLoading:s,error:t}}const ue=({playerData:a})=>{const n=W(),s=Y(),t=a.reduce((l,u)=>{const c=k(u.MainRoleInitial);return l[c]||(l[c]=[]),l[c].push(u),l},{}),r=["Villageois","Loup","Amoureux"],o=Object.entries(t).sort(([l,u],[c,m])=>{const p=r.includes(l),y=r.includes(c);return p&&!y?-1:!p&&y?1:m.length-u.length});return e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Composition des Camps"}),e.jsx("div",{className:"camps-grid",children:o.map(([l,u])=>{const c=u,m=n[l]||"#666",y=c.filter(d=>d.Victorious).length>0;return e.jsxs("div",{className:`camp-group ${y?"winning-camp":""}`,style:{borderColor:m,backgroundColor:`${m}15`,boxShadow:y?`0 0 10px ${m}40`:"none"},children:[e.jsx("div",{className:"camp-header",style:{backgroundColor:`${m}25`},children:e.jsxs("h5",{style:{color:m},children:[l," (",c.length,")",y&&e.jsx("span",{className:"victory-crown",children:"üëë"})]})}),e.jsx("div",{className:"camp-players",children:c.sort((d,j)=>d.Username.localeCompare(j.Username)).map(d=>{let j=m;return d.Color&&s[d.Color]&&(j=s[d.Color]),e.jsxs("div",{className:`player-badge ${d.Victorious?"winner":""} ${d.DeathTiming?"dead":"alive"}`,style:{borderColor:j},title:`${d.Username} - ${N(d.MainRoleInitial)}${d.DeathTiming?` (Mort ${d.DeathTiming})`:""}`,children:[e.jsx("span",{className:"player-name",children:d.Username}),d.DeathTiming&&e.jsx("span",{className:"death-indicator",children:"üíÄ"}),d.Victorious&&e.jsx("span",{className:"victory-indicator",children:"‚≠ê"})]},d.Username)})})]},l)})})]})};function de(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}function me({game:a}){const[n,s]=I.useState(!1),t=W();return e.jsx("div",{className:"lycans-game-detail-view",children:e.jsxs("div",{className:"lycans-game-detail-grid",children:[e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations G√©n√©rales"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de joueurs:"}),e.jsx("span",{className:"value",children:a.playerCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Nombre de loups:"}),e.jsx("span",{className:"value",children:a.wolfCount})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Tra√Ætre:"}),e.jsx("span",{className:"value",children:a.hasTraitor?"Oui":"Non"})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Amoureux:"}),e.jsx("span",{className:"value",children:a.hasLovers?"Oui":"Non"})]}),a.soloRoles&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"R√¥les solo:"}),e.jsx("span",{className:"value",children:a.soloRoles})]})]})]}),e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"Informations Suppl√©mentaires"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Jours de jeu:"}),e.jsx("span",{className:"value",children:a.dayCount})]}),a.gameDuration!==null&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Dur√©e de la partie:"}),e.jsx("span",{className:"value",children:de(a.gameDuration)})]}),a.versions&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Version:"}),e.jsxs("span",{className:"value",children:[a.versions,a.isModded?" (modd√©e)":""]})]}),a.map&&e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Map:"}),e.jsx("span",{className:"value",children:a.map})]})]})]}),a.harvest!==null&&e.jsxs("div",{className:"lycans-game-detail-section",children:[e.jsx("h4",{children:"R√©colte"}),e.jsxs("div",{className:"lycans-game-detail-stats",children:[e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"R√©colte:"}),e.jsx("span",{className:"value",children:a.harvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Total possible:"}),e.jsx("span",{className:"value",children:a.totalHarvest})]}),e.jsxs("div",{className:"lycans-stat-item",children:[e.jsx("span",{className:"label",children:"Pourcentage:"}),e.jsx("span",{className:"value",children:typeof a.harvestPercentage=="number"?(a.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),e.jsx(ue,{playerData:a.playerData}),e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"R√¥les des Joueurs"}),e.jsx("div",{className:"lycans-player-roles-grid",children:a.playerData.sort((r,o)=>{const l=k(r.MainRoleInitial),u=k(o.MainRoleInitial),c=["Villageois","Loup","Tra√Ætre","Amoureux"],m=c.indexOf(l),p=c.indexOf(u);return m!==-1&&p!==-1?m-p:m!==-1?-1:p!==-1?1:l!==u?l.localeCompare(u):r.Username.localeCompare(o.Username)}).map(r=>{const o=N(r.MainRoleInitial),l=k(r.MainRoleInitial),u=r.MainRoleInitial,c=r.Power,m=r.SecondaryRole;let p=l;o!==l&&(p+=` (${o})`),u&&u!==o&&(p+=` - ${u}`),c&&c.trim()&&(p+=` - ${c}`),m&&m.trim()&&(p+=` + ${m}`);let y=t[r.MainRoleInitial]||"#666";y==="#666"&&(y=t[l]||"#666");const d=t[o]||"#666",j=r.DeathTiming,S=r.Victorious;return e.jsxs("div",{className:`lycans-player-role-item ${S?"victorious":""}`,style:{borderColor:d},children:[e.jsxs("div",{className:"lycans-player-name",style:{color:y,textAlign:"left"},children:[r.Username,j&&e.jsx("span",{className:"death-skull",children:"üíÄ"})]}),e.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:p})]},r.Username)})})]}),a.youtubeEmbedUrl&&e.jsx("div",{className:"lycans-game-detail-section full-width",children:e.jsx("button",{onClick:()=>s(!n),className:"lycans-video-toggle-btn",children:n?"üìπ Masquer la vid√©o":"üé• Voir la vid√©o"})}),a.youtubeEmbedUrl&&n&&e.jsxs("div",{className:"lycans-game-detail-section full-width",children:[e.jsx("h4",{children:"Vid√©o de la Partie"}),e.jsx("div",{className:"lycans-youtube-container",children:e.jsx("iframe",{src:a.youtubeEmbedUrl,title:`Partie Lycans #${a.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}function xe(){const{navigationFilters:a,navigateBack:n}=J(),{data:s,isLoading:t,error:r}=ce(a),o=W(),[l,u]=I.useState("date"),[c,m]=I.useState("desc"),[p,y]=I.useState(null),[d,j]=I.useState(1),[S,$]=I.useState(25),P=I.useRef(!1),h=a.selectedPlayer?[a.selectedPlayer]:a.playerPairFilter?.selectedPlayerPair?a.playerPairFilter.selectedPlayerPair:a.multiPlayerFilter?.selectedPlayers?a.multiPlayerFilter.selectedPlayers:[],D=h.length>0,b=i=>D?(i.winners?i.winners.split(",").map(x=>x.trim()):[]).filter(x=>h.some(L=>L.toLowerCase()===x.toLowerCase())).join(", "):"",w=I.useMemo(()=>s?[...s].sort((i,g)=>{let f,x;switch(l){case"date":f=new Date(i.date.split("/").reverse().join("-")).getTime(),x=new Date(g.date.split("/").reverse().join("-")).getTime();break;case"gameId":f=parseInt(i.gameId,10),x=parseInt(g.gameId,10);break;case"playerCount":f=i.playerCount,x=g.playerCount;break;case"gameDuration":f=i.gameDuration||0,x=g.gameDuration||0;break;case"winningCamp":f=i.winningCamp,x=g.winningCamp;break;case"winner":f=b(i),x=b(g);break;default:return 0}let L;if(c==="asc"?L=f>x?1:f<x?-1:0:L=f<x?1:f>x?-1:0,L===0){const R=parseInt(i.gameId,10),M=parseInt(g.gameId,10);return c==="asc"?R-M:M-R}return L}):[],[s,l,c]),v=Math.ceil(w.length/S),U=(d-1)*S,A=U+S,H=w.slice(U,A);I.useEffect(()=>{if(P.current){P.current=!1;return}j(1),y(null)},[s]),I.useEffect(()=>{j(1),y(null)},[l,c]);const F=i=>{P.current=!0,j(i),y(null)},O=i=>{P.current=!0,$(i),j(1),y(null)},E=i=>{P.current=!0,y(p===i?null:i)},G=i=>{l===i?m(c==="asc"?"desc":"asc"):(u(i),m("desc"))},T=i=>l!==i?"‚ÜïÔ∏è":c==="asc"?"‚ÜóÔ∏è":"‚ÜòÔ∏è",q=()=>{const i=[];if(a.selectedPlayer&&a.campFilter){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":"",f=a.campFilter.excludeTraitor&&a.campFilter.selectedCamp==="Loup"?"Loups sans Tra√Ætre":a.campFilter.selectedCamp;i.push(`${a.selectedPlayer} jouant ${f}${g}`)}else{if(a.selectedPlayer){const g=a.selectedPlayerWinMode==="wins-only"?" (victoires uniquement)":a.selectedPlayerWinMode==="all-assignments"?" (toutes parties)":"";i.push(`Joueur: ${a.selectedPlayer}${g}`)}if(a.campFilter){const{selectedCamp:g,campFilterMode:f,excludeTraitor:x}=a.campFilter,R=`Camp: ${x&&g==="Loup"?"Loups sans Tra√Ætre":g}`,M=f==="wins-only"?" (victoires uniquement)":f==="all-assignments"?" (toutes assignations)":"";i.push(R+M)}}if(a.playerPairFilter){const{selectedPlayerPair:g,selectedPairRole:f}=a.playerPairFilter,x=g.join(" & "),L=f==="wolves"?"loups":"amoureux";i.push(`Paire ${L}: ${x}`)}if(a.multiPlayerFilter){const{selectedPlayers:g,playersFilterMode:f,winnerPlayer:x}=a.multiPlayerFilter,L=g.join(" & ");let R="";f==="all-common-games"?R="toutes les parties communes":f==="opposing-camps"?R="affrontements uniquement":f==="same-camp"&&(R="parties en √©quipe (m√™me camp)");const M=x?` (victoires de ${x})`:"";i.push(`${L} (${R}${M})`)}return a.selectedHarvestRange&&i.push(`R√©colte: ${a.selectedHarvestRange}`),a.selectedGameDuration&&i.push(`Dur√©e: ${a.selectedGameDuration} jour${a.selectedGameDuration>1?"s":""}`),a.selectedGame&&i.push(`Partie ${a.selectedGame}`),a.selectedDate&&(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2?i.push(`Mois: ${a.selectedDate}`):i.push(`Date: ${a.selectedDate}`)),a.selectedGameIds&&a.selectedGameIds.length>0&&i.push(`${a.selectedGameIds.length} parties s√©lectionn√©e${a.selectedGameIds.length>1?"s":""}`),i};return t?e.jsx("div",{className:"statistiques-chargement",children:"Chargement des d√©tails des parties..."}):r?e.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",r]}):!s||s.length===0?e.jsxs("div",{className:"lycans-empty-section",children:[e.jsx("h2",{children:"Aucune partie trouv√©e"}),e.jsx("p",{children:"Aucune partie ne correspond aux crit√®res s√©lectionn√©s."}),a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["‚Üê Retour √† ",a.fromComponent]})]}):e.jsxs("div",{className:"lycans-game-details",children:[e.jsxs("div",{className:"lycans-game-details-header",children:[e.jsxs("div",{className:"lycans-game-details-navigation",children:[a.fromComponent&&e.jsxs("button",{onClick:n,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["‚Üê Retour √† ",a.fromComponent]}),e.jsxs("h2",{children:["D√©tails des Parties (",s.length," partie",s.length>1?"s":"",")"]})]}),q().length>0&&e.jsxs("div",{className:"lycans-active-filters",children:[e.jsx("strong",{children:"Filtres actifs:"})," ",q().join(", ")]})]}),v>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",U+1," √† ",Math.min(A,w.length)," sur ",w.length," parties"]}),e.jsxs("div",{className:"lycans-pagination-controls",children:[e.jsxs("select",{value:S,onChange:i=>O(Number(i.target.value)),className:"lycans-pagination-select",children:[e.jsx("option",{value:10,children:"10 par page"}),e.jsx("option",{value:25,children:"25 par page"}),e.jsx("option",{value:50,children:"50 par page"}),e.jsx("option",{value:100,children:"100 par page"})]}),e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>F(1),disabled:d===1,className:"lycans-pagination-btn",children:"¬´¬´"}),e.jsx("button",{onClick:()=>F(d-1),disabled:d===1,className:"lycans-pagination-btn",children:"‚Äπ"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",d," sur ",v]}),e.jsx("button",{onClick:()=>F(d+1),disabled:d===v,className:"lycans-pagination-btn",children:"‚Ä∫"}),e.jsx("button",{onClick:()=>F(v),disabled:d===v,className:"lycans-pagination-btn",children:"¬ª¬ª"})]})]})]}),e.jsx("div",{className:"lycans-games-table-container",children:e.jsxs("table",{className:"lycans-games-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsxs("th",{onClick:()=>G("gameId"),className:"sortable",children:["Partie ",T("gameId")]}),e.jsxs("th",{onClick:()=>G("date"),className:"sortable",children:["Date ",T("date")]}),e.jsxs("th",{onClick:()=>G("playerCount"),className:"sortable",children:["Joueurs ",T("playerCount")]}),e.jsxs("th",{onClick:()=>G("gameDuration"),className:"sortable",children:["Dur√©e ",T("gameDuration")]}),e.jsxs("th",{onClick:()=>G("winningCamp"),className:"sortable",children:["Camp Vainqueur ",T("winningCamp")]}),D&&e.jsxs("th",{onClick:()=>G("winner"),className:"sortable",children:["Vainqueur ",T("winner")]}),e.jsx("th",{children:"D√©tails"})]})}),e.jsx("tbody",{children:H.map(i=>e.jsxs(e.Fragment,{children:[e.jsxs("tr",{className:`${p===i.gameId?"selected":""} clickable-row`,onClick:()=>E(i.gameId),style:{cursor:"pointer"},children:[e.jsxs("td",{children:["#",i.gameId]}),e.jsx("td",{children:i.date}),e.jsx("td",{children:i.playerCount}),e.jsx("td",{children:pe(i.gameDuration)}),e.jsx("td",{style:{color:o[i.winningCamp]||"#fff"},children:i.winningCamp}),D&&e.jsx("td",{children:b(i)}),e.jsx("td",{children:e.jsx("button",{onClick:g=>{g.stopPropagation(),E(i.gameId)},className:"lycans-details-btn",children:p===i.gameId?"Masquer":"Voir"})})]},i.gameId),p===i.gameId&&e.jsx("tr",{className:"game-details-row",children:e.jsx("td",{colSpan:D?8:7,children:e.jsx(me,{game:i})})},`${i.gameId}-details`)]}))})]})}),v>1&&e.jsxs("div",{className:"lycans-pagination-container",children:[e.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",U+1," √† ",Math.min(A,w.length)," sur ",w.length," parties"]}),e.jsx("div",{className:"lycans-pagination-controls",children:e.jsxs("div",{className:"lycans-pagination-buttons",children:[e.jsx("button",{onClick:()=>F(1),disabled:d===1,className:"lycans-pagination-btn",children:"¬´¬´"}),e.jsx("button",{onClick:()=>F(d-1),disabled:d===1,className:"lycans-pagination-btn",children:"‚Äπ"}),e.jsxs("span",{className:"lycans-pagination-current",children:["Page ",d," sur ",v]}),e.jsx("button",{onClick:()=>F(d+1),disabled:d===v,className:"lycans-pagination-btn",children:"‚Ä∫"}),e.jsx("button",{onClick:()=>F(v),disabled:d===v,className:"lycans-pagination-btn",children:"¬ª¬ª"})]})})]})]})}function pe(a){if(a===null||a<=0)return"N/A";const n=Math.floor(a/60),s=a%60;return n===0?`${s}s`:s===0?`${n}m`:`${n}m ${s}s`}export{xe as GameDetailsChart};
