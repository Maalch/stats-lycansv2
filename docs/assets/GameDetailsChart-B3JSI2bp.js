import{u as M,r as N,j as s}from"./index-PqTj9WLC.js";import{b as k}from"./baseStatsHook-DhX8cAOi.js";import{s as p}from"./useCombinedRawData-DDFruZKX.js";import{c as B,a as $}from"./gameUtils-AXOEkowQ.js";import{a as E}from"./api-beq3FXpM.js";function L(i,l){const a=i.toLowerCase();return l.Loups&&l.Loups.toLowerCase().includes(a)||l.Traître&&l.Traître.toLowerCase().includes(a)?"Loups":l["Idiot du village"]&&l["Idiot du village"].toLowerCase().includes(a)?"Idiot du Village":l.Cannibale&&l.Cannibale.toLowerCase().includes(a)?"Cannibale":l.Agent&&l.Agent.toLowerCase().includes(a)?"Agent":l.Espion&&l.Espion.toLowerCase().includes(a)?"Espion":l.Scientifique&&l.Scientifique.toLowerCase().includes(a)?"Scientifique":l.Amoureux&&l.Amoureux.toLowerCase().includes(a)?"Amoureux":l["La Bête"]&&l["La Bête"].toLowerCase().includes(a)?"La Bête":l["Chasseur de primes"]&&l["Chasseur de primes"].toLowerCase().includes(a)?"Chasseur de primes":l.Vaudou&&l.Vaudou.toLowerCase().includes(a)?"Vaudou":"Villageois"}function J(i,l,a,o){const t=i.toLowerCase();switch(l){case"Traître":return!!(a.Traître&&a.Traître.toLowerCase().includes(t));case"Idiot du Village":return!!(a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(t));case"Cannibale":return!!(a.Cannibale&&a.Cannibale.toLowerCase().includes(t));case"Agent":return!!(a.Agent&&a.Agent.toLowerCase().includes(t));case"Espion":return!!(a.Espion&&a.Espion.toLowerCase().includes(t));case"Scientifique":return!!(a.Scientifique&&a.Scientifique.toLowerCase().includes(t));case"Amoureux":return!!(a.Amoureux&&a.Amoureux.toLowerCase().includes(t));case"La Bête":return!!(a["La Bête"]&&a["La Bête"].toLowerCase().includes(t));case"Chasseur de primes":return!!(a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(t));case"Vaudou":return!!(a.Vaudou&&a.Vaudou.toLowerCase().includes(t));case"Villageois":const e=o["Liste des joueurs"].toLowerCase().includes(t),n=[...a.Loups?p(a.Loups):[],...a.Traître?[a.Traître.trim()]:[],...a["Idiot du village"]?[a["Idiot du village"].trim()]:[],...a.Cannibale?[a.Cannibale.trim()]:[],...a.Agent?p(a.Agent):[],...a.Espion?[a.Espion.trim()]:[],...a.Scientifique?[a.Scientifique.trim()]:[],...a.Amoureux?p(a.Amoureux):[],...a["La Bête"]?[a["La Bête"].trim()]:[],...a["Chasseur de primes"]?[a["Chasseur de primes"].trim()]:[],...a.Vaudou?[a.Vaudou.trim()]:[]].map(v=>v.toLowerCase());return e&&!n.includes(t);default:return!1}}function H(i,l,a){if(!a)return i;let o=[...i];return a.selectedPlayer&&(o=o.filter(t=>t["Liste des joueurs"].toLowerCase().includes(a.selectedPlayer.toLowerCase()))),a.selectedGame&&(o=o.filter(t=>t.Game===a.selectedGame)),a.selectedCamp&&(o=o.filter(t=>{const e=l.find(n=>n.Game===t.Game);if(!e)return!1;if(a.selectedPlayer)return a.selectedCamp==="Autres"&&a._smallCamps?a._smallCamps.some(u=>J(a.selectedPlayer,u,e,t)):L(a.selectedPlayer,e)===a.selectedCamp;if((a.campFilterMode||"wins-only")==="wins-only")return a.selectedCamp==="Autres"&&a._smallCamps?a._smallCamps.includes(t["Camp victorieux"]):t["Camp victorieux"]===a.selectedCamp;if(a.selectedCamp==="Autres"&&a._smallCamps)return a._smallCamps.some(u=>{switch(u){case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const d=p(t["Liste des joueurs"]),m=[...p(e.Loups||""),...e.Traître?[e.Traître.trim()]:[],...e["Idiot du village"]?[e["Idiot du village"].trim()]:[],...e.Cannibale?[e.Cannibale.trim()]:[],...e.Agent?p(e.Agent):[],...e.Espion?[e.Espion.trim()]:[],...e.Scientifique?[e.Scientifique.trim()]:[],...p(e.Amoureux||""),...e["La Bête"]?[e["La Bête"].trim()]:[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()]:[],...e.Vaudou?[e.Vaudou.trim()]:[]];return d.some(y=>!m.includes(y));default:return!1}});switch(a.selectedCamp){case"Loups":return!!(e.Loups&&e.Loups.trim());case"Traître":return!!(e.Traître&&e.Traître.trim());case"Villageois":const v=p(t["Liste des joueurs"]),u=[...p(e.Loups||""),...e.Traître?[e.Traître.trim()]:[],...e["Idiot du village"]?[e["Idiot du village"].trim()]:[],...e.Cannibale?[e.Cannibale.trim()]:[],...e.Agent?p(e.Agent):[],...e.Espion?[e.Espion.trim()]:[],...e.Scientifique?[e.Scientifique.trim()]:[],...p(e.Amoureux||""),...e["La Bête"]?[e["La Bête"].trim()]:[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()]:[],...e.Vaudou?[e.Vaudou.trim()]:[]];return v.some(d=>!u.includes(d));case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());default:return t["Camp victorieux"]===a.selectedCamp}})),a.selectedVictoryType&&(o=o.filter(t=>t["Type de victoire"]===a.selectedVictoryType)),a.selectedDate&&(o=o.filter(t=>{const e=t.Date;if(a.selectedDate.includes("/")&&a.selectedDate.split("/").length===2){const[n,v]=a.selectedDate.split("/"),u=e.split("/");if(u.length===3){const[,d,m]=u;return d===n&&m===v}}else return e===a.selectedDate;return!1})),a.selectedPlayerPair&&a.selectedPairRole&&(o=o.filter(t=>{const e=l.find(m=>m.Game===t.Game);if(!e)return!1;const[n,v]=a.selectedPlayerPair,u=n.toLowerCase(),d=v.toLowerCase();if(a.selectedPairRole==="wolves"){if(e.Loups){const m=e.Loups.toLowerCase();return m.includes(u)&&m.includes(d)}}else if(a.selectedPairRole==="lovers"&&e.Amoureux){const m=e.Amoureux.toLowerCase();return m.includes(u)&&m.includes(d)}return!1})),a.selectedHarvestRange&&(o=o.filter(t=>{const e=t["Pourcentage de récolte"];if(e==null)return!1;const n=e*100;switch(a.selectedHarvestRange){case"0-25%":return n>=0&&n<=25;case"26-50%":return n>25&&n<=50;case"51-75%":return n>50&&n<=75;case"76-99%":return n>75&&n<=99;case"100%":return n>=100;default:return!0}})),a.selectedGameDuration&&(o=o.filter(t=>t["Nombre de journées"]===a.selectedGameDuration)),a.selectedPlayers&&a.selectedPlayers.length===2&&(o=o.filter(t=>{const e=t["Liste des joueurs"].toLowerCase(),[n,v]=a.selectedPlayers;if(!(e.includes(n.toLowerCase())&&e.includes(v.toLowerCase())))return!1;if(a.playersFilterMode==="all-common-games"){if(a.winnerPlayer){const d=l.find(y=>y.Game===t.Game);if(!d)return!0;const m=L(a.winnerPlayer,d);return t["Camp victorieux"]===m}return!0}if(a.playersFilterMode==="opposing-camps"){const d=l.find(h=>h.Game===t.Game);if(!d)return!1;const m=L(n,d),y=L(v,d);if(!(m!==y))return!1;if(a.winnerPlayer){const h=L(a.winnerPlayer,d);return t["Camp victorieux"]===h}return!0}if(a.playersFilterMode==="same-camp"){const d=l.find(h=>h.Game===t.Game);if(!d)return!1;const m=L(n,d),y=L(v,d);if(!(m===y))return!1;if(a.winnerPlayer){const h=L(a.winnerPlayer,d);return t["Camp victorieux"]===h}return!0}return!1})),o}function U(i,l,a,o){return i.length===0?null:H(i,l,o).map(e=>{const n=l.find(c=>c.Game===e.Game),v=a.filter(c=>c.Game===e.Game),u={};n&&(n.Loups&&(u.wolves=p(n.Loups)),n.Traître&&(u.traitor=n.Traître),n["Idiot du village"]&&(u.villageIdiot=n["Idiot du village"]),n.Cannibale&&(u.cannibal=n.Cannibale),n.Agent&&(u.agent=p(n.Agent)),n.Espion&&(u.spy=n.Espion),n.Scientifique&&(u.scientist=n.Scientifique),n.Amoureux&&(u.lovers=p(n.Amoureux)),n["La Bête"]&&(u.beast=n["La Bête"]),n["Chasseur de primes"]&&(u.bountyHunter=n["Chasseur de primes"]),n.Vaudou&&(u.voodoo=n.Vaudou));const d=v.map(c=>({player:"Ponce",camp:c.Camp||"Unknown",isTraitor:c.Traître||!1,secondaryRole:c["Rôle secondaire"]==="N/A"?null:c["Rôle secondaire"],wolfPower:c["Pouvoir de loup"]==="N/A"?null:c["Pouvoir de loup"],villagerJob:c["Métier villageois"]==="N/A"?null:c["Métier villageois"],playersKilled:c["Joueurs tués"],deathDay:c["Jour de mort"],deathType:c["Type de mort"],killers:c["Joueurs tueurs"]})),m=[];return p(e["Liste des joueurs"]).forEach(c=>{let h="Villageois",C="Villageois";n&&(n.Loups&&p(n.Loups).includes(c)?(h="Loups",C="Loups"):n.Traître&&p(n.Traître).includes(c)?(h="Traître",C="Loups"):n["Idiot du village"]&&p(n["Idiot du village"]).includes(c)?(h="Idiot du Village",C="Idiot du Village"):n.Cannibale&&p(n.Cannibale).includes(c)?(h="Cannibale",C="Cannibale"):n.Agent&&p(n.Agent).includes(c)?(h="Agent",C="Agent"):n.Espion&&p(n.Espion).includes(c)?(h="Espion",C="Espion"):n.Scientifique&&p(n.Scientifique).includes(c)?(h="Scientifique",C="Scientifique"):n["La Bête"]&&p(n["La Bête"]).includes(c)?(h="La Bête",C="La Bête"):n["Chasseur de primes"]&&p(n["Chasseur de primes"]).includes(c)?(h="Chasseur de primes",C="Chasseur de primes"):n.Vaudou&&p(n.Vaudou).includes(c)?(h="Vaudou",C="Vaudou"):n.Amoureux&&p(n.Amoureux).includes(c)&&(h="Amoureux",C="Amoureux")),m.push({player:c,role:h,camp:C})}),{gameId:e.Game,date:e.Date,isModded:e["Game Moddée"],playerCount:e["Nombre de joueurs"],wolfCount:e["Nombre de loups"],hasTraitor:e["Rôle Traître"],hasLovers:e["Rôle Amoureux"],soloRoles:e["Rôles solo"],winningCamp:e["Camp victorieux"],victoryType:e["Type de victoire"],dayCount:e["Nombre de journées"],villagerSurvivors:e["Survivants villageois"],wolfSurvivors:e["Survivants loups (traître inclus)"],loverSurvivors:e["Survivants amoureux"],soloSurvivors:e["Survivants solo"],winners:e["Liste des gagnants"],harvest:e.Récolte,totalHarvest:e["Total récolte"],harvestPercentage:e["Pourcentage de récolte"],playersList:e["Liste des joueurs"],versions:e.Versions,map:e.Map,youtubeEmbedUrl:$(e.Début,e.Fin),gameDuration:B(e.Début,e.Fin),roles:u,playerRoles:m,playerDetails:d}})}function _(i){const{data:l,isLoading:a,error:o}=k((t,e,n)=>U(t,e,n,i));return{data:l||[],isLoading:a,error:o}}function Z(){const{navigationFilters:i,navigateBack:l}=M(),{data:a,isLoading:o,error:t}=_(i),[e,n]=N.useState("date"),[v,u]=N.useState("desc"),[d,m]=N.useState(null),[y,c]=N.useState(1),[h,C]=N.useState(25),S=N.useRef(!1),w=N.useMemo(()=>a?[...a].sort((r,f)=>{let x,j;switch(e){case"date":x=new Date(r.date.split("/").reverse().join("-")).getTime(),j=new Date(f.date.split("/").reverse().join("-")).getTime();break;case"gameId":x=r.gameId,j=f.gameId;break;case"playerCount":x=r.playerCount,j=f.playerCount;break;case"dayCount":x=r.dayCount,j=f.dayCount;break;case"winningCamp":x=r.winningCamp,j=f.winningCamp;break;case"victoryType":x=r.victoryType,j=f.victoryType;break;default:return 0}let I;return v==="asc"?I=x>j?1:x<j?-1:0:I=x<j?1:x>j?-1:0,I===0?v==="asc"?r.gameId-f.gameId:f.gameId-r.gameId:I}):[],[a,e,v]),g=Math.ceil(w.length/h),T=(y-1)*h,G=T+h,q=w.slice(T,G);N.useEffect(()=>{if(S.current){S.current=!1;return}c(1),m(null)},[a]),N.useEffect(()=>{c(1),m(null)},[e,v]);const b=r=>{S.current=!0,c(r),m(null)},R=r=>{S.current=!0,C(r),c(1),m(null)},F=r=>{S.current=!0,m(d===r?null:r)},P=r=>{e===r?u(v==="asc"?"desc":"asc"):(n(r),u("desc"))},A=r=>e!==r?"↕️":v==="asc"?"↗️":"↘️",V=()=>{const r=[];if(i.selectedPlayer&&i.selectedCamp)r.push(`${i.selectedPlayer} jouant ${i.selectedCamp}`);else if(i.selectedPlayer&&r.push(`Joueur: ${i.selectedPlayer}`),i.selectedCamp){const f=`Camp: ${i.selectedCamp}`,x=i.campFilterMode==="wins-only"?" (victoires uniquement)":i.campFilterMode==="all-assignments"?" (toutes assignations)":"";r.push(f+x)}if(i.selectedPlayerPair&&i.selectedPairRole){const f=i.selectedPlayerPair.join(" & "),x=i.selectedPairRole==="wolves"?"loups":"amoureux";r.push(`Paire ${x}: ${f}`)}if(i.selectedPlayers&&i.playersFilterMode){const f=i.selectedPlayers.join(" & ");let x="";i.playersFilterMode==="all-common-games"?x="toutes les parties communes":i.playersFilterMode==="opposing-camps"?x="affrontements uniquement":i.playersFilterMode==="same-camp"&&(x="parties en équipe (même camp)");const j=i.winnerPlayer?` (victoires de ${i.winnerPlayer})`:"";r.push(`${f} (${x}${j})`)}return i.selectedVictoryType&&r.push(`Victoire: ${i.selectedVictoryType}`),i.selectedHarvestRange&&r.push(`Récolte: ${i.selectedHarvestRange}`),i.selectedGameDuration&&r.push(`Durée: ${i.selectedGameDuration} jour${i.selectedGameDuration>1?"s":""}`),i.selectedGame&&r.push(`Partie #${i.selectedGame}`),i.selectedDate&&(i.selectedDate.includes("/")&&i.selectedDate.split("/").length===2?r.push(`Mois: ${i.selectedDate}`):r.push(`Date: ${i.selectedDate}`)),r};return o?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):t?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",t]}):!a||a.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvée"}),s.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),i.fromComponent&&s.jsxs("button",{onClick:l,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",i.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[i.fromComponent&&s.jsxs("button",{onClick:l,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",i.fromComponent]}),s.jsxs("h2",{children:["Détails des Parties (",a.length," partie",a.length>1?"s":"",")"]})]}),V().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",V().join(", ")]})]}),g>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(G,w.length)," sur ",w.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:h,onChange:r=>R(Number(r.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>b(1),disabled:y===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>b(y-1),disabled:y===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",y," sur ",g]}),s.jsx("button",{onClick:()=>b(y+1),disabled:y===g,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>b(g),disabled:y===g,className:"lycans-pagination-btn",children:"»»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>P("gameId"),className:"sortable",children:["Partie ",A("gameId")]}),s.jsxs("th",{onClick:()=>P("date"),className:"sortable",children:["Date ",A("date")]}),s.jsxs("th",{onClick:()=>P("playerCount"),className:"sortable",children:["Joueurs ",A("playerCount")]}),s.jsxs("th",{onClick:()=>P("dayCount"),className:"sortable",children:["Jours ",A("dayCount")]}),s.jsxs("th",{onClick:()=>P("winningCamp"),className:"sortable",children:["Camp Vainqueur ",A("winningCamp")]}),s.jsxs("th",{onClick:()=>P("victoryType"),className:"sortable",children:["Type de Victoire ",A("victoryType")]}),s.jsx("th",{children:"Détails"})]})}),s.jsx("tbody",{children:q.map(r=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:d===r.gameId?"selected":"",children:[s.jsxs("td",{children:["#",r.gameId]}),s.jsx("td",{children:r.date}),s.jsx("td",{children:r.playerCount}),s.jsx("td",{children:r.dayCount}),s.jsx("td",{style:{color:E[r.winningCamp]||"#fff"},children:r.winningCamp}),s.jsx("td",{children:r.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>F(r.gameId),className:"lycans-details-btn",children:d===r.gameId?"Masquer":"Voir"})})]},r.gameId),d===r.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(Y,{game:r})})},`${r.gameId}-details`)]}))})]})}),g>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",T+1," à ",Math.min(G,w.length)," sur ",w.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>b(1),disabled:y===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>b(y-1),disabled:y===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",y," sur ",g]}),s.jsx("button",{onClick:()=>b(y+1),disabled:y===g,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>b(g),disabled:y===g,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function O(i){if(i===null||i<=0)return"N/A";const l=Math.floor(i/60),a=i%60;return l===0?`${a}s`:a===0?`${l}m`:`${l}m ${a}s`}function Y({game:i}){const[l,a]=N.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Générales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:i.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:i.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Traître:"}),s.jsx("span",{className:"value",children:i.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:i.hasLovers?"Oui":"Non"})]}),i.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Rôles solo:"}),s.jsx("span",{className:"value",children:i.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Supplémentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[i.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Durée de la partie:"}),s.jsx("span",{className:"value",children:O(i.gameDuration)})]}),i.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[i.versions,i.isModded?" (moddée)":""]})]}),i.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:i.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Résultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:i.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:i.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:i.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:i.wolfSurvivors})]}),i.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:i.loverSurvivors})]}),i.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:i.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:i.winners})]})]})]}),i.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Récolte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Récolte:"}),s.jsx("span",{className:"value",children:i.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:i.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof i.harvestPercentage=="number"?(i.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Rôles des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:i.playerRoles.map((o,t)=>{let e=o.role===o.camp?o.camp:`${o.camp} (${o.role})`;return s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:E[o.camp]||"#fff",textAlign:"left"},children:o.player}),s.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:e})]},t)})})]}),i.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>a(!l),className:"lycans-video-toggle-btn",children:l?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),i.youtubeEmbedUrl&&l&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Vidéo de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:i.youtubeEmbedUrl,title:`Partie Lycans #${i.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{Z as GameDetailsChart};
