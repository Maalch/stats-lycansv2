import{r as N,u as E,j as s}from"./index-DuL3RymO.js";import{u as R,a as k,b as q}from"./useRawGameData-D559FAc1.js";import{c as B,a as $}from"./gameUtils-eJjgb3Fr.js";import{a as G}from"./api-beq3FXpM.js";function M(t){const{data:y,isLoading:v,error:j}=R(),{data:b,isLoading:p,error:w}=k(),{data:f,isLoading:V,error:P}=q();return{data:N.useMemo(()=>{if(!y||!b||!f)return[];let m=[...y];return t&&(t.selectedPlayer&&(m=m.filter(l=>l["Liste des joueurs"].toLowerCase().includes(t.selectedPlayer.toLowerCase()))),t.selectedGame&&(m=m.filter(l=>l.Game===t.selectedGame)),t.selectedCamp&&(m=m.filter(l=>{if(t.selectedPlayer){const a=b.find(h=>h.Game===l.Game);if(!a)return!1;const e=t.selectedPlayer.toLowerCase();if(t.selectedCamp==="Autres"&&t._smallCamps){const h=t._smallCamps;for(const i of h){let d=!1;switch(i){case"Traître":d=!!(a.Traître&&a.Traître.toLowerCase().includes(e));break;case"Idiot du Village":d=!!(a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e));break;case"Cannibale":d=!!(a.Cannibale&&a.Cannibale.toLowerCase().includes(e));break;case"Agent":d=!!(a.Agent&&a.Agent.toLowerCase().includes(e));break;case"Espion":d=!!(a.Espion&&a.Espion.toLowerCase().includes(e));break;case"Scientifique":d=!!(a.Scientifique&&a.Scientifique.toLowerCase().includes(e));break;case"Amoureux":d=!!(a.Amoureux&&a.Amoureux.toLowerCase().includes(e));break;case"La Bête":d=!!(a["La Bête"]&&a["La Bête"].toLowerCase().includes(e));break;case"Chasseur de primes":d=!!(a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e));break;case"Vaudou":d=!!(a.Vaudou&&a.Vaudou.toLowerCase().includes(e));break;case"Villageois":const n=l["Liste des joueurs"].toLowerCase().includes(e),c=a.Loups&&a.Loups.toLowerCase().includes(e)||a.Traître&&a.Traître.toLowerCase().includes(e)||a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e)||a.Cannibale&&a.Cannibale.toLowerCase().includes(e)||a.Agent&&a.Agent.toLowerCase().includes(e)||a.Espion&&a.Espion.toLowerCase().includes(e)||a.Scientifique&&a.Scientifique.toLowerCase().includes(e)||a.Amoureux&&a.Amoureux.toLowerCase().includes(e)||a["La Bête"]&&a["La Bête"].toLowerCase().includes(e)||a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e)||a.Vaudou&&a.Vaudou.toLowerCase().includes(e);d=n&&!c;break}if(d)return!0}return!1}return a.Loups&&a.Loups.toLowerCase().includes(e)?t.selectedCamp==="Loups":a.Traître&&a.Traître.toLowerCase().includes(e)?t.selectedCamp==="Traître":a["Idiot du village"]&&a["Idiot du village"].toLowerCase().includes(e)?t.selectedCamp==="Idiot du Village":a.Cannibale&&a.Cannibale.toLowerCase().includes(e)?t.selectedCamp==="Cannibale":a.Agent&&a.Agent.toLowerCase().includes(e)?t.selectedCamp==="Agent":a.Espion&&a.Espion.toLowerCase().includes(e)?t.selectedCamp==="Espion":a.Scientifique&&a.Scientifique.toLowerCase().includes(e)?t.selectedCamp==="Scientifique":a.Amoureux&&a.Amoureux.toLowerCase().includes(e)?t.selectedCamp==="Amoureux":a["La Bête"]&&a["La Bête"].toLowerCase().includes(e)?t.selectedCamp==="La Bête":a["Chasseur de primes"]&&a["Chasseur de primes"].toLowerCase().includes(e)?t.selectedCamp==="Chasseur de primes":a.Vaudou&&a.Vaudou.toLowerCase().includes(e)?t.selectedCamp==="Vaudou":l["Liste des joueurs"].toLowerCase().includes(e)?t.selectedCamp==="Villageois":!1}else{if((t.campFilterMode||"wins-only")==="wins-only")return t.selectedCamp==="Autres"&&t._smallCamps?t._smallCamps.includes(l["Camp victorieux"]):l["Camp victorieux"]===t.selectedCamp;{const e=b.find(o=>o.Game===l.Game);if(!e)return l["Camp victorieux"]===t.selectedCamp;if(t.selectedCamp==="Autres"&&t._smallCamps)return t._smallCamps.some(h=>{switch(h){case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const i=l["Liste des joueurs"].split(",").map(n=>n.trim()).filter(n=>n),d=[...e.Loups?e.Loups.split(",").map(n=>n.trim()).filter(n=>n):[],...e.Traître?[e.Traître.trim()].filter(n=>n):[],...e["Idiot du village"]?[e["Idiot du village"].trim()].filter(n=>n):[],...e.Cannibale?[e.Cannibale.trim()].filter(n=>n):[],...e.Agent?[e.Agent.trim()].filter(n=>n):[],...e.Espion?[e.Espion.trim()].filter(n=>n):[],...e.Scientifique?[e.Scientifique.trim()].filter(n=>n):[],...e.Amoureux?e.Amoureux.split(",").map(n=>n.trim()).filter(n=>n):[],...e["La Bête"]?[e["La Bête"].trim()].filter(n=>n):[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()].filter(n=>n):[],...e.Vaudou?[e.Vaudou.trim()].filter(n=>n):[]];return i.some(n=>!d.includes(n));default:return!1}});switch(t.selectedCamp){case"Loups":return!!(e.Loups&&e.Loups.trim());case"Traître":return!!(e.Traître&&e.Traître.trim());case"Idiot du Village":return!!(e["Idiot du village"]&&e["Idiot du village"].trim());case"Cannibale":return!!(e.Cannibale&&e.Cannibale.trim());case"Agent":return!!(e.Agent&&e.Agent.trim());case"Espion":return!!(e.Espion&&e.Espion.trim());case"Scientifique":return!!(e.Scientifique&&e.Scientifique.trim());case"Amoureux":return!!(e.Amoureux&&e.Amoureux.trim());case"La Bête":return!!(e["La Bête"]&&e["La Bête"].trim());case"Chasseur de primes":return!!(e["Chasseur de primes"]&&e["Chasseur de primes"].trim());case"Vaudou":return!!(e.Vaudou&&e.Vaudou.trim());case"Villageois":const o=l["Liste des joueurs"].split(",").map(i=>i.trim()).filter(i=>i),h=[...e.Loups?e.Loups.split(",").map(i=>i.trim()).filter(i=>i):[],...e.Traître?[e.Traître.trim()].filter(i=>i):[],...e["Idiot du village"]?[e["Idiot du village"].trim()].filter(i=>i):[],...e.Cannibale?[e.Cannibale.trim()].filter(i=>i):[],...e.Agent?[e.Agent.trim()].filter(i=>i):[],...e.Espion?[e.Espion.trim()].filter(i=>i):[],...e.Scientifique?[e.Scientifique.trim()].filter(i=>i):[],...e.Amoureux?e.Amoureux.split(",").map(i=>i.trim()).filter(i=>i):[],...e["La Bête"]?[e["La Bête"].trim()].filter(i=>i):[],...e["Chasseur de primes"]?[e["Chasseur de primes"].trim()].filter(i=>i):[],...e.Vaudou?[e.Vaudou.trim()].filter(i=>i):[]];return o.some(i=>!h.includes(i));default:return l["Camp victorieux"]===t.selectedCamp}}}})),t.selectedVictoryType&&(m=m.filter(l=>l["Type de victoire"]===t.selectedVictoryType)),t.selectedDate&&(m=m.filter(l=>{const a=l.Date;if(t.selectedDate.includes("/")&&t.selectedDate.split("/").length===2){const[e,o]=t.selectedDate.split("/"),h=a.split("/");if(h.length===3){const[,i,d]=h;return i===e&&d===o}}else return a===t.selectedDate;return!1})),t.selectedPlayerPair&&t.selectedPairRole&&(m=m.filter(l=>{const a=b.find(d=>d.Game===l.Game);if(!a)return!1;const[e,o]=t.selectedPlayerPair,h=e.toLowerCase(),i=o.toLowerCase();if(t.selectedPairRole==="wolves"){if(a.Loups){const d=a.Loups.toLowerCase();return d.includes(h)&&d.includes(i)}}else if(t.selectedPairRole==="lovers"&&a.Amoureux){const d=a.Amoureux.toLowerCase();return d.includes(h)&&d.includes(i)}return!1})),t.selectedHarvestRange&&(m=m.filter(l=>{const a=l["Pourcentage de récolte"];if(a==null)return!1;const e=a*100;switch(t.selectedHarvestRange){case"0-25%":return e>=0&&e<=25;case"26-50%":return e>25&&e<=50;case"51-75%":return e>50&&e<=75;case"76-99%":return e>75&&e<=99;case"100%":return e>=100;default:return!0}})),t.selectedGameDuration&&(m=m.filter(l=>l["Nombre de journées"]===t.selectedGameDuration)),t.selectedPlayers&&t.selectedPlayers.length===2&&(m=m.filter(l=>{const a=l["Liste des joueurs"].toLowerCase(),[e,o]=t.selectedPlayers;if(!(a.includes(e.toLowerCase())&&a.includes(o.toLowerCase())))return!1;if(t.playersFilterMode==="all-common-games")return!0;if(t.playersFilterMode==="opposing-camps"){const i=b.find(C=>C.Game===l.Game);if(!i)return!1;const d=C=>{const u=C.toLowerCase();return i.Loups&&i.Loups.toLowerCase().includes(u)||i.Traître&&i.Traître.toLowerCase().includes(u)?"Loups":i["Idiot du village"]&&i["Idiot du village"].toLowerCase().includes(u)?"Idiot du Village":i.Cannibale&&i.Cannibale.toLowerCase().includes(u)?"Cannibale":i.Agent&&i.Agent.toLowerCase().includes(u)?"Agent":i.Espion&&i.Espion.toLowerCase().includes(u)?"Espion":i.Scientifique&&i.Scientifique.toLowerCase().includes(u)?"Scientifique":i.Amoureux&&i.Amoureux.toLowerCase().includes(u)?"Amoureux":i["La Bête"]&&i["La Bête"].toLowerCase().includes(u)?"La Bête":i["Chasseur de primes"]&&i["Chasseur de primes"].toLowerCase().includes(u)?"Chasseur de primes":i.Vaudou&&i.Vaudou.toLowerCase().includes(u)?"Vaudou":"Villageois"},n=d(e),c=d(o);return n!==c}return!1}))),m.map(l=>{const a=b.find(c=>c.Game===l.Game),e=f.filter(c=>c.Game===l.Game),o={};a&&(a.Loups&&(o.wolves=a.Loups.split(", ").filter(Boolean)),a.Traître&&(o.traitor=a.Traître),a["Idiot du village"]&&(o.villageIdiot=a["Idiot du village"]),a.Cannibale&&(o.cannibal=a.Cannibale),a.Agent&&(o.agent=a.Agent),a.Espion&&(o.spy=a.Espion),a.Scientifique&&(o.scientist=a.Scientifique),a.Amoureux&&(o.lovers=a.Amoureux.split(", ").filter(Boolean)),a["La Bête"]&&(o.beast=a["La Bête"]),a["Chasseur de primes"]&&(o.bountyHunter=a["Chasseur de primes"]),a.Vaudou&&(o.voodoo=a.Vaudou));const h=e.map(c=>({player:"Ponce",camp:c.Camp||"Unknown",isTraitor:c.Traître||!1,secondaryRole:c["Rôle secondaire"]==="N/A"?null:c["Rôle secondaire"],wolfPower:c["Pouvoir de loup"]==="N/A"?null:c["Pouvoir de loup"],villagerJob:c["Métier villageois"]==="N/A"?null:c["Métier villageois"],playersKilled:c["Joueurs tués"],deathDay:c["Jour de mort"],deathType:c["Type de mort"],killers:c["Joueurs tueurs"]})),i=[];return l["Liste des joueurs"].split(", ").filter(Boolean).forEach(c=>{let C="Villageois",u="Villageois";a&&(a.Loups&&a.Loups.split(", ").includes(c)?(C="Loups",u="Loups"):a.Traître&&a.Traître===c?(C="Traître",u="Loups"):a["Idiot du village"]&&a["Idiot du village"]===c?(C="Idiot du Village",u="Idiot du Village"):a.Cannibale&&a.Cannibale===c?(C="Cannibale",u="Cannibale"):a.Agent&&a.Agent.split(", ").includes(c)?(C="Agent",u="Agent"):a.Espion&&a.Espion===c?(C="Espion",u="Espion"):a.Scientifique&&a.Scientifique===c?(C="Scientifique",u="Scientifique"):a["La Bête"]&&a["La Bête"]===c?(C="La Bête",u="La Bête"):a["Chasseur de primes"]&&a["Chasseur de primes"]===c?(C="Chasseur de primes",u="Chasseur de primes"):a.Vaudou&&a.Vaudou===c?(C="Vaudou",u="Vaudou"):a.Amoureux&&a.Amoureux.split(", ").includes(c)&&C==="Villageois"&&(C="Amoureux",u="Amoureux")),i.push({player:c,role:C,camp:u})}),{gameId:l.Game,date:l.Date,isModded:l["Game Moddée"],playerCount:l["Nombre de joueurs"],wolfCount:l["Nombre de loups"],hasTraitor:l["Rôle Traître"],hasLovers:l["Rôle Amoureux"],soloRoles:l["Rôles solo"],winningCamp:l["Camp victorieux"],victoryType:l["Type de victoire"],dayCount:l["Nombre de journées"],villagerSurvivors:l["Survivants villageois"],wolfSurvivors:l["Survivants loups (traître inclus)"],loverSurvivors:l["Survivants amoureux"],soloSurvivors:l["Survivants solo"],winners:l["Liste des gagnants"],harvest:l.Récolte,totalHarvest:l["Total récolte"],harvestPercentage:l["Pourcentage de récolte"],playersList:l["Liste des joueurs"],versions:l.Versions,map:l.Map,youtubeEmbedUrl:$(l.Début,l.Fin),gameDuration:B(l.Début,l.Fin),roles:o,playerRoles:i,playerDetails:h}})},[y,b,f,t]),isLoading:v||p||V,error:j||w||P}}function Y(){const{navigationFilters:t,navigateBack:y}=E(),{data:v,isLoading:j,error:b}=M(t),[p,w]=N.useState("date"),[f,V]=N.useState("desc"),[P,T]=N.useState(null),[x,I]=N.useState(1),[m,l]=N.useState(25),a=N.useRef(!1),e=N.useMemo(()=>v?[...v].sort((r,L)=>{let g,A;switch(p){case"date":g=new Date(r.date.split("/").reverse().join("-")).getTime(),A=new Date(L.date.split("/").reverse().join("-")).getTime();break;case"gameId":g=r.gameId,A=L.gameId;break;case"playerCount":g=r.playerCount,A=L.playerCount;break;case"dayCount":g=r.dayCount,A=L.dayCount;break;case"winningCamp":g=r.winningCamp,A=L.winningCamp;break;case"victoryType":g=r.victoryType,A=L.victoryType;break;default:return 0}return f==="asc"?g>A?1:-1:g<A?1:-1}):[],[v,p,f]),o=Math.ceil(e.length/m),h=(x-1)*m,i=h+m,d=e.slice(h,i);N.useEffect(()=>{if(a.current){a.current=!1;return}I(1),T(null)},[v]),N.useEffect(()=>{I(1),T(null)},[p,f]);const n=r=>{a.current=!0,I(r),T(null)},c=r=>{a.current=!0,l(r),I(1),T(null)},C=r=>{a.current=!0,T(P===r?null:r)},u=r=>{p===r?V(f==="asc"?"desc":"asc"):(w(r),V("desc"))},S=r=>p!==r?"↕️":f==="asc"?"↗️":"↘️",D=()=>{const r=[];if(t.selectedPlayer&&t.selectedCamp)r.push(`${t.selectedPlayer} jouant ${t.selectedCamp}`);else if(t.selectedPlayer&&r.push(`Joueur: ${t.selectedPlayer}`),t.selectedCamp){const L=`Camp: ${t.selectedCamp}`,g=t.campFilterMode==="wins-only"?" (victoires uniquement)":t.campFilterMode==="all-assignments"?" (toutes assignations)":"";r.push(L+g)}if(t.selectedPlayerPair&&t.selectedPairRole){const L=t.selectedPlayerPair.join(" & "),g=t.selectedPairRole==="wolves"?"loups":"amoureux";r.push(`Paire ${g}: ${L}`)}if(t.selectedPlayers&&t.playersFilterMode){const L=t.selectedPlayers.join(" & "),g=t.playersFilterMode==="all-common-games"?"toutes les parties communes":"affrontements uniquement";r.push(`${L} (${g})`)}return t.selectedVictoryType&&r.push(`Victoire: ${t.selectedVictoryType}`),t.selectedHarvestRange&&r.push(`Récolte: ${t.selectedHarvestRange}`),t.selectedGameDuration&&r.push(`Durée: ${t.selectedGameDuration} jour${t.selectedGameDuration>1?"s":""}`),t.selectedGame&&r.push(`Partie #${t.selectedGame}`),t.selectedDate&&(t.selectedDate.includes("/")&&t.selectedDate.split("/").length===2?r.push(`Mois: ${t.selectedDate}`):r.push(`Date: ${t.selectedDate}`)),r};return j?s.jsx("div",{className:"statistiques-chargement",children:"Chargement des détails des parties..."}):b?s.jsxs("div",{className:"statistiques-erreur",children:["Erreur: ",b]}):!v||v.length===0?s.jsxs("div",{className:"lycans-empty-section",children:[s.jsx("h2",{children:"Aucune partie trouvée"}),s.jsx("p",{children:"Aucune partie ne correspond aux critères sélectionnés."}),t.fromComponent&&s.jsxs("button",{onClick:y,className:"lycans-submenu-btn",style:{marginTop:"1rem"},children:["← Retour à ",t.fromComponent]})]}):s.jsxs("div",{className:"lycans-game-details",children:[s.jsxs("div",{className:"lycans-game-details-header",children:[s.jsxs("div",{className:"lycans-game-details-navigation",children:[t.fromComponent&&s.jsxs("button",{onClick:y,className:"lycans-submenu-btn",style:{marginRight:"1rem"},children:["← Retour à ",t.fromComponent]}),s.jsxs("h2",{children:["Détails des Parties (",v.length," partie",v.length>1?"s":"",")"]})]}),D().length>0&&s.jsxs("div",{className:"lycans-active-filters",children:[s.jsx("strong",{children:"Filtres actifs:"})," ",D().join(", ")]})]}),o>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",h+1," à ",Math.min(i,e.length)," sur ",e.length," parties"]}),s.jsxs("div",{className:"lycans-pagination-controls",children:[s.jsxs("select",{value:m,onChange:r=>c(Number(r.target.value)),className:"lycans-pagination-select",children:[s.jsx("option",{value:10,children:"10 par page"}),s.jsx("option",{value:25,children:"25 par page"}),s.jsx("option",{value:50,children:"50 par page"}),s.jsx("option",{value:100,children:"100 par page"})]}),s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>n(1),disabled:x===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>n(x-1),disabled:x===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",x," sur ",o]}),s.jsx("button",{onClick:()=>n(x+1),disabled:x===o,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>n(o),disabled:x===o,className:"lycans-pagination-btn",children:"»»"})]})]})]}),s.jsx("div",{className:"lycans-games-table-container",children:s.jsxs("table",{className:"lycans-games-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsxs("th",{onClick:()=>u("gameId"),className:"sortable",children:["Partie ",S("gameId")]}),s.jsxs("th",{onClick:()=>u("date"),className:"sortable",children:["Date ",S("date")]}),s.jsxs("th",{onClick:()=>u("playerCount"),className:"sortable",children:["Joueurs ",S("playerCount")]}),s.jsxs("th",{onClick:()=>u("dayCount"),className:"sortable",children:["Jours ",S("dayCount")]}),s.jsxs("th",{onClick:()=>u("winningCamp"),className:"sortable",children:["Camp Vainqueur ",S("winningCamp")]}),s.jsxs("th",{onClick:()=>u("victoryType"),className:"sortable",children:["Type de Victoire ",S("victoryType")]}),s.jsx("th",{children:"Détails"})]})}),s.jsx("tbody",{children:d.map(r=>s.jsxs(s.Fragment,{children:[s.jsxs("tr",{className:P===r.gameId?"selected":"",children:[s.jsxs("td",{children:["#",r.gameId]}),s.jsx("td",{children:r.date}),s.jsx("td",{children:r.playerCount}),s.jsx("td",{children:r.dayCount}),s.jsx("td",{style:{color:G[r.winningCamp]||"#fff"},children:r.winningCamp}),s.jsx("td",{children:r.victoryType}),s.jsx("td",{children:s.jsx("button",{onClick:()=>C(r.gameId),className:"lycans-details-btn",children:P===r.gameId?"Masquer":"Voir"})})]},r.gameId),P===r.gameId&&s.jsx("tr",{className:"game-details-row",children:s.jsx("td",{colSpan:7,children:s.jsx(J,{game:r})})},`${r.gameId}-details`)]}))})]})}),o>1&&s.jsxs("div",{className:"lycans-pagination-container",children:[s.jsxs("div",{className:"lycans-pagination-info",children:["Affichage de ",h+1," à ",Math.min(i,e.length)," sur ",e.length," parties"]}),s.jsx("div",{className:"lycans-pagination-controls",children:s.jsxs("div",{className:"lycans-pagination-buttons",children:[s.jsx("button",{onClick:()=>n(1),disabled:x===1,className:"lycans-pagination-btn",children:"««"}),s.jsx("button",{onClick:()=>n(x-1),disabled:x===1,className:"lycans-pagination-btn",children:"‹"}),s.jsxs("span",{className:"lycans-pagination-current",children:["Page ",x," sur ",o]}),s.jsx("button",{onClick:()=>n(x+1),disabled:x===o,className:"lycans-pagination-btn",children:"›"}),s.jsx("button",{onClick:()=>n(o),disabled:x===o,className:"lycans-pagination-btn",children:"»»"})]})})]})]})}function F(t){if(t===null||t<=0)return"N/A";const y=Math.floor(t/60),v=t%60;return y===0?`${v}s`:v===0?`${y}m`:`${y}m ${v}s`}function J({game:t}){const[y,v]=N.useState(!1);return s.jsx("div",{className:"lycans-game-detail-view",children:s.jsxs("div",{className:"lycans-game-detail-grid",children:[s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Générales"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de joueurs:"}),s.jsx("span",{className:"value",children:t.playerCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Nombre de loups:"}),s.jsx("span",{className:"value",children:t.wolfCount})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Traître:"}),s.jsx("span",{className:"value",children:t.hasTraitor?"Oui":"Non"})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Amoureux:"}),s.jsx("span",{className:"value",children:t.hasLovers?"Oui":"Non"})]}),t.soloRoles&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Rôles solo:"}),s.jsx("span",{className:"value",children:t.soloRoles})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Informations Supplémentaires"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[t.gameDuration!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Durée de la partie:"}),s.jsx("span",{className:"value",children:F(t.gameDuration)})]}),t.versions&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Version:"}),s.jsxs("span",{className:"value",children:[t.versions,t.isModded?" (moddée)":""]})]}),t.map&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Map:"}),s.jsx("span",{className:"value",children:t.map})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Résultats"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Camp vainqueur:"}),s.jsx("span",{className:"value",children:t.winningCamp})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Type de victoire:"}),s.jsx("span",{className:"value",children:t.victoryType})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants villageois:"}),s.jsx("span",{className:"value",children:t.villagerSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants loups:"}),s.jsx("span",{className:"value",children:t.wolfSurvivors})]}),t.loverSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants amoureux:"}),s.jsx("span",{className:"value",children:t.loverSurvivors})]}),t.soloSurvivors!==null&&s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Survivants solo:"}),s.jsx("span",{className:"value",children:t.soloSurvivors})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Gagnants:"}),s.jsx("span",{className:"value",children:t.winners})]})]})]}),t.harvest!==null&&s.jsxs("div",{className:"lycans-game-detail-section",children:[s.jsx("h4",{children:"Récolte"}),s.jsxs("div",{className:"lycans-game-detail-stats",children:[s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Récolte:"}),s.jsx("span",{className:"value",children:t.harvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Total possible:"}),s.jsx("span",{className:"value",children:t.totalHarvest})]}),s.jsxs("div",{className:"lycans-stat-item",children:[s.jsx("span",{className:"label",children:"Pourcentage:"}),s.jsx("span",{className:"value",children:typeof t.harvestPercentage=="number"?(t.harvestPercentage*100).toFixed(1)+"%":"N/A"})]})]})]}),s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Rôles des Joueurs"}),s.jsx("div",{className:"lycans-player-roles-grid",children:t.playerRoles.map((j,b)=>{const p=t.playerDetails.find(f=>f.player===j.player);let w=j.role===j.camp?j.camp:`${j.camp} (${j.role})`;if(p){const f=[];p.wolfPower&&p.wolfPower.trim()?f.push(p.wolfPower):p.villagerJob&&p.villagerJob.trim()&&f.push(p.villagerJob),f.length>0?(w=`${j.camp} - ${f[0]}`,p.secondaryRole&&p.secondaryRole.trim()&&(w+=` (${p.secondaryRole})`)):p.secondaryRole&&p.secondaryRole.trim()&&(w=`${j.camp} (${p.secondaryRole})`)}return s.jsxs("div",{className:"lycans-player-role-item",children:[s.jsx("div",{className:"lycans-player-name",style:{color:G[j.camp]||"#fff",textAlign:"left"},children:j.player}),s.jsx("div",{className:"lycans-player-camp",style:{textAlign:"left"},children:w})]},b)})})]}),t.youtubeEmbedUrl&&s.jsx("div",{className:"lycans-game-detail-section full-width",children:s.jsx("button",{onClick:()=>v(!y),className:"lycans-video-toggle-btn",children:y?"📹 Masquer la vidéo":"🎥 Voir la vidéo"})}),t.youtubeEmbedUrl&&y&&s.jsxs("div",{className:"lycans-game-detail-section full-width",children:[s.jsx("h4",{children:"Vidéo de la Partie"}),s.jsx("div",{className:"lycans-youtube-container",children:s.jsx("iframe",{src:t.youtubeEmbedUrl,title:`Partie Lycans #${t.gameId}`,allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:"lycans-youtube-iframe"})})]})]})})}export{Y as GameDetailsChart};
