import{r as c,u as ve,a as ge,j as i}from"./index-C9Kslrj5.js";import{u as xe}from"./baseStatsHook-CnAd7APY.js";import{g as q}from"./gameUtils-C0qLdSzT.js";import{a as Pe,u as Ae,m as be}from"./api-DKAYehnj.js";import{S as ee,d as je,u as Ce,b as J,G as we,e as Se,f as Ie,g as Ee,h as Te,i as Re,F as ae,B as re,C as B,X as L,Y as H,a as te}from"./FullscreenChart-BqUdNWJg.js";import{m as O,u as Oe,n as _e,o as De,S as Ne,p as se,q as ke,t as oe,v as le,w as ze,x as Fe,y as Ke,z as ce,A as Me,B as We,b as Ge,d as de,C as Be,G as Le,D as He,i as $e,E as D,L as F,F as G,H as ie,I as Ve,J as qe,K as W,h as Z,M as Je,N as Ze,O as Ue,P as Xe,Q as Ye,U as Qe,V as ea,W as aa,R as $,T as V}from"./CategoricalChart-OM0ZSguQ.js";function me(e,a,t){return(a=ra(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ra(e){var a=ta(e,"string");return typeof a=="symbol"?a:a+""}function ta(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}function ia(e){var a=Oe();return c.useEffect(()=>(a(_e(e)),()=>{a(De(e))}),[e,a]),null}class U extends c.Component{render(){return c.createElement(ia,{domain:this.props.domain,id:this.props.zAxisId,dataKey:this.props.dataKey,name:this.props.name,unit:this.props.unit,range:this.props.range,scale:this.props.scale,type:this.props.type,allowDuplicatedCategory:O.allowDuplicatedCategory,allowDataOverflow:O.allowDataOverflow,reversed:O.reversed,includeHidden:O.includeHidden})}}me(U,"displayName","ZAxis");me(U,"defaultProps",{zAxisId:0,range:O.range,scale:O.scale,type:O.type});var na=["option","isActive"];function z(){return z=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},z.apply(null,arguments)}function sa(e,a){if(e==null)return{};var t,r,o=oa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function oa(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function la(e){var{option:a,isActive:t}=e,r=sa(e,na);return typeof a=="string"?c.createElement(ee,z({option:c.createElement(Ne,z({type:a},r)),isActive:t,shapeType:"symbols"},r)):c.createElement(ee,z({option:a,isActive:t,shapeType:"symbols"},r))}var ca=(e,a,t,r,o,n,l)=>oe(e,"xAxis",a,l),da=(e,a,t,r,o,n,l)=>le(e,"xAxis",a,l),ma=(e,a,t,r,o,n,l)=>oe(e,"yAxis",t,l),pa=(e,a,t,r,o,n,l)=>le(e,"yAxis",t,l),ua=(e,a,t,r)=>ze(e,"zAxis",r,!1),ha=(e,a,t,r,o)=>o,fa=(e,a,t,r,o,n)=>n,ya=(e,a,t,r,o,n,l)=>ke(e,a,t,l),va=se([Fe,ha],(e,a)=>{if(e.some(t=>t.type==="scatter"&&a.dataKey===t.dataKey&&a.data===t.data))return a}),ga=se([ya,ca,da,ma,pa,ua,va,fa],(e,a,t,r,o,n,l,x)=>{var{chartData:d,dataStartIndex:h,dataEndIndex:f}=e;if(l!=null){var y;if(l?.data!=null&&l.data.length>0?y=l.data:y=d?.slice(h,f+1),!(y==null||a==null||r==null||t==null||o==null||t?.length===0||o?.length===0))return Ta({displayedData:y,xAxis:a,yAxis:r,zAxis:n,scatterSettings:l,xAxisTicks:t,yAxisTicks:o,cells:x})}}),xa=["onMouseEnter","onClick","onMouseLeave"],Pa=["animationBegin","animationDuration","animationEasing","hide","isAnimationActive","legendType","lineJointType","lineType","shape","xAxisId","yAxisId","zAxisId"];function pe(e,a){if(e==null)return{};var t,r,o=Aa(e,a);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(r=0;r<n.length;r++)t=n[r],a.indexOf(t)===-1&&{}.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function Aa(e,a){if(e==null)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(a.indexOf(r)!==-1)continue;t[r]=e[r]}return t}function N(){return N=Object.assign?Object.assign.bind():function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)({}).hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},N.apply(null,arguments)}function ne(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);a&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),t.push.apply(t,r)}return t}function S(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?ne(Object(t),!0).forEach(function(r){X(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ne(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function X(e,a,t){return(a=ba(a))in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function ba(e){var a=ja(e,"string");return typeof a=="symbol"?a:a+""}function ja(e,a){if(typeof e!="object"||!e)return e;var t=e[Symbol.toPrimitive];if(t!==void 0){var r=t.call(e,a);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(a==="string"?String:Number)(e)}var Ca=e=>{var{dataKey:a,name:t,fill:r,legendType:o,hide:n}=e;return[{inactive:n,dataKey:a,type:o,color:r,value:ce(t,a),payload:e}]};function wa(e){var{points:a,props:t}=e,{line:r,lineType:o,lineJointType:n}=t;if(!r)return null;var l=Z(t,!1),x=Z(r,!1),d,h;if(o==="joint")d=a.map(u=>({x:u.cx,y:u.cy}));else if(o==="fitting"){var{xmin:f,xmax:y,a:P,b:E}=Qe(a),I=u=>P*u+E;d=[{x:f,y:I(f)},{x:y,y:I(y)}]}var b=S(S(S({},l),{},{fill:"none",stroke:l&&l.fill},x),{},{points:d});return c.isValidElement(r)?h=c.cloneElement(r,b):typeof r=="function"?h=r(b):h=c.createElement(ea,N({},b,{type:n})),c.createElement(F,{className:"recharts-scatter-line",key:"recharts-scatter-line"},h)}function ue(e){var{points:a,showLabels:t,allOtherScatterProps:r}=e,{shape:o,activeShape:n,dataKey:l}=r,x=Z(r,!1),d=de(Je),{onMouseEnter:h,onClick:f,onMouseLeave:y}=r,P=pe(r,xa),E=Ie(h,r.dataKey),I=Ee(y),b=Te(f,r.dataKey);return a==null?null:c.createElement(c.Fragment,null,c.createElement(wa,{points:a,props:r}),a.map((u,v)=>{var T=n&&d===String(v),C=T?n:o,s=S(S(S({key:"symbol-".concat(v)},x),u),{},{[Ue]:v,[Ze]:String(l)});return c.createElement(F,N({className:"recharts-scatter-symbol"},Xe(P,u,v),{onMouseEnter:E(u,v),onMouseLeave:I(u,v),onClick:b(u,v),key:"symbol-".concat(u?.cx,"-").concat(u?.cy,"-").concat(u?.size,"-").concat(v)}),c.createElement(la,N({option:C,isActive:T},s)))}),t&&Ye.renderCallByParent(r,a))}function Sa(e){var{previousPointsRef:a,props:t}=e,{points:r,isAnimationActive:o,animationBegin:n,animationDuration:l,animationEasing:x}=t,d=a.current,h=Ve(t,"recharts-scatter-"),[f,y]=c.useState(!1),P=c.useCallback(()=>{y(!1)},[]),E=c.useCallback(()=>{y(!0)},[]);return c.createElement(qe,{begin:n,duration:l,isActive:o,easing:x,from:{t:0},to:{t:1},onAnimationEnd:P,onAnimationStart:E,key:h},I=>{var{t:b}=I,u=b===1?r:r.map((v,T)=>{var C=d&&d[T];if(C){var s=W(C.cx,v.cx),p=W(C.cy,v.cy),m=W(C.size,v.size);return S(S({},v),{},{cx:s(b),cy:p(b),size:m(b)})}var w=W(0,v.size);return S(S({},v),{},{size:w(b)})});return b>0&&(a.current=u),c.createElement(F,null,c.createElement(ue,{points:u,allOtherScatterProps:t,showLabels:!f}))})}function Ia(e){var{points:a,isAnimationActive:t}=e,r=c.useRef(null),o=r.current;return t&&a&&a.length&&(!o||o!==a)?c.createElement(Sa,{props:e,previousPointsRef:r}):c.createElement(ue,{points:a,allOtherScatterProps:e,showLabels:!0})}function Ea(e){var{dataKey:a,points:t,stroke:r,strokeWidth:o,fill:n,name:l,hide:x,tooltipType:d}=e;return{dataDefinedOnItem:t?.map(h=>h.tooltipPayload),positions:t?.map(h=>h.tooltipPosition),settings:{stroke:r,strokeWidth:o,fill:n,nameKey:void 0,dataKey:a,name:ce(l,a),hide:x,type:d,color:n,unit:""}}}function Ta(e){var{displayedData:a,xAxis:t,yAxis:r,zAxis:o,scatterSettings:n,xAxisTicks:l,yAxisTicks:x,cells:d}=e,h=D(t.dataKey)?n.dataKey:t.dataKey,f=D(r.dataKey)?n.dataKey:r.dataKey,y=o&&o.dataKey,P=o?o.range:U.defaultProps.range,E=P&&P[0],I=t.scale.bandwidth?t.scale.bandwidth():0,b=r.scale.bandwidth?r.scale.bandwidth():0;return a.map((u,v)=>{var T=G(u,h),C=G(u,f),s=!D(y)&&G(u,y)||"-",p=[{name:D(t.dataKey)?n.name:t.name||t.dataKey,unit:t.unit||"",value:T,payload:u,dataKey:h,type:n.tooltipType},{name:D(r.dataKey)?n.name:r.name||r.dataKey,unit:r.unit||"",value:C,payload:u,dataKey:f,type:n.tooltipType}];s!=="-"&&p.push({name:o.name||o.dataKey,unit:o.unit||"",value:s,payload:u,dataKey:y,type:n.tooltipType});var m=ie({axis:t,ticks:l,bandSize:I,entry:u,index:v,dataKey:h}),w=ie({axis:r,ticks:x,bandSize:b,entry:u,index:v,dataKey:f}),K=s!=="-"?o.scale(s):E,_=Math.sqrt(Math.max(K,0)/Math.PI);return S(S({},u),{},{cx:m,cy:w,x:m-_,y:w-_,width:2*_,height:2*_,size:K,node:{x:T,y:C,z:s},tooltipPayload:p,tooltipPosition:{x:m,y:w},payload:u},d&&d[v]&&d[v].props)})}var Ra=(e,a,t)=>({x:e.cx,y:e.cy,value:t==="x"?+e.node.x:+e.node.y,errorVal:G(e,a)});function Oa(e){var a=c.useRef(He("recharts-scatter-")),{hide:t,points:r,className:o,needClip:n,xAxisId:l,yAxisId:x,id:d,children:h}=e;if(t)return null;var f=$e("recharts-scatter",o),y=D(d)?a.current:d;return c.createElement(F,{className:f,clipPath:n?"url(#clipPath-".concat(y,")"):null},n&&c.createElement("defs",null,c.createElement(we,{clipPathId:y,xAxisId:l,yAxisId:x})),c.createElement(Se,{xAxisId:l,yAxisId:x,data:r,dataPointFormatter:Ra,errorBarOffset:0},h),c.createElement(F,{key:"recharts-scatter-symbols"},c.createElement(Ia,e)))}var he={xAxisId:0,yAxisId:0,zAxisId:0,legendType:"circle",lineType:"joint",lineJointType:"linear",data:[],shape:"circle",hide:!1,isAnimationActive:!Le.isSsr,animationBegin:0,animationDuration:400,animationEasing:"linear"};function _a(e){var a=Me(e,he),{animationBegin:t,animationDuration:r,animationEasing:o,hide:n,isAnimationActive:l,legendType:x,lineJointType:d,lineType:h,shape:f,xAxisId:y,yAxisId:P,zAxisId:E}=a,I=pe(a,Pa),{needClip:b}=Ce(y,P),u=c.useMemo(()=>We(e.children,J),[e.children]),v=c.useMemo(()=>({name:e.name,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey}),[e.data,e.dataKey,e.name,e.tooltipType]),T=Ge(),C=de(s=>ga(s,y,P,E,v,u,T));return b==null?null:c.createElement(c.Fragment,null,c.createElement(Be,{fn:Ea,args:S(S({},e),{},{points:C})}),c.createElement(Oa,N({},I,{xAxisId:y,yAxisId:P,zAxisId:E,lineType:h,lineJointType:d,legendType:x,shape:f,hide:n,isAnimationActive:l,animationBegin:t,animationDuration:r,animationEasing:o,points:C,needClip:b})))}class Y extends c.Component{render(){return c.createElement(je,{type:"scatter",data:this.props.data,xAxisId:this.props.xAxisId,yAxisId:this.props.yAxisId,zAxisId:this.props.zAxisId,dataKey:this.props.dataKey,stackId:void 0,hide:this.props.hide,barSize:void 0},c.createElement(Ke,{legendPayload:Ca(this.props)}),c.createElement(_a,this.props))}}X(Y,"displayName","Scatter");X(Y,"defaultProps",he);var Da=["item"],Na=c.forwardRef((e,a)=>c.createElement(Re,{chartName:"ScatterChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Da,tooltipPayloadSearcher:aa,categoricalChartProps:e,ref:a}));function ka(e){const a={};return e.forEach(t=>{const r=new Set;t.PlayerStats.forEach(n=>{const l=q(n.MainRoleInitial);r.add(l)}),r.forEach(n=>{a[n]||(a[n]={totalGames:0,wins:0,winRate:0,players:{}}),a[n].totalGames++});const o=new Set;t.PlayerStats.forEach(n=>{if(n.Victorious){const l=q(n.MainRoleInitial);o.add(l)}}),o.forEach(n=>{a[n]&&a[n].wins++})}),a}function za(e,a){const t={};return e.forEach(r=>{r.PlayerStats.forEach(o=>{const n=o.Username.trim();if(!n)return;const l=q(o.MainRoleInitial);a[l].players[n]||(a[l].players[n]={games:0,wins:0,winRate:0}),a[l].players[n].games++,o.Victorious&&a[l].players[n].wins++,t[n]||(t[n]={totalGames:0,camps:{}}),t[n].camps[l]||(t[n].camps[l]={games:0,wins:0,winRate:0,performance:0}),t[n].totalGames++,t[n].camps[l].games++,o.Victorious&&t[n].camps[l].wins++})}),t}function Fa(e){Object.keys(e).forEach(a=>{e[a].totalGames>0&&(e[a].winRate=parseFloat((e[a].wins/e[a].totalGames*100).toFixed(2))),Object.keys(e[a].players).forEach(t=>{const r=e[a].players[t];r.games>0&&(r.winRate=parseFloat((r.wins/r.games*100).toFixed(2)))})})}function Ka(e,a){Object.keys(e).forEach(t=>{Object.keys(e[t].camps).forEach(r=>{const o=e[t].camps[r];o.games>0&&(o.winRate=parseFloat((o.wins/o.games*100).toFixed(2)),a[r]&&a[r].winRate&&(o.performance=parseFloat((o.winRate-a[r].winRate).toFixed(2))))})})}function Ma(e,a,t){const r=[];return Object.keys(e).forEach(n=>{const l=e[n],x=[];Object.keys(l.camps).forEach(d=>{const h=l.camps[d];h.games>=t&&x.push({camp:d,games:h.games,wins:h.wins,winRate:h.winRate.toFixed(2),campAvgWinRate:a[d].winRate.toFixed(2),performance:h.performance.toFixed(2)})}),x.sort((d,h)=>parseFloat(h.performance)-parseFloat(d.performance)),x.length>0&&r.push({player:n,totalGames:l.totalGames,campPerformance:x})}),r.sort((n,l)=>l.totalGames-n.totalGames),{campAverages:Object.keys(a).map(n=>({camp:n,totalGames:a[n].totalGames,wins:a[n].wins,winRate:a[n].winRate.toFixed(2)})),playerPerformanceArray:r}}function Wa(e){if(e.length===0)return null;const a=ka(e),t=za(e,a);Fa(a),Ka(t,a);const r=3,{campAverages:o,playerPerformanceArray:n}=Ma(t,a,r);return{campAverages:o,playerPerformance:n,minGamesRequired:r}}function Ga(){const{data:e,isLoading:a,error:t}=xe(Wa);return{playerCampPerformance:e,isLoading:a,error:t}}function Ja(){const{navigateToGameDetails:e,navigationState:a,updateNavigationState:t}=ve(),{settings:r}=ge(),o=Pe(),n=Ae(),[l,x]=c.useState(a.campPerformanceState?.selectedCampPerformanceView||"player-performance"),[d,h]=c.useState(a.campPerformanceState?.selectedCampPerformanceCamp||"Villageois"),[f,y]=c.useState(a.campPerformanceState?.selectedCampPerformanceMinGames||3),{playerCampPerformance:P,isLoading:E,error:I}=Ga();c.useEffect(()=>{a.campPerformanceState||t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:f}})},[l,d,f,a.campPerformanceState,t]);const b=c.useMemo(()=>P?.campAverages?P.campAverages.map(s=>s.camp).sort():[],[P]),{campPlayerData:u,topPerformersData:v}=c.useMemo(()=>{if(!P?.playerPerformance)return{campPlayerData:[],topPerformersData:[]};const{playerPerformance:s}=P,p=[],m=[];for(const j of s)for(const g of j.campPerformance)if(g.games>=f){const R={player:j.player,camp:g.camp,games:g.games,wins:g.wins,winRate:g.winRate,performance:g.performance,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1};m.push(R),g.camp===d&&p.push({player:j.player,...g,winRateNum:parseFloat(g.winRate),performanceNum:parseFloat(g.performance),campAvgWinRateNum:parseFloat(g.campAvgWinRate),isHighlightedAddition:!1})}const w=(j,g)=>{if(!r.highlightedPlayer||j.some(A=>A.player===r.highlightedPlayer&&(!g||A.camp===g)))return j;const M=s.find(A=>A.player===r.highlightedPlayer);if(!M)return j;const k=[];for(const A of M.campPerformance)(!g||A.camp===g)&&A.games>=1&&k.push({player:M.player,camp:A.camp,games:A.games,wins:A.wins,winRate:A.winRate,performance:A.performance,winRateNum:parseFloat(A.winRate),performanceNum:parseFloat(A.performance),campAvgWinRateNum:parseFloat(A.campAvgWinRate),isHighlightedAddition:!0});return[...j,...k]},K=w(p,d),_=w(m),fe=K.sort((j,g)=>g.performanceNum-j.performanceNum),ye=_.sort((j,g)=>g.performanceNum-j.performanceNum),Q=(j,g)=>{const R=j.slice(0,g);if(R.some(A=>A.player===r.highlightedPlayer)||!r.highlightedPlayer)return R;const k=j.find(A=>A.player===r.highlightedPlayer);if(k){const A={...k,isHighlightedAddition:!0};return[...R,A]}return R};return{campPlayerData:Q(fe,15),topPerformersData:Q(ye,20)}},[P,d,f,r.highlightedPlayer]),T=s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:d,campFilterMode:"wins-only",excludeTraitor:d==="Traître"},fromComponent:`Performance des Joueurs - ${d}`})},C=s=>{s&&s.player&&s.camp&&e({selectedPlayer:s.player,campFilter:{selectedCamp:s.camp,campFilterMode:"wins-only",excludeTraitor:s.camp==="Traître"},fromComponent:`Top 20 des Performances (Min. ${f} parties dans ce camp)`})};return E?i.jsx("div",{className:"donnees-attente",children:"Chargement des statistiques de performance par camp..."}):I?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",I]}):P?i.jsxs("div",{className:"lycans-player-camp-performance",children:[i.jsx("h2",{children:"Meilleurs Performances par Camp"}),i.jsxs("div",{className:"lycans-controls-section",style:{display:"flex",gap:"2rem",marginBottom:"2rem",justifyContent:"center",flexWrap:"wrap"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"view-mode-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Vue:"}),i.jsxs("select",{id:"view-mode-select",value:l,onChange:s=>{const p=s.target.value;x(p),t({campPerformanceState:{selectedCampPerformanceView:p,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"150px"},children:[i.jsx("option",{value:"player-performance",children:"Camp"}),i.jsx("option",{value:"top-performers",children:"Hall of Fame"})]})]}),l==="player-performance"&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"camp-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Camp:"}),i.jsx("select",{id:"camp-select",value:d,onChange:s=>{const p=s.target.value;h(p),t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:p,selectedCampPerformanceMinGames:f}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",minWidth:"120px"},children:b.map(s=>i.jsx("option",{value:s,children:s},s))})]}),(l==="player-performance"||l==="top-performers")&&i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[i.jsx("label",{htmlFor:"min-games-select",style:{color:"var(--text-secondary)",fontSize:"0.9rem"},children:"Min. parties:"}),i.jsx("select",{id:"min-games-select",value:f,onChange:s=>{const p=Number(s.target.value);y(p),t({campPerformanceState:{selectedCampPerformanceView:l,selectedCampPerformanceCamp:d,selectedCampPerformanceMinGames:p}})},style:{background:"var(--bg-tertiary)",color:"var(--text-primary)",border:"1px solid var(--border-color)",borderRadius:"4px",padding:"0.5rem",fontSize:"0.9rem",width:"90px"},children:be.map(s=>i.jsx("option",{value:s,children:s},s))})]})]}),i.jsxs("div",{className:"lycans-resume-conteneur",children:[i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Camps Analysés"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.campAverages.length}),i.jsx("p",{children:"camps différents"})]}),i.jsxs("div",{className:"lycans-stat-carte",children:[i.jsx("h3",{children:"Joueurs Évalués"}),i.jsx("div",{className:"lycans-valeur-principale",children:P.playerPerformance.length}),i.jsx("p",{children:"joueurs analysés"})]})]}),i.jsxs("div",{className:"lycans-graphiques-groupe",children:[l==="player-performance"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Meilleurs joueurs en ",d]}),i.jsx(ae,{title:`Meilleurs Joueurs - ${d}`,children:i.jsx("div",{style:{height:500},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(re,{data:u,margin:{top:20,right:30,left:20,bottom:0},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:p,payload:m})=>i.jsx("text",{x:s,y:p,dy:16,textAnchor:"end",fill:r.highlightedPlayer===m.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===m.value?14:13,fontWeight:r.highlightedPlayer===m.value?"bold":"italic",transform:`rotate(-45 ${s} ${p})`,children:m.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const m=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:m.player})}),i.jsxs("div",{children:["Parties: ",m.games]}),i.jsxs("div",{children:["Victoires: ",m.wins]}),i.jsxs("div",{children:["Taux personnel: ",m.winRate,"%"]}),i.jsxs("div",{children:["Moyenne camp: ",m.campAvgWinRate,"%"]}),i.jsxs("div",{children:["Performance: ",m.performance>0?"+":"",m.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(te,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:T,children:u.map((s,p)=>{const m=r.highlightedPlayer===s.player,w=s.isHighlightedAddition;return i.jsx(J,{fill:n[s.player]||(s.performanceNum>=0?"var(--accent-tertiary)":"var(--accent-danger)"),stroke:m?"var(--accent-primary)":"transparent",strokeWidth:m?3:0,strokeDasharray:w?"5,5":"none",opacity:w?.8:1},`cell-${p}`)})})]})})})})]}),i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsxs("h3",{children:["Performances en ",d," sur nombre de parties jouées"]}),i.jsx(ae,{title:`Performances vs Parties Jouées - ${d}`,children:i.jsx("div",{style:{height:400},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(Na,{data:u,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"games",type:"number",label:{value:"Parties jouées",position:"insideBottom",offset:-10}}),i.jsx(H,{dataKey:"performanceNum",type:"number",label:{value:"Performance (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const m=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:m.player})}),i.jsxs("div",{children:["Parties: ",m.games]}),i.jsxs("div",{children:["Performance: ",m.performance>0?"+":"",m.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(Y,{dataKey:"performanceNum",name:"Performance",onClick:s=>{s&&s.player&&e({selectedPlayer:s.player,campFilter:{selectedCamp:d,campFilterMode:"wins-only"},fromComponent:`Relation Parties Jouées vs Performance - ${d}`})},shape:s=>{const p=r.highlightedPlayer===s.payload?.player,m=s.payload?.isHighlightedAddition;return i.jsxs("g",{style:{cursor:"pointer"},children:[i.jsx("circle",{cx:s.cx,cy:s.cy,r:p?15:12,fill:n[s.payload?.player]||"var(--accent-primary)",stroke:p?"var(--accent-primary)":"#222",strokeWidth:p?3:1,strokeDasharray:m?"5,5":"none",opacity:m?.8:1}),i.jsx("text",{x:s.cx,y:s.cy,textAnchor:"middle",dominantBaseline:"middle",fill:"#fff",fontSize:p?"12":"10",fontWeight:"bold",pointerEvents:"none",children:s.payload?.player?.charAt(0).toUpperCase()})]})}})]})})})})]})]}),l==="top-performers"&&i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:`Top 20 des Performances (Min. ${f} parties dans ce camp)`}),i.jsx("div",{style:{height:600},children:i.jsx($,{width:"100%",height:"100%",children:i.jsxs(re,{data:v,margin:{top:20,right:30,left:20,bottom:20},children:[i.jsx(B,{strokeDasharray:"3 3"}),i.jsx(L,{dataKey:"player",angle:-45,textAnchor:"end",height:110,interval:0,fontSize:15,tick:({x:s,y:p,payload:m})=>i.jsx("text",{x:s,y:p,dy:16,textAnchor:"end",fill:r.highlightedPlayer===m.value?"var(--accent-primary)":"var(--text-secondary)",fontSize:r.highlightedPlayer===m.value?14:13,fontWeight:r.highlightedPlayer===m.value?"bold":"italic",transform:`rotate(-45 ${s} ${p})`,children:m.value})}),i.jsx(H,{label:{value:"Performance vs moyenne (%)",angle:270,position:"left",style:{textAnchor:"middle"}}}),i.jsx(V,{content:({active:s,payload:p})=>{if(s&&p&&p.length>0){const m=p[0].payload;return i.jsxs("div",{style:{background:"var(--bg-secondary)",color:"var(--text-primary)",padding:12,borderRadius:8,border:"1px solid var(--border-color)"},children:[i.jsx("div",{children:i.jsx("strong",{children:m.player})}),i.jsxs("div",{children:["Camp: ",m.camp]}),i.jsxs("div",{children:["Parties: ",m.games]}),i.jsxs("div",{children:["Taux personnel: ",m.winRate,"%"]}),i.jsxs("div",{children:["Performance: +",m.performance]}),i.jsx("div",{style:{fontSize:"0.8rem",color:"var(--accent-primary)",marginTop:"0.5rem",fontWeight:"bold",textAlign:"center",animation:"pulse 1.5s infinite"},children:"🖱️ Cliquez pour voir les parties"})]})}return null}}),i.jsx(te,{dataKey:"performanceNum",style:{cursor:"pointer"},onClick:C,children:v.map((s,p)=>{const m=r.highlightedPlayer===s.player,w=s.isHighlightedAddition;return i.jsx(J,{fill:o[s.camp]||`var(--chart-color-${p%6+1})`,stroke:m?"var(--accent-primary)":"transparent",strokeWidth:m?3:0,strokeDasharray:w?"5,5":"none",opacity:w?.8:1},`cell-${p}`)})})]})})})]})]})]}):i.jsx("div",{className:"donnees-manquantes",children:"Aucune donnée de performance par camp disponible"})}export{Ja as PlayerCampPerformanceChart};
