import{a as L,r as C,u as q,j as s,t as I,g as E,b as z}from"./index-C6WVRfsr.js";import{u as A}from"./useJoueursData-Bo11N_IX.js";import{u as D,g as M}from"./api-uKg6Fs4I.js";function V(o){const{settings:j}=L(),[h,v]=C.useState(null),[F,c]=C.useState(!1),[R,N]=C.useState(null);C.useEffect(()=>{let f=!0;return(async()=>{try{c(!0),N(null);const m=j.dataSource==="discord"?"/data/discord/playerAchievements.json":"/data/playerAchievements.json",y=await fetch(m);if(!y.ok)throw new Error(`Failed to load achievements: ${y.status} ${y.statusText}`);const x=await y.json();f&&v(x)}catch(m){f&&N(m instanceof Error?m.message:"Failed to load achievements")}finally{f&&c(!1)}})(),()=>{f=!1}},[j.dataSource]);const $=o&&h?.achievements[o]||null;return C.useEffect(()=>{if(o&&h){const f=h.achievements[o];f?console.log(`üèÜ Achievements for ${o} (${j.dataSource}):`,{allGames:f.allGamesAchievements.length,moddedOnly:f.moddedOnlyAchievements.length,categories:[...new Set([...f.allGamesAchievements.map(b=>b.category),...f.moddedOnlyAchievements.map(b=>b.category)])]}):console.log(`‚ùå No achievements found for ${o} in ${j.dataSource} data source`)}},[o,h,j.dataSource]),{data:$,isLoading:F,error:R,metadata:{generatedAt:h?.generatedAt||null,totalPlayers:h?.totalPlayers||0,totalGames:h?.totalGames||0,totalModdedGames:h?.totalModdedGames||0}}}function H({achievements:o,title:j,emptyMessage:h,achievementType:v="all"}){const{navigateToTab:F,updateNavigationState:c,clearNavigation:R}=q(),{settings:N,updateSettings:$}=L(),{joueursData:f}=A(),b=D(f),m=(e,l)=>{if(l.stopPropagation(),!e.redirectTo)return;R();const g=N.highlightedPlayer;if($(v==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:g,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:"all",playerFilter:{mode:"none",players:[]},highlightedPlayer:g,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!1,mapNameFilter:"all",playerFilter:{mode:"none",players:[]}}}),e.category==="comparison"&&e.redirectTo.subTab==="comparison"){const t=N.highlightedPlayer||"",a=y(e.description,t);a&&c({playerComparisonState:{selectedPlayer1:t,selectedPlayer2:a,showDetailedStats:!0}})}if(e.category==="comparison"&&e.redirectTo.subTab==="pairing"){const t=e.description.toLowerCase().includes("loup");c({selectedPairingTab:t?"wolves":"lovers"})}if(e.category==="kills"&&e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i);t&&c({deathStatsSelectedCamp:t[1]});let a=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(a=parseInt(i[1],10));let n="totalKills";const p=e.redirectTo.chartSection;p&&(p==="killers-total"?n="totalKills":p==="killers-average"?n="averageKills":p==="deaths-total"?n="totalDeaths":p==="survivors-average"&&(n="survivalRate")),c({deathStatisticsState:{selectedCamp:t?.[1]||"Tous les camps",minGamesForAverage:a,focusChart:n}})}if(e.category==="map"&&e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter||"all";let a=10;const i=e.description.match(/min\.\s*(\d+)/);i&&(a=parseInt(i[1])),$(v==="modded"?{gameFilter:"modded",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:g,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!0,gameFilter:"modded",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}:{gameFilter:"all",dateRange:{start:null,end:null},mapNameFilter:t,playerFilter:{mode:"none",players:[]},highlightedPlayer:g,useIndependentFilters:!0,independentFilters:{gameTypeEnabled:!1,gameFilter:"all",dateRangeEnabled:!1,dateRange:{start:null,end:null},mapNameEnabled:!0,mapNameFilter:t,playerFilter:{mode:"none",players:[]}}}),c({playersGeneralState:{minGamesForWinRate:a,winRateOrder:"best",focusChart:"winRate"}}),F("players","playersGeneral");return}if(e.category==="history"&&e.redirectTo.subTab==="history"&&c({selectedPlayerName:N.highlightedPlayer||"",groupingMethod:"session"}),e.category==="series"&&e.redirectTo.subTab==="series"){let t="wins";const a=e.title.toLowerCase(),i=e.description.toLowerCase();a.includes("d√©faite")||i.includes("d√©faite")?t="losses":a.includes("loup")||i.includes("loup")?t="loup":a.includes("villageois")||i.includes("villageois")?t="villageois":(a.includes("victoire")||i.includes("victoire"))&&(t="wins"),c({selectedSeriesType:t})}if(e.category==="general"&&e.redirectTo.subTab==="playersGeneral"){let t=10;const a=e.description.match(/min\.\s*(\d+)/);a&&(t=parseInt(a[1],10));let i="winRate",n="best";const p=e.title.toLowerCase(),k=e.description.toLowerCase();p.includes("participation")||k.includes("participation")?i="participation":(p.includes("taux de victoire")||k.includes("taux de victoire"))&&(i="winRate",(p.includes("moins bon")||p.includes("mauvais")||k.includes("moins bon")||k.includes("mauvais"))&&(n="worst")),c({playersGeneralState:{minGamesForWinRate:t,winRateOrder:n,focusChart:i}})}if(e.category==="performance"&&e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection;let a="Villageois",i=1;t&&(t==="camp-loup"?a="Loup":t==="camp-villageois"?a="Villageois":t==="camp-idiot"?a="Idiot du Village":t==="camp-amoureux"?a="Amoureux":(t==="solo-roles"||t==="hall-of-fame")&&(a="Villageois"));const n=e.description.match(/min\.\s*(\d+)/);n&&(i=parseInt(n[1],10)),t==="solo-roles"?a="R√¥les sp√©ciaux":t==="hall-of-fame"&&(a="Tous les camps"),c({campPerformanceState:{selectedCampPerformanceCamp:a,selectedCampPerformanceMinGames:i}})}if(e.category==="voting"&&e.redirectTo.subTab==="votingStats"){const t=e.title.toLowerCase();let a="overview",i="behavior";t.includes("agressivit√©")?(a="overview",i="behavior"):t.includes("taux de vote")?(a="behavior",i="voteRate"):t.includes("pr√©cision")&&(a="overview",i="accuracy"),c({votingStatsState:{selectedCategory:a,selectedView:i}})}F(e.redirectTo.tab,e.redirectTo.subTab)},y=(e,l)=>{const g=[/avec ([^:]+?):/,/contre ([^:]+?):/];for(const t of g){const a=e.match(t);if(a&&a[1]){const i=a[1].trim();if(i!==l)return i}}return null},x=e=>{if(!e.redirectTo)return"Aucune navigation disponible";switch(e.category){case"general":if(e.redirectTo.subTab==="playersGeneral"){const t=e.description.match(/min\.\s*(\d+)/),a=t?parseInt(t[1],10):10,i=e.title.toLowerCase(),n=v==="modded"?" (Filtre parties modd√©es activ√©)":" (Filtres r√©initialis√©s)";return i.includes("taux de victoire")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les taux de victoire (min. ${a} parties)${n}`:i.includes("participation")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les participations${n}`:`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir le classement g√©n√©ral des joueurs${n}`}break;case"map":if(e.redirectTo.subTab==="playersGeneral"){const t=e.redirectTo.mapFilter,a=t==="village"?"Village":t==="chateau"?"Ch√¢teau":"map",i=v==="modded"?" (Filtres parties modd√©es + map activ√©s)":" (Filtre map activ√©)";return`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les statistiques g√©n√©rales filtr√©es sur ${a}${i}`}break;case"history":if(e.redirectTo.subTab==="history")return"Cliquez pour voir l'historique d√©taill√© du joueur par map";break;case"comparison":if(e.redirectTo.subTab==="comparison")return`Cliquez pour comparer avec ${y(e.description,N.highlightedPlayer||"")||"ce joueur"}`;if(e.redirectTo.subTab==="pairing")return"Cliquez pour voir les statistiques de paires";break;case"kills":if(e.redirectTo.subTab==="deathStats"){const t=e.description.match(/(Villageois|Loups|Autres)/i),a=e.description.match(/min\.\s*(\d+)/),i=a?parseInt(a[1],10):10,n=t?.[1]||"Tous les camps",p=e.redirectTo.chartSection;let k="kills et morts";return p==="killers-total"?k="total des kills":p==="killers-average"?k=`moyenne des kills (min. ${i} parties)`:p==="deaths-total"?k="total des morts":p==="survivors-average"&&(k=`taux de survie (min. ${i} parties)`),`Cliquez pour voir les statistiques de ${k} ${n!=="Tous les camps"?`en ${n}`:""}`}break;case"series":if(e.redirectTo.subTab==="series"){const t=e.title.toLowerCase(),a=e.description.toLowerCase();return t.includes("d√©faite")||a.includes("d√©faite")?"Cliquez pour voir les s√©ries de d√©faites":t.includes("loup")||a.includes("loup")?"Cliquez pour voir les s√©ries Loups":t.includes("villageois")||a.includes("villageois")?"Cliquez pour voir les s√©ries Villageois":t.includes("victoire")||a.includes("victoire")?"Cliquez pour voir les s√©ries de victoires":"Cliquez pour voir les s√©ries cons√©cutives"}break;case"performance":if(e.redirectTo.subTab==="campPerformance"){const t=e.redirectTo.chartSection,a=v==="modded"?" (Filtre parties modd√©es activ√©)":" (Filtres r√©initialis√©s)";return t==="camp-loup"?`Cliquez pour voir les performances camp Loup${a}`:t==="camp-villageois"?`Cliquez pour voir les performances camp Villageois${a}`:t==="camp-idiot"?`Cliquez pour voir les performances camp Idiot du Village${a}`:t==="camp-amoureux"?`Cliquez pour voir les performances camp Amoureux${a}`:t==="solo-roles"?`Cliquez pour voir le classement (r√¥les sp√©ciaux)${a}`:t==="hall-of-fame"?`Cliquez pour voir le Hall of Fame (toutes performances)${a}`:`Cliquez pour voir les performances par camp${a}`}break;case"voting":if(e.redirectTo.subTab==="votingStats"){const t=e.description.match(/min\.\s*(\d+)/),a=t?parseInt(t[1],10):25,i=v==="modded"?" (Filtre parties modd√©es activ√©)":" (Filtres r√©initialis√©s)",n=e.title.toLowerCase();return n.includes("agressivit√©")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir le score d'agressivit√© (min. ${a} meetings)${i}`:n.includes("taux de vote")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir le taux de vote (min. ${a} meetings)${i}`:n.includes("pr√©cision")?`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir la pr√©cision des votes${i}`:`Classement: ${e.rank}${e.totalRanked?`/${e.totalRanked} joueurs`:""} - Cliquez pour voir les statistiques de vote${i}`}break}return`Cliquez pour voir ${e.redirectTo.subTab}`+(v==="modded"?" (Filtre parties modd√©es activ√©)":" (Filtres r√©initialis√©s)")},G=e=>b[e]||M(e),T=e=>{const l=[/avec ([^:]+?):/,/contre ([^:]+?):/];let g=e;return l.forEach(t=>{const a=e.match(t);if(a&&a[1]){const i=a[1].trim(),p=`<span class="player-name-highlight" style="color: ${G(i)};">${i}</span>`;g=g.replace(i,p)}}),g};if(o.length===0)return s.jsxs("div",{className:"achievements-empty",children:[s.jsx("h4",{children:j}),s.jsx("p",{children:h||"Aucun succ√®s dans cette cat√©gorie"})]});const w=e=>e===1?"ü•á":e===2?"ü•à":e===3?"ü•â":"",S=e=>e===1?"rank-1":e===2?"rank-2":e===3?"rank-3":e&&e<=10?"rank-top-10":"",P=o.filter(e=>e.category!=="comparison"&&(e.type==="good"||e.type==="neutral")).sort((e,l)=>(e.rank??999)-(l.rank??999)),r=o.filter(e=>e.category!=="comparison"&&e.type==="bad").sort((e,l)=>(e.rank??999)-(l.rank??999)),d=o.filter(e=>e.category==="comparison"),u=P.filter(e=>e.rank&&e.rank<=3).length;return s.jsxs("div",{className:"achievements-container",children:[s.jsx("h4",{children:j}),u>0&&s.jsxs("div",{className:"top3-showcase",children:[s.jsx("h5",{className:"top3-title",children:"‚ú® Podium d'Excellence ‚ú®"}),s.jsx("div",{className:"top3-grid",children:P.filter(e=>e.rank&&e.rank<=3).map((e,l)=>s.jsxs("div",{className:`top3-card ${S(e.rank)} animate-slide-in`,style:{animationDelay:`${l*.15}s`},onClick:g=>m(e,g),title:x(e),children:[s.jsx("div",{className:"top3-medal-container",children:s.jsx("span",{className:"top3-medal",children:w(e.rank)})}),s.jsxs("div",{className:"top3-content",children:[s.jsxs("div",{className:"top3-rank-badge",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]}),s.jsx("h6",{className:"top3-achievement-title",children:e.title}),s.jsx("p",{className:"top3-achievement-description",children:e.description})]}),s.jsxs("div",{className:"top3-sparkles",children:[s.jsx("span",{className:"sparkle sparkle-1",children:"‚ú®"}),s.jsx("span",{className:"sparkle sparkle-2",children:"‚≠ê"}),s.jsx("span",{className:"sparkle sparkle-3",children:"‚ú®"})]})]},e.id))})]}),P.length>0&&s.jsxs("div",{className:"achievements-section good-achievements",children:[s.jsx("h5",{children:"üèÜ Classements"}),s.jsx("div",{className:"achievements-grid",children:P.filter(e=>!e.rank||e.rank>3).map((e,l)=>s.jsxs("div",{className:`achievement-card good ${S(e.rank)}`,onClick:g=>m(e,g),title:x(e),style:{animationDelay:`${l*.05}s`},children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),r.length>0&&s.jsxs("div",{className:"achievements-section bad-achievements",children:[s.jsx("h5",{children:"üíÄ Classements (Invers√©s)"}),s.jsx("div",{className:"achievements-grid",children:r.map(e=>s.jsxs("div",{className:`achievement-card bad rank-${e.rank}`,onClick:l=>m(e,l),title:x(e),children:[s.jsxs("div",{className:"achievement-header",children:[s.jsx("span",{className:"achievement-title",children:e.title}),s.jsxs("span",{className:"achievement-rank",children:["#",e.rank,e.totalRanked?`/${e.totalRanked}`:""]})]}),s.jsx("p",{className:"achievement-description",children:e.description})]},e.id))})]}),d.length>0&&s.jsxs("div",{className:"achievements-section comparison-achievements",children:[s.jsx("h5",{children:"üìä Statistiques Face-√†-Face"}),s.jsx("div",{className:"achievements-grid",children:d.map(e=>s.jsxs("div",{className:"achievement-card comparison",onClick:l=>m(e,l),title:x(e),children:[s.jsx("div",{className:"achievement-header",children:s.jsx("span",{className:"achievement-title",children:e.title})}),s.jsx("p",{className:"achievement-description",dangerouslySetInnerHTML:{__html:T(e.description)}})]},e.id))})]})]})}function _(){const{settings:o,updateSettings:j}=L(),{data:h,isLoading:v,error:F}=I(),{joueursData:c,isLoading:R}=A(),{data:N,isLoading:$,error:f}=V(o.highlightedPlayer),b=D(c),[m,y]=C.useState(""),[x,G]=C.useState("all"),T=C.useMemo(()=>{if(!h||!h.GameStats)return[];const r=new Map;return h.GameStats.forEach(d=>{const u=new Date(d.StartDate);d.PlayerStats.forEach(e=>{const l=E(e),t=c?.Players?.find(i=>i.ID===l)?.Joueur||z(e);r.has(l)||r.set(l,{games:0,wins:0,firstDate:u,lastDate:u,displayName:t});const a=r.get(l);a.games++,e.Victorious&&a.wins++,u<a.firstDate&&(a.firstDate=u),u>a.lastDate&&(a.lastDate=u)})}),Array.from(r.entries()).map(([d,u])=>{let e=c?.Players?.find(l=>l.ID===d);return e||(e=c?.Players?.find(l=>l.Joueur===u.displayName)),{name:u.displayName,totalGames:u.games,totalWins:u.wins,winRate:u.games>0?u.wins/u.games*100:0,firstGameDate:u.firstDate.toLocaleDateString("fr-FR"),lastGameDate:u.lastDate.toLocaleDateString("fr-FR"),isHighlighted:u.displayName===o.highlightedPlayer,image:e?.Image||null,twitch:e?.Twitch||null,youtube:e?.Youtube||null}})},[h,o.highlightedPlayer,c]),w=C.useMemo(()=>{if(!m.trim())return T;const r=m.toLowerCase();return T.filter(d=>d.name.toLowerCase().includes(r))},[T,m]),S=C.useMemo(()=>[...w].sort((r,d)=>d.totalGames-r.totalGames),[w]),P=r=>{j({highlightedPlayer:r}),y("")};return v||R?s.jsxs("div",{className:"player-selection-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des joueurs..."})]}):F?s.jsxs("div",{className:"player-selection-error",children:[s.jsx("h2",{children:"Erreur"}),s.jsxs("p",{children:["Impossible de charger les donn√©es des joueurs: ",F]})]}):!h||T.length===0?s.jsxs("div",{className:"player-selection-empty",children:[s.jsx("h2",{children:"Aucune donn√©e disponible"}),s.jsx("p",{children:"Aucun joueur trouv√© dans les donn√©es."})]}):s.jsxs("div",{className:"player-selection-container",children:[!o.highlightedPlayer&&s.jsxs("div",{className:"search-controls-header",children:[s.jsxs("div",{className:"selection-prompt-content",children:[s.jsx("h2",{children:"S√©lectionnez un joueur"}),s.jsx("p",{children:"Choisissez un joueur pour le mettre en √©vidence dans tous les graphiques."})]}),s.jsxs("div",{className:"search-controls",children:[s.jsxs("div",{className:"search-box",children:[s.jsx("input",{type:"text",placeholder:"Rechercher un joueur...",value:m,onChange:r=>y(r.target.value),className:"search-input"}),s.jsx("span",{className:"search-icon",children:"üîç"})]}),s.jsxs("div",{className:"player-count",children:[w.length," joueur",w.length!==1?"s":"",m&&` (filtr√©${w.length!==1?"s":""} de ${T.length})`]})]})]}),s.jsx("div",{className:"player-display",children:m?w.length>0?s.jsxs("div",{className:"search-results",children:[s.jsxs("div",{className:"search-results-header",children:[s.jsx("h3",{children:"R√©sultats de recherche:"}),s.jsx("button",{className:"clear-search-btn",onClick:()=>y(""),children:"Effacer la recherche"})]}),s.jsx("div",{className:"suggestion-list",children:S.map(r=>s.jsxs("button",{className:`suggestion-btn ${r.isHighlighted?"highlighted":""}`,onClick:()=>P(r.name),children:[r.image?s.jsx("img",{src:r.image,alt:r.name,className:"player-avatar"}):s.jsx("div",{className:"player-avatar-default",style:{"--player-color":b[r.name]||"var(--accent-primary)"},children:s.jsx("div",{className:"player-avatar-overlay"})}),s.jsxs("div",{className:"suggestion-btn-content",children:[s.jsxs("div",{className:"suggestion-btn-name",children:[r.name,r.isHighlighted&&s.jsx("span",{className:"highlight-indicator",children:" ‚òÖ"})]}),s.jsxs("div",{className:"suggestion-btn-stats",children:[r.totalGames," parties ‚Ä¢ ",r.winRate.toFixed(1),"% victoires"]})]})]},r.name))})]}):s.jsxs("div",{className:"no-results",children:[s.jsxs("p",{children:['Aucun joueur trouv√© pour "',m,'"']}),s.jsx("button",{className:"clear-search-btn",onClick:()=>y(""),children:"Effacer la recherche"})]}):o.highlightedPlayer?(()=>{const r=T.find(d=>d.name===o.highlightedPlayer);return r?s.jsxs("div",{className:"single-player-card highlighted",children:[s.jsxs("div",{className:"player-card-header",children:[s.jsx("h3",{className:"player-name",children:r.name}),s.jsx("span",{className:"highlight-badge",children:"‚òÖ Mis en √©vidence"})]}),s.jsxs("div",{className:"player-info-row",children:[r.image?s.jsx("img",{src:r.image,alt:r.name,className:"player-avatar large"}):s.jsx("div",{className:"player-avatar-default large",style:{"--player-color":b[r.name]||"var(--accent-primary)"},children:s.jsx("div",{className:"player-avatar-overlay"})}),s.jsxs("div",{className:"player-info-text",children:[s.jsxs("div",{className:"player-stats-summary",children:[r.totalGames," parties ‚Ä¢ ",r.totalWins," victoires ‚Ä¢ ",r.winRate.toFixed(1),"% taux de victoire"]}),(r.twitch||r.youtube)&&s.jsxs("div",{className:"social-links",children:[r.twitch&&s.jsx("a",{href:r.twitch,target:"_blank",rel:"noopener noreferrer",className:"social-link twitch",children:"üì∫ Twitch"}),r.youtube&&s.jsx("a",{href:r.youtube,target:"_blank",rel:"noopener noreferrer",className:"social-link youtube",children:"üé¨ YouTube"})]})]})]}),s.jsxs("div",{className:"player-actions",children:[s.jsxs("div",{className:"achievements-section",children:[$?s.jsxs("div",{className:"achievements-loading",children:[s.jsx("div",{className:"loading-spinner"}),s.jsx("p",{children:"Chargement des classements..."})]}):f?s.jsx("div",{className:"achievements-error",children:s.jsxs("p",{children:["‚ùå Erreur lors du chargement des classements: ",f]})}):N?s.jsx(H,{achievements:x==="all"?N.allGamesAchievements:N.moddedOnlyAchievements,title:x==="all"?"Classements - Toutes les parties":"Classements - Parties modd√©es",emptyMessage:"Aucun classement dans cette cat√©gorie",achievementType:x}):s.jsx("div",{className:"achievements-empty",children:s.jsx("p",{children:"Aucun classement disponible pour ce joueur"})}),s.jsxs("div",{className:"achievements-filter",children:[s.jsx("button",{className:`filter-btn ${x==="all"?"active":""}`,onClick:d=>{d.stopPropagation(),G("all")},children:"Toutes les parties"}),s.jsx("button",{className:`filter-btn ${x==="modded"?"active":""}`,onClick:d=>{d.stopPropagation(),G("modded")},children:"Parties modd√©es"})]}),s.jsx("button",{className:"highlight-btn active",onClick:d=>{d.stopPropagation(),j({highlightedPlayer:null})},children:"‚òÖ Retirer la mise en √©vidence"})]}),s.jsxs("div",{className:"player-period",children:[s.jsx("span",{className:"period-label",children:"P√©riode d'activit√©:"}),s.jsxs("span",{className:"period-range",children:[r.firstGameDate," - ",r.lastGameDate]})]})]})]}):s.jsxs("div",{className:"no-player-found",children:[s.jsxs("p",{children:['Le joueur "',o.highlightedPlayer,`" n'a pas √©t√© trouv√© dans les donn√©es.`]}),s.jsx("button",{className:"clear-selection-btn",onClick:()=>j({highlightedPlayer:null}),children:"Effacer la s√©lection"})]})})():s.jsx("div",{className:"player-selection-prompt",children:s.jsx("div",{className:"character-selection-grid",children:S.map(r=>s.jsxs("div",{className:`character-card ${r.isHighlighted?"highlighted":""}`,onClick:()=>P(r.name),title:`${r.name} - ${r.totalGames} parties, ${r.winRate.toFixed(1)}% victoires`,children:[s.jsx("div",{className:"character-avatar-container",children:r.image?s.jsx("img",{src:r.image,alt:r.name,className:"character-avatar"}):s.jsx("div",{className:"character-avatar-default",style:{"--player-color":b[r.name]||"var(--accent-primary)"},children:s.jsx("div",{className:"character-avatar-overlay"})})}),s.jsx("div",{className:"character-name",children:r.name}),(r.twitch||r.youtube)&&s.jsxs("div",{className:"character-social-indicators",children:[r.twitch&&s.jsx("div",{className:"social-indicator twitch",title:"Twitch",children:"T"}),r.youtube&&s.jsx("div",{className:"social-indicator youtube",title:"YouTube",children:"Y"})]})]},r.name))})})})]})}export{_ as PlayerSelectionPage};
