import{a as c,d as m}from"./datasyncExport-DGHJw6Ba.js";function y(r){if(r.length===0)return null;const e={};let n=0;r.forEach(s=>{const a=s.PlayerStats;a.length>0&&(n++,a.forEach(l=>{const t=l.Username.trim();if(t){e[t]||(e[t]={gamesPlayed:0,gamesPlayedPercent:"0",wins:0,winPercent:"0",camps:{}}),e[t].gamesPlayed++;const o=c(l.MainRoleInitial,l.MainRoleChanges||[]);o&&(o in e[t].camps||(e[t].camps[o]=0),e[t].camps[o]++),l.Victorious&&e[t].wins++}}))}),Object.keys(e).forEach(s=>{const a=e[s];a.gamesPlayedPercent=(a.gamesPlayed/n*100).toFixed(2),a.winPercent=(a.wins/a.gamesPlayed*100).toFixed(2)});const i=Object.keys(e).map(s=>({player:s,...e[s]}));return i.sort((s,a)=>a.gamesPlayed-s.gamesPlayed),{totalGames:n,playerStats:i}}function d(){const{data:r,isLoading:e,error:n}=m(i=>y(i));return{data:r,isLoading:e,error:n}}export{d as u};
