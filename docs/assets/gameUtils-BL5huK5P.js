function l(e){if(!e)return{videoId:null,timestamp:null};try{const s=new URL(e);let n=null,t=null;s.hostname==="youtu.be"?n=s.pathname.slice(1):(s.hostname==="www.youtube.com"||s.hostname==="youtube.com")&&(n=s.searchParams.get("v"));const u=s.searchParams.get("t");if(u)if(/^\d+$/.test(u))t=parseInt(u,10);else{const i=u.match(/(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s?)?/);if(i){const r=parseInt(i[1]||"0",10),o=parseInt(i[2]||"0",10),a=parseInt(i[3]||"0",10);t=r*3600+o*60+a}}return{videoId:n,timestamp:t}}catch{return console.warn("Failed to parse YouTube URL:",e),{videoId:null,timestamp:null}}}function c(e,s){if(!e||!s)return null;try{const i=new Date(e),r=new Date(s);if(!isNaN(i.getTime())&&!isNaN(r.getTime())){const o=r.getTime()-i.getTime();return o>0?Math.round(o/1e3):null}}catch{}const n=l(e),t=l(s);if(n.timestamp===null||t.timestamp===null)return null;const u=t.timestamp-n.timestamp;return u>0?u:null}function m(e){const s=Math.floor(e/60),n=Math.round(e%60);return`${s}:${n.toString().padStart(2,"0")}`}function f(e){return e?e==="Loup"?"Loup":e==="Traître"?"Traître":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e==="Chasseur"||e==="Alchimiste"?"Villageois":e:"Villageois"}function p(e){return!e||e==="Chasseur"||e==="Alchimiste"?"Villageois":e==="Amoureux Loup"||e==="Amoureux Villageois"?"Amoureux":e}function g(e){const s=e.PlayerStats.filter(t=>t.Victorious);let n="";if(s.length>0){const t=s.map(u=>u.MainRoleInitial);if(t.includes("Loup")||t.includes("Traître"))n="Loup";else if(t.includes("Amoureux Loup")||t.includes("Amoureux Villageois")||t.includes("Amoureux"))n="Amoureux";else if(t.includes("Villageois")||t.includes("Chasseur")||t.includes("Alchmiste"))n="Villageois";else{const u=t.filter(i=>!["Villageois","Loup","Traître","Chasseur","Alchmiste","Amoureux Loup","Amoureux Villageois"].includes(i));u.length>0?n=u[0]:n="Villageois"}return n}return"Villageois"}export{g as a,p as b,c,m as f,f as g};
