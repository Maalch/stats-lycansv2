import{r as l,u as lr,j as i}from"./index-BXSAOFTt.js";import{u as or}from"./usePlayerStatsFromRaw-C0y1PtkQ.js";import{u as cr}from"./useRawGameData-D0mIR6HN.js";import{s as xe,c as ur,f as dr}from"./gameUtils-eJjgb3Fr.js";import{p as R}from"./api-beq3FXpM.js";import{i as B,h as x,p as S,Y as $e,Z as pr,_ as re,$ as Fe,a0 as me,a1 as mr,a2 as _e,a3 as fe,a4 as fr,a5 as yr,a6 as vr,a7 as hr,a8 as gr,d as E,a9 as ae,aa as w,ab as Ie,ac as Be,ad as Ke,u as We,ae as xr,af as jr,L as F,j as Pr,Q as Ve,ag as qe,ah as Ge,ai as br,aj as Ar,ak as Or,b as ze,al as Sr,am as Er,an as wr,ao as kr,ap as je,aq as Rr,C as Nr,z as He,H as Pe,ar as Cr,E as be,J as Mr,K as Dr,M as Y,U as Tr,G as Lr,A as $r,X as Fr,F as _r,R as Ir,T as Br}from"./FullscreenChart-xcVvnbIO.js";import{s as Kr,a as Wr,b as Vr,c as qr,P as Gr}from"./PolarChart-BQu0mxnv.js";import{D as Je,A as zr}from"./ActivePoints-t78egM49.js";import{L as Hr}from"./Legend-D2neZ_vx.js";var Jr=["points","className","baseLinePoints","connectNulls"];function G(){return G=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},G.apply(null,arguments)}function Zr(e,r){if(e==null)return{};var a,t,s=Ur(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ur(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var Ae=e=>e&&e.x===+e.x&&e.y===+e.y,Xr=function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],a=[[]];return r.forEach(t=>{Ae(t)?a[a.length-1].push(t):a[a.length-1].length>0&&a.push([])}),Ae(r[0])&&a[a.length-1].push(r[0]),a[a.length-1].length<=0&&(a=a.slice(0,-1)),a},Z=(e,r)=>{var a=Xr(e);r&&(a=[a.reduce((s,n)=>[...s,...n],[])]);var t=a.map(s=>s.reduce((n,c,o)=>"".concat(n).concat(o===0?"M":"L").concat(c.x,",").concat(c.y),"")).join("");return a.length===1?"".concat(t,"Z"):t},Yr=(e,r,a)=>{var t=Z(e,a);return"".concat(t.slice(-1)==="Z"?t.slice(0,-1):t,"L").concat(Z(r.reverse(),a).slice(1))},Ze=e=>{var{points:r,className:a,baseLinePoints:t,connectNulls:s}=e,n=Zr(e,Jr);if(!r||!r.length)return null;var c=B("recharts-polygon",a);if(t&&t.length){var o=n.stroke&&n.stroke!=="none",u=Yr(r,t,s);return l.createElement("g",{className:c},l.createElement("path",G({},x(n,!0),{fill:u.slice(-1)==="Z"?n.fill:"none",stroke:"none",d:u})),o?l.createElement("path",G({},x(n,!0),{fill:"none",d:Z(r,s)})):null,o?l.createElement("path",G({},x(n,!0),{fill:"none",d:Z(t,s)})):null)}var p=Z(r,s);return l.createElement("path",G({},x(n,!0),{fill:p.slice(-1)==="Z"?n.fill:"none",className:c,d:p}))},ye=(e,r,a)=>{switch(r){case"angleAxis":return fe(e,a);case"radiusAxis":return _e(e,a);default:throw new Error("Unexpected axis type: ".concat(r))}},ve=(e,r,a)=>{switch(r){case"angleAxis":return yr(e,a);case"radiusAxis":return fr(e,a);default:throw new Error("Unexpected axis type: ".concat(r))}},H=S([ye,$e,Kr,ve],pr),Ue=S([re,Vr,vr,me],hr),J=S([re,ye,$e,H,Wr,ve,Fe,Ue,me],mr);S([re,ye,H,ve,Fe,Ue,me],gr);var Qr=(e,r)=>J(e,"angleAxis",r,!1),ea=S([Qr],e=>{if(e)return e.map(r=>r.coordinate)}),ra=(e,r)=>J(e,"radiusAxis",r,!1),aa=S([ra],e=>{if(e)return e.map(r=>r.coordinate)}),ta=["gridType","radialLines","angleAxisId","radiusAxisId","cx","cy","innerRadius","outerRadius"];function na(e,r){if(e==null)return{};var a,t,s=ia(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ia(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}function _(){return _=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},_.apply(null,arguments)}function Oe(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function z(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Oe(Object(a),!0).forEach(function(t){sa(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Oe(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function sa(e,r,a){return(r=la(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function la(e){var r=oa(e,"string");return typeof r=="symbol"?r:r+""}function oa(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var ca=(e,r,a,t)=>{var s="";return t.forEach((n,c)=>{var o=w(r,a,e,n);c?s+="L ".concat(o.x,",").concat(o.y):s+="M ".concat(o.x,",").concat(o.y)}),s+="Z",s},ua=e=>{var{cx:r,cy:a,innerRadius:t,outerRadius:s,polarAngles:n,radialLines:c}=e;if(!n||!n.length||!c)return null;var o=z({stroke:"#ccc"},x(e,!1));return l.createElement("g",{className:"recharts-polar-grid-angle"},n.map(u=>{var p=w(r,a,t,u),f=w(r,a,s,u);return l.createElement("line",_({},o,{key:"line-".concat(u),x1:p.x,y1:p.y,x2:f.x,y2:f.y}))}))},da=e=>{var{cx:r,cy:a,radius:t,index:s}=e,n=z(z({stroke:"#ccc"},x(e,!1)),{},{fill:"none"});return l.createElement("circle",_({},n,{className:B("recharts-polar-grid-concentric-circle",e.className),key:"circle-".concat(s),cx:r,cy:a,r:t}))},pa=e=>{var{radius:r,index:a}=e,t=z(z({stroke:"#ccc"},x(e,!1)),{},{fill:"none"});return l.createElement("path",_({},t,{className:B("recharts-polar-grid-concentric-polygon",e.className),key:"path-".concat(a),d:ca(r,e.cx,e.cy,e.polarAngles)}))},ma=e=>{var{polarRadius:r,gridType:a}=e;return!r||!r.length?null:l.createElement("g",{className:"recharts-polar-grid-concentric"},r.map((t,s)=>{var n=s;return a==="circle"?l.createElement(da,_({key:n},e,{radius:t,index:s})):l.createElement(pa,_({key:n},e,{radius:t,index:s}))}))},Xe=e=>{var r,a,t,s,n,c,o,u,{gridType:p="polygon",radialLines:f=!0,angleAxisId:d=0,radiusAxisId:y=0,cx:g,cy:m,innerRadius:P,outerRadius:M}=e,b=na(e,ta),h=E(ae),D=z({cx:(r=(a=h?.cx)!==null&&a!==void 0?a:g)!==null&&r!==void 0?r:0,cy:(t=(s=h?.cy)!==null&&s!==void 0?s:m)!==null&&t!==void 0?t:0,innerRadius:(n=(c=h?.innerRadius)!==null&&c!==void 0?c:P)!==null&&n!==void 0?n:0,outerRadius:(o=(u=h?.outerRadius)!==null&&u!==void 0?u:M)!==null&&o!==void 0?o:0},b),{polarAngles:O,polarRadius:q,cx:v,cy:j,innerRadius:T,outerRadius:k}=D,K=E($=>ea($,d)),L=E($=>aa($,y)),V=Array.isArray(O)?O:K,W=Array.isArray(q)?q:L;return k<=0||V==null||W==null?null:l.createElement("g",{className:"recharts-polar-grid"},l.createElement(ua,_({cx:v,cy:j,innerRadius:T,outerRadius:k,gridType:p,radialLines:f},D,{polarAngles:V,polarRadius:W})),l.createElement(ma,_({cx:v,cy:j,innerRadius:T,outerRadius:k,gridType:p,radialLines:f},D,{polarAngles:V,polarRadius:W})))};Xe.displayName="PolarGrid";var le={},oe={},Se;function fa(){return Se||(Se=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a,t){if(a.length===0)return;let s=a[0],n=t(s);for(let c=1;c<a.length;c++){const o=a[c],u=t(o);u>n&&(n=u,s=o)}return s}e.maxBy=r}(oe)),oe}var Ee;function ya(){return Ee||(Ee=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=fa(),a=Be(),t=Ie();function s(n,c){if(n!=null)return r.maxBy(Array.from(n),t.iteratee(c??a.identity))}e.maxBy=s}(le)),le}var ce,we;function va(){return we||(we=1,ce=ya().maxBy),ce}var ha=va();const ga=Ke(ha);var ue={},de={},ke;function xa(){return ke||(ke=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function r(a,t){if(a.length===0)return;let s=a[0],n=t(s);for(let c=1;c<a.length;c++){const o=a[c],u=t(o);u<n&&(n=u,s=o)}return s}e.minBy=r}(de)),de}var Re;function ja(){return Re||(Re=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const r=xa(),a=Be(),t=Ie();function s(n,c){if(n!=null)return r.minBy(Array.from(n),t.iteratee(c??a.identity))}e.minBy=s}(ue)),ue}var pe,Ne;function Pa(){return Ne||(Ne=1,pe=ja().minBy),pe}var ba=Pa();const Aa=Ke(ba);var Oa=["cx","cy","angle","axisLine"],Sa=["angle","tickFormatter","stroke","tick"];function U(){return U=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},U.apply(null,arguments)}function Ce(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function C(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Ce(Object(a),!0).forEach(function(t){te(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function te(e,r,a){return(r=Ea(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Ea(e){var r=wa(e,"string");return typeof r=="symbol"?r:r+""}function wa(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ye(e,r){if(e==null)return{};var a,t,s=ka(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ka(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var Qe="radiusAxis";function Ra(e){var r=We();return l.useEffect(()=>(r(xr(e)),()=>{r(jr(e))})),null}var Na=(e,r,a,t)=>{var{coordinate:s}=e;return w(a,t,s,r)},Ca=e=>{var r;switch(e){case"left":r="end";break;case"right":r="start";break;default:r="middle";break}return r},Ma=(e,r,a,t)=>{var s=ga(t,c=>c.coordinate||0),n=Aa(t,c=>c.coordinate||0);return{cx:r,cy:a,startAngle:e,endAngle:e,innerRadius:n.coordinate||0,outerRadius:s.coordinate||0}},Da=(e,r)=>{var{cx:a,cy:t,angle:s,axisLine:n}=e,c=Ye(e,Oa),o=r.reduce((d,y)=>[Math.min(d[0],y.coordinate),Math.max(d[1],y.coordinate)],[1/0,-1/0]),u=w(a,t,o[0],s),p=w(a,t,o[1],s),f=C(C(C({},x(c,!1)),{},{fill:"none"},x(n,!1)),{},{x1:u.x,y1:u.y,x2:p.x,y2:p.y});return l.createElement("line",U({className:"recharts-polar-radius-axis-line"},f))},Ta=(e,r,a)=>{var t;return l.isValidElement(e)?t=l.cloneElement(e,r):typeof e=="function"?t=e(r):t=l.createElement(Ge,U({},r,{className:"recharts-polar-radius-axis-tick-value"}),a),t},La=(e,r)=>{var{angle:a,tickFormatter:t,stroke:s,tick:n}=e,c=Ye(e,Sa),o=Ca(e.orientation),u=x(c,!1),p=x(n,!1),f=r.map((d,y)=>{var g=Na(d,e.angle,e.cx,e.cy),m=C(C(C(C({textAnchor:o,transform:"rotate(".concat(90-a,", ").concat(g.x,", ").concat(g.y,")")},u),{},{stroke:"none",fill:s},p),{},{index:y},g),{},{payload:d});return l.createElement(F,U({className:B("recharts-polar-radius-axis-tick",qe(n)),key:"tick-".concat(d.coordinate)},Ve(e,d,y)),Ta(n,m,t?t(d.value,y):d.value))});return l.createElement(F,{className:"recharts-polar-radius-axis-ticks"},f)},$a=e=>{var{radiusAxisId:r}=e,a=E(ae),t=E(u=>H(u,"radiusAxis",r)),s=E(u=>J(u,"radiusAxis",r,!1));if(a==null||!s||!s.length)return null;var n=C(C(C({},e),{},{scale:t},a),{},{radius:a.outerRadius}),{tick:c,axisLine:o}=n;return l.createElement(F,{className:B("recharts-polar-radius-axis",Qe,n.className)},o&&Da(n,s),c&&La(n,s),Pr.renderCallByParent(n,Ma(n.angle,n.cx,n.cy,s)))};class ne extends l.PureComponent{render(){return l.createElement(l.Fragment,null,l.createElement(Ra,{domain:this.props.domain,id:this.props.radiusAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:this.props.allowDuplicatedCategory,allowDataOverflow:this.props.allowDataOverflow,reversed:this.props.reversed,includeHidden:this.props.includeHidden,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick}),l.createElement($a,this.props))}}te(ne,"displayName","PolarRadiusAxis");te(ne,"axisType",Qe);te(ne,"defaultProps",br);var Fa=["children"];function I(){return I=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},I.apply(null,arguments)}function Me(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function N(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Me(Object(a),!0).forEach(function(t){ie(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Me(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function ie(e,r,a){return(r=_a(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function _a(e){var r=Ia(e,"string");return typeof r=="symbol"?r:r+""}function Ia(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function Ba(e,r){if(e==null)return{};var a,t,s=Ka(e,r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(t=0;t<n.length;t++)a=n[t],r.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ka(e,r){if(e==null)return{};var a={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;a[t]=e[t]}return a}var Wa=Math.PI/180,De=1e-5,er="angleAxis";function Va(e){var r=We(),a=l.useMemo(()=>{var{children:n}=e,c=Ba(e,Fa);return c},[e]),t=E(n=>fe(n,a.id)),s=a===t;return l.useEffect(()=>(r(Ar(a)),()=>{r(Or(a))}),[r,a]),s?e.children:null}var qa=(e,r)=>{var{cx:a,cy:t,radius:s,orientation:n,tickSize:c}=r,o=c||8,u=w(a,t,s,e.coordinate),p=w(a,t,s+(n==="inner"?-1:1)*o,e.coordinate);return{x1:u.x,y1:u.y,x2:p.x,y2:p.y}},Ga=(e,r)=>{var a=Math.cos(-e.coordinate*Wa);return a>De?r==="outer"?"start":"end":a<-De?r==="outer"?"end":"start":"middle"},za=e=>{var{cx:r,cy:a,radius:t,axisLineType:s,axisLine:n,ticks:c}=e;if(!n)return null;var o=N(N({},x(e,!1)),{},{fill:"none"},x(n,!1));if(s==="circle")return l.createElement(Je,I({className:"recharts-polar-angle-axis-line"},o,{cx:r,cy:a,r:t}));var u=c.map(p=>w(r,a,t,p.coordinate));return l.createElement(Ze,I({className:"recharts-polar-angle-axis-line"},o,{points:u}))},Ha=e=>{var{tick:r,tickProps:a,value:t}=e;return r?l.isValidElement(r)?l.cloneElement(r,a):typeof r=="function"?r(a):l.createElement(Ge,I({},a,{className:"recharts-polar-angle-axis-tick-value"}),t):null},Ja=e=>{var{tick:r,tickLine:a,tickFormatter:t,stroke:s,ticks:n}=e,c=x(e,!1),o=x(r,!1),u=N(N({},c),{},{fill:"none"},x(a,!1)),p=n.map((f,d)=>{var y=qa(f,e),g=Ga(f,e.orientation),m=N(N(N({textAnchor:g},c),{},{stroke:"none",fill:s},o),{},{index:d,payload:f,x:y.x2,y:y.y2});return l.createElement(F,I({className:B("recharts-polar-angle-axis-tick",qe(r)),key:"tick-".concat(f.coordinate)},Ve(e,f,d)),a&&l.createElement("line",I({className:"recharts-polar-angle-axis-tick-line"},u,y)),l.createElement(Ha,{tick:r,tickProps:m,value:t?t(f.value,d):f.value}))});return l.createElement(F,{className:"recharts-polar-angle-axis-ticks"},p)},Za=e=>{var{angleAxisId:r}=e,a=E(ae),t=E(o=>H(o,"angleAxis",r)),s=ze(),n=E(o=>J(o,"angleAxis",r,s));if(a==null||!n||!n.length)return null;var c=N(N(N({},e),{},{scale:t},a),{},{radius:a.outerRadius});return l.createElement(F,{className:B("recharts-polar-angle-axis",er,c.className)},l.createElement(za,I({},c,{ticks:n})),l.createElement(Ja,I({},c,{ticks:n})))};class se extends l.PureComponent{render(){return this.props.radius<=0?null:l.createElement(Va,{id:this.props.angleAxisId,scale:this.props.scale,type:this.props.type,dataKey:this.props.dataKey,unit:void 0,name:this.props.name,allowDuplicatedCategory:!1,allowDataOverflow:!1,reversed:this.props.reversed,includeHidden:!1,allowDecimals:this.props.allowDecimals,tickCount:this.props.tickCount,ticks:this.props.ticks,tick:this.props.tick,domain:this.props.domain},l.createElement(Za,this.props))}}ie(se,"displayName","PolarAngleAxis");ie(se,"axisType",er);ie(se,"defaultProps",Sr);var Ua=e=>l.createElement(Er,e);function Te(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function Q(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Te(Object(a),!0).forEach(function(t){Xa(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function Xa(e,r,a){return(r=Ya(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function Ya(e){var r=Qa(e,"string");return typeof r=="symbol"?r:r+""}function Qa(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}var rr=(e,r)=>H(e,"radiusAxis",r),et=S([rr],e=>{if(e!=null)return{scale:e}}),rt=S([_e,rr],(e,r)=>{if(!(e==null||r==null))return Q(Q({},e),{},{scale:r})}),at=(e,r,a,t)=>J(e,"radiusAxis",r,t),ar=(e,r,a)=>fe(e,a),tr=(e,r,a)=>H(e,"angleAxis",a),tt=S([ar,tr],(e,r)=>{if(!(e==null||r==null))return Q(Q({},e),{},{scale:r})}),nt=(e,r,a,t)=>J(e,"angleAxis",a,t),it=S([ar,tr,ae],(e,r,a)=>{if(!(a==null||r==null))return{scale:r,type:e.type,dataKey:e.dataKey,cx:a.cx,cy:a.cy}}),st=(e,r,a,t,s)=>s,lt=S([re,rt,at,tt,nt],(e,r,a,t,s)=>kr(e,"radiusAxis")?je(r,a,!1):je(t,s,!1)),ot=S([qr,st],(e,r)=>{if(e.some(a=>a.type==="radar"&&r===a.dataKey))return r}),ct=S([et,it,wr,ot,lt],(e,r,a,t,s)=>{var{chartData:n,dataStartIndex:c,dataEndIndex:o}=a;if(!(e==null||r==null||n==null||s==null||t==null)){var u=n.slice(c,o+1);return yt({radiusAxis:e,angleAxis:r,displayedData:u,dataKey:t,bandSize:s})}});function Le(e,r){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);r&&(t=t.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,t)}return a}function A(e){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{};r%2?Le(Object(a),!0).forEach(function(t){he(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Le(Object(a)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function he(e,r,a){return(r=ut(r))in e?Object.defineProperty(e,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[r]=a,e}function ut(e){var r=dt(e,"string");return typeof r=="symbol"?r:r+""}function dt(e,r){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var t=a.call(e,r);if(typeof t!="object")return t;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(e)}function X(){return X=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var t in a)({}).hasOwnProperty.call(a,t)&&(e[t]=a[t])}return e},X.apply(null,arguments)}function ge(e,r){return e&&e!=="none"?e:r}var pt=e=>{var{dataKey:r,name:a,stroke:t,fill:s,legendType:n,hide:c}=e;return[{inactive:c,dataKey:r,type:n,color:ge(t,s),value:He(a,r),payload:e}]};function mt(e){var{dataKey:r,stroke:a,strokeWidth:t,fill:s,name:n,hide:c,tooltipType:o}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:t,fill:s,nameKey:void 0,dataKey:r,name:He(n,r),hide:c,type:o,color:ge(a,s),unit:""}}}function ft(e,r){var a;return l.isValidElement(e)?a=l.cloneElement(e,r):typeof e=="function"?a=e(r):a=l.createElement(Je,X({},r,{className:B("recharts-radar-dot",typeof e!="boolean"?e.className:"")})),a}function yt(e){var{radiusAxis:r,angleAxis:a,displayedData:t,dataKey:s,bandSize:n}=e,{cx:c,cy:o}=a,u=!1,p=[],f=a.type!=="number"?n??0:0;t.forEach((y,g)=>{var m=Pe(y,a.dataKey,g),P=Pe(y,s),M=a.scale(m)+f,b=Array.isArray(P)?Cr(P):P,h=be(b)?void 0:r.scale(b);Array.isArray(P)&&P.length>=2&&(u=!0),p.push(A(A({},w(c,o,h,M)),{},{name:m,value:P,cx:c,cy:o,radius:h,angle:M,payload:y}))});var d=[];return u&&p.forEach(y=>{if(Array.isArray(y.value)){var g=y.value[0],m=be(g)?void 0:r.scale(g);d.push(A(A({},y),{},{radius:m},w(c,o,m,y.angle)))}else d.push(y)}),{points:p,isRange:u,baseLinePoints:d}}function vt(e){var{points:r,props:a}=e,{dot:t,dataKey:s}=a;if(!t)return null;var n=x(a,!1),c=x(t,!0),o=r.map((u,p)=>{var f=A(A(A({key:"dot-".concat(p),r:3},n),c),{},{dataKey:s,cx:u.x,cy:u.y,index:p,payload:u});return ft(t,f)});return l.createElement(F,{className:"recharts-radar-dots"},o)}function nr(e){var{points:r,props:a,showLabels:t}=e;if(r==null)return null;var{shape:s,isRange:n,baseLinePoints:c,connectNulls:o}=a,u=d=>{var{onMouseEnter:y}=a;y&&y(a,d)},p=d=>{var{onMouseLeave:y}=a;y&&y(a,d)},f;return l.isValidElement(s)?f=l.cloneElement(s,A(A({},a),{},{points:r})):typeof s=="function"?f=s(A(A({},a),{},{points:r})):f=l.createElement(Ze,X({},x(a,!0),{onMouseEnter:u,onMouseLeave:p,points:r,baseLinePoints:n?c:null,connectNulls:o})),l.createElement(F,{className:"recharts-radar-polygon"},f,l.createElement(vt,{props:a,points:r}),t&&Tr.renderCallByParent(a,r))}function ht(e){var{props:r,previousPointsRef:a}=e,{points:t,isAnimationActive:s,animationBegin:n,animationDuration:c,animationEasing:o,onAnimationEnd:u,onAnimationStart:p}=r,f=a.current,d=Mr(r,"recharts-radar-"),[y,g]=l.useState(!0),m=l.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),P=l.useCallback(()=>{typeof p=="function"&&p(),g(!0)},[p]);return l.createElement(Dr,{begin:n,duration:c,isActive:s,easing:o,from:{t:0},to:{t:1},key:"radar-".concat(d),onAnimationEnd:m,onAnimationStart:P},M=>{var{t:b}=M,h=f&&f.length/t.length,D=b===1?t:t.map((O,q)=>{var v=f&&f[Math.floor(q*h)];if(v){var j=Y(v.x,O.x),T=Y(v.y,O.y);return A(A({},O),{},{x:j(b),y:T(b)})}var k=Y(O.cx,O.x),K=Y(O.cy,O.y);return A(A({},O),{},{x:k(b),y:K(b)})});return b>0&&(a.current=D),l.createElement(nr,{points:D,props:r,showLabels:!y})})}function gt(e){var{points:r,isAnimationActive:a,isRange:t}=e,s=l.useRef(void 0),n=s.current;return a&&r&&r.length&&!t&&(!n||n!==r)?l.createElement(ht,{props:e,previousPointsRef:s}):l.createElement(nr,{points:r,props:e,showLabels:!0})}var xt={angleAxisId:0,radiusAxisId:0,hide:!1,activeDot:!0,dot:!1,legendType:"rect",isAnimationActive:!Lr.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"};class jt extends l.PureComponent{render(){var{hide:r,className:a,points:t}=this.props;if(r)return null;var s=B("recharts-radar",a);return l.createElement(l.Fragment,null,l.createElement(F,{className:s},l.createElement(gt,this.props)),l.createElement(zr,{points:t,mainColor:ge(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}function Pt(e){var r=ze(),a=E(t=>ct(t,e.radiusAxisId,e.angleAxisId,r,e.dataKey));return l.createElement(jt,X({},e,{points:a?.points,baseLinePoints:a?.baseLinePoints,isRange:a?.isRange}))}class ee extends l.PureComponent{render(){return l.createElement(l.Fragment,null,l.createElement(Ua,{data:void 0,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:this.props.angleAxisId,radiusAxisId:this.props.radiusAxisId,stackId:void 0,barSize:void 0,type:"radar"}),l.createElement(Rr,{legendPayload:pt(this.props)}),l.createElement(Nr,{fn:mt,args:this.props}),l.createElement(Pt,this.props))}}he(ee,"displayName","Radar");he(ee,"defaultProps",xt);var bt=["axis"],At={layout:"centric",startAngle:90,endAngle:-270,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ot=l.forwardRef((e,r)=>{var a=$r(e,At);return l.createElement(Gr,{chartName:"RadarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:bt,tooltipPayloadSearcher:Fr,categoricalChartProps:a,ref:r})});function St(){const{data:e,isLoading:r,error:a}=or(),{data:t,isLoading:s,error:n}=cr(),c=l.useMemo(()=>e?.playerStats?e.playerStats.filter(u=>u.gamesPlayed>=10).sort((u,p)=>p.gamesPlayed-u.gamesPlayed).map(u=>u.player):[],[e]),o=l.useMemo(()=>(u,p)=>{if(!e?.playerStats||!t)return null;const f=e.playerStats.find(v=>v.player===u),d=e.playerStats.find(v=>v.player===p);if(!f||!d)return null;const y=Math.max(...e.playerStats.map(v=>v.gamesPlayed)),g=e.playerStats.reduce((v,j)=>v+parseFloat(j.winPercent),0)/e.playerStats.length,m=[];let P=0,M=0,b=0,h=0;t.forEach(v=>{const j=xe(v["Liste des joueurs"]?.toString()),T=xe(v["Liste des gagnants"]?.toString()),k=j.some(L=>L.toLowerCase()===u.toLowerCase()),K=j.some(L=>L.toLowerCase()===p.toLowerCase());if(k&&K){m.push(v);const L=T.some($=>$.toLowerCase()===u.toLowerCase()),V=T.some($=>$.toLowerCase()===p.toLowerCase());L&&P++,V&&M++;const W=ur(v.Début,v.Fin);W!==null&&(b+=W,h++)}});const D=v=>{const j=parseFloat(v.winPercent),T=Object.values(v.camps).reduce((ir,sr)=>ir+sr,0),k=v.camps.Villageois||0,K=v.camps.Loups||0,L=T-k-K,V=k>0?Math.min(100,j*1.2):0,W=K>0?Math.min(100,j*.8):0,$=L>0?Math.min(100,j*1.1):0;return{player:v.player,participationScore:v.gamesPlayed/y*100,winRateScore:Math.min(100,j/g*50),consistencyScore:Math.max(0,100-Math.abs(j-g)*2),villageoisMastery:V,loupsEfficiency:W,specialRoleAdaptability:$,gamesPlayed:v.gamesPlayed,winRate:j,avgGameDuration:h>0?b/h:0,commonGames:m.length,winRateVsOpponent:m.length>0?j:0}},O=D(f),q=D(d);return{player1:O,player2:q,headToHeadStats:{commonGames:m.length,player1Wins:P,player2Wins:M,averageGameDuration:h>0?dr(b/h):"N/A"}}},[e,t]);return{availablePlayers:c,generateComparison:o,isLoading:r||s,error:a||n}}function Lt(){const{availablePlayers:e,generateComparison:r,isLoading:a,error:t}=St(),{navigateToGameDetails:s}=lr(),[n,c]=l.useState(""),[o,u]=l.useState(""),[p,f]=l.useState(!1),d=l.useMemo(()=>!n||!o||n===o?null:r(n,o),[n,o,r]),y=l.useMemo(()=>d?[{metric:"Participation",[n]:Math.round(d.player1.participationScore),[o]:Math.round(d.player2.participationScore),fullMark:100},{metric:"Taux de Victoire",[n]:Math.round(d.player1.winRateScore),[o]:Math.round(d.player2.winRateScore),fullMark:100},{metric:"Consistance",[n]:Math.round(d.player1.consistencyScore),[o]:Math.round(d.player2.consistencyScore),fullMark:100},{metric:"Maîtrise Villageois",[n]:Math.round(d.player1.villageoisMastery),[o]:Math.round(d.player2.villageoisMastery),fullMark:100},{metric:"Efficacité Loups",[n]:Math.round(d.player1.loupsEfficiency),[o]:Math.round(d.player2.loupsEfficiency),fullMark:100},{metric:"Adaptabilité Rôles",[n]:Math.round(d.player1.specialRoleAdaptability),[o]:Math.round(d.player2.specialRoleAdaptability),fullMark:100}]:[],[d,n,o]),g=m=>{s({selectedPlayer:m,fromComponent:"Comparaison de Joueurs"})};return a?i.jsx("div",{className:"donnees-attente",children:"Chargement des données de comparaison..."}):t?i.jsxs("div",{className:"donnees-probleme",children:["Erreur: ",t]}):i.jsxs("div",{className:"lycans-player-comparison",children:[i.jsx("h2",{children:"Comparaison de Joueurs"}),i.jsx("p",{className:"lycans-stats-info",children:"Comparez les performances de deux joueurs à travers différents aspects du jeu"}),i.jsxs("div",{className:"lycans-player-selection",children:[i.jsxs("div",{className:"lycans-player-selector",children:[i.jsx("label",{htmlFor:"player1-select",children:"Joueur 1:"}),i.jsxs("select",{id:"player1-select",value:n,onChange:m=>c(m.target.value),className:"lycans-select",children:[i.jsx("option",{value:"",children:"Sélectionner un joueur"}),e.map(m=>i.jsx("option",{value:m,children:m},m))]})]}),i.jsx("div",{className:"lycans-vs-indicator",children:"VS"}),i.jsxs("div",{className:"lycans-player-selector",children:[i.jsx("label",{htmlFor:"player2-select",children:"Joueur 2:"}),i.jsxs("select",{id:"player2-select",value:o,onChange:m=>u(m.target.value),className:"lycans-select",children:[i.jsx("option",{value:"",children:"Sélectionner un joueur"}),e.filter(m=>m!==n).map(m=>i.jsx("option",{value:m,children:m},m))]})]})]}),d&&i.jsxs("div",{className:"lycans-comparison-results",children:[i.jsxs("div",{className:"lycans-graphique-section",children:[i.jsx("h3",{children:"Comparaison Radar"}),i.jsxs("div",{className:"lycans-radar-explanation",children:[i.jsxs("p",{className:"lycans-radar-info",children:[i.jsx("strong",{children:"Légende des métriques :"})," Toutes les valeurs sont normalisées sur une échelle de 0 à 100 pour faciliter la comparaison."]}),i.jsxs("div",{className:"lycans-metrics-grid",children:[i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"🎯 Participation"}),i.jsx("span",{className:"lycans-metric-desc",children:"Nombre de parties jouées par rapport au joueur le plus actif"})]}),i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"🏆 Taux de Victoire"}),i.jsx("span",{className:"lycans-metric-desc",children:"Pourcentage de victoires comparé à la moyenne générale"})]}),i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"📊 Consistance"}),i.jsx("span",{className:"lycans-metric-desc",children:"Régularité des performances (moins de variation = plus consistant)"})]}),i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"🏘️ Maîtrise Villageois"}),i.jsx("span",{className:"lycans-metric-desc",children:"Efficacité estimée en tant que Villageois"})]}),i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"🐺 Efficacité Loups"}),i.jsx("span",{className:"lycans-metric-desc",children:"Efficacité estimée en tant que Loup"})]}),i.jsxs("div",{className:"lycans-metric-info",children:[i.jsx("span",{className:"lycans-metric-name",children:"🎭 Adaptabilité Rôles"}),i.jsx("span",{className:"lycans-metric-desc",children:"Performance avec les rôles spéciaux"})]})]})]}),i.jsx(_r,{title:`Comparaison: ${n} vs ${o}`,children:i.jsx("div",{style:{height:500},children:i.jsx(Ir,{width:"100%",height:"100%",children:i.jsxs(Ot,{data:y,margin:{top:40,right:80,bottom:40,left:80},children:[i.jsx(Xe,{gridType:"polygon"}),i.jsx(se,{dataKey:"metric",fontSize:12,tick:{fill:"var(--text-primary)",fontSize:11}}),i.jsx(ne,{angle:0,domain:[0,100],fontSize:10,tick:{fill:"var(--text-secondary)",fontSize:10},tickCount:6}),i.jsx(ee,{name:n,dataKey:n,stroke:R[n]||"#0076FF",fill:R[n]||"#0076FF",fillOpacity:.1,strokeWidth:3,dot:{fill:R[n]||"#0076FF",strokeWidth:2,r:4}}),i.jsx(ee,{name:o,dataKey:o,stroke:R[o]||"#FF0000",fill:R[o]||"#FF0000",fillOpacity:.1,strokeWidth:3,dot:{fill:R[o]||"#FF0000",strokeWidth:2,r:4}}),i.jsx(Hr,{wrapperStyle:{paddingTop:"20px",fontSize:"14px",fontWeight:"bold"},iconType:"line"}),i.jsx(Br,{formatter:(m,P)=>[`${m}/100`,P],labelFormatter:m=>`${m}`,contentStyle:{backgroundColor:"var(--bg-secondary)",border:"1px solid var(--border-color)",borderRadius:"6px",color:"var(--text-primary)"}})]})})})})]}),i.jsxs("div",{className:"lycans-head-to-head-stats",children:[i.jsx("h3",{children:"Statistiques Face-à-Face"}),i.jsxs("div",{className:"lycans-h2h-summary",children:[i.jsxs("div",{className:"lycans-h2h-metric",children:[i.jsx("span",{className:"lycans-h2h-label",children:"Parties communes:"}),i.jsx("span",{className:"lycans-h2h-value",children:d.headToHeadStats.commonGames})]}),i.jsxs("div",{className:"lycans-h2h-metric",children:[i.jsxs("span",{className:"lycans-h2h-label",children:["Victoires ",n,":"]}),i.jsx("span",{className:"lycans-h2h-value",style:{color:R[n]||"#0076FF"},children:d.headToHeadStats.player1Wins})]}),i.jsxs("div",{className:"lycans-h2h-metric",children:[i.jsxs("span",{className:"lycans-h2h-label",children:["Victoires ",o,":"]}),i.jsx("span",{className:"lycans-h2h-value",style:{color:R[o]||"#FF0000"},children:d.headToHeadStats.player2Wins})]}),i.jsxs("div",{className:"lycans-h2h-metric",children:[i.jsx("span",{className:"lycans-h2h-label",children:"Durée moyenne:"}),i.jsx("span",{className:"lycans-h2h-value",children:d.headToHeadStats.averageGameDuration})]})]})]}),i.jsxs("div",{className:"lycans-detailed-stats",children:[i.jsx("div",{className:"lycans-stats-toggle",children:i.jsxs("button",{className:`lycans-toggle-btn ${p?"active":""}`,onClick:()=>f(!p),children:[p?"Masquer":"Afficher"," les Statistiques Détaillées"]})}),p&&i.jsx("div",{className:"lycans-stats-table",children:i.jsxs("table",{children:[i.jsx("thead",{children:i.jsxs("tr",{children:[i.jsx("th",{children:"Métrique"}),i.jsx("th",{style:{color:R[n]||"#0076FF",cursor:"pointer"},onClick:()=>g(n),title:"Cliquer pour voir les détails",children:n}),i.jsx("th",{style:{color:R[o]||"#FF0000",cursor:"pointer"},onClick:()=>g(o),title:"Cliquer pour voir les détails",children:o})]})}),i.jsxs("tbody",{children:[i.jsxs("tr",{children:[i.jsx("td",{children:"Parties Jouées"}),i.jsx("td",{children:d.player1.gamesPlayed}),i.jsx("td",{children:d.player2.gamesPlayed})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Taux de Victoire (%)"}),i.jsxs("td",{children:[d.player1.winRate.toFixed(1),"%"]}),i.jsxs("td",{children:[d.player2.winRate.toFixed(1),"%"]})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Score de Participation (/100)"}),i.jsx("td",{children:Math.round(d.player1.participationScore)}),i.jsx("td",{children:Math.round(d.player2.participationScore)})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Score de Consistance (/100)"}),i.jsx("td",{children:Math.round(d.player1.consistencyScore)}),i.jsx("td",{children:Math.round(d.player2.consistencyScore)})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Maîtrise Villageois (/100)"}),i.jsx("td",{children:Math.round(d.player1.villageoisMastery)}),i.jsx("td",{children:Math.round(d.player2.villageoisMastery)})]}),i.jsxs("tr",{children:[i.jsx("td",{children:"Efficacité Loups (/100)"}),i.jsx("td",{children:Math.round(d.player1.loupsEfficiency)}),i.jsx("td",{children:Math.round(d.player2.loupsEfficiency)})]})]})]})})]})]}),(!n||!o)&&i.jsxs("div",{className:"lycans-comparison-instructions",children:[i.jsx("h3",{children:"Instructions"}),i.jsx("p",{children:"Sélectionnez deux joueurs différents pour voir leur comparaison détaillée."}),i.jsxs("ul",{children:[i.jsxs("li",{children:[i.jsx("strong",{children:"Participation:"})," Basé sur le nombre de parties jouées"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Taux de Victoire:"})," Comparé à la moyenne générale"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Consistance:"})," Régularité des performances"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Maîtrise Villageois:"})," Efficacité en tant que Villageois"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Efficacité Loups:"})," Réussite en tant que Loup"]}),i.jsxs("li",{children:[i.jsx("strong",{children:"Adaptabilité Rôles:"})," Performance avec les rôles spéciaux"]})]})]}),n&&o&&n===o&&i.jsx("div",{className:"lycans-comparison-error",children:i.jsx("p",{children:"Veuillez sélectionner deux joueurs différents pour effectuer une comparaison."})})]})}export{Lt as PlayerComparisonChart};
